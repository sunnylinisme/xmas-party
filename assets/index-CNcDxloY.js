(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Id={exports:{}},fo={};var x_;function vb(){if(x_)return fo;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var N_;function Eb(){return N_||(N_=1,Id.exports=vb()),Id.exports}var D=Eb(),Cd={exports:{}},St={};var D_;function Tb(){if(D_)return St;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,J={};function mt(O,Y,tt){this.props=O,this.context=Y,this.refs=J,this.updater=tt||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=mt.prototype;function yt(O,Y,tt){this.props=O,this.context=Y,this.refs=J,this.updater=tt||W}var Kt=yt.prototype=new Et;Kt.constructor=yt,st(Kt,mt.prototype),Kt.isPureReactComponent=!0;var le=Array.isArray;function Nt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Y,tt){var at=tt.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:tt}}function V(O,Y){return I(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Y[tt]})}var w=/\/+/g;function ne(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function Zt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Nt,Nt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,tt,at,vt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(wt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case r:case t:Vt=!0;break;case b:return Vt=O._init,H(Vt(O._payload),Y,tt,at,vt)}}if(Vt)return vt=vt(O),Vt=at===""?"."+ne(O,0):at,le(vt)?(tt="",Vt!=null&&(tt=Vt.replace(w,"$&/")+"/"),H(vt,Y,tt,"",function(ji){return ji})):vt!=null&&(x(vt)&&(vt=V(vt,tt+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Vt)),Y.push(vt)),1;Vt=0;var Te=at===""?".":at+":";if(le(O))for(var ue=0;ue<O.length;ue++)at=O[ue],wt=Te+ne(at,ue),Vt+=H(at,Y,tt,wt,vt);else if(ue=F(O),typeof ue=="function")for(O=ue.call(O),ue=0;!(at=O.next()).done;)at=at.value,wt=Te+ne(at,ue++),Vt+=H(at,Y,tt,wt,vt);else if(wt==="object"){if(typeof O.then=="function")return H(Zt(O),Y,tt,at,vt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(O,Y,tt){if(O==null)return O;var at=[],vt=0;return H(O,at,"","",function(wt){return Y.call(tt,wt,vt++)}),at}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Dt={map:nt,forEach:function(O,Y,tt){nt(O,function(){Y.apply(this,arguments)},tt)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=S,St.Children=Dt,St.Component=mt,St.Fragment=i,St.Profiler=o,St.PureComponent=yt,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Y,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=st({},O.props),vt=O.key;if(Y!=null)for(wt in Y.key!==void 0&&(vt=""+Y.key),Y)!A.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(at[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)at.children=tt;else if(1<wt){for(var Vt=Array(wt),Te=0;Te<wt;Te++)Vt[Te]=arguments[Te+2];at.children=Vt}return I(O.type,vt,at)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,Y,tt){var at,vt={},wt=null;if(Y!=null)for(at in Y.key!==void 0&&(wt=""+Y.key),Y)A.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=Y[at]);var Vt=arguments.length-2;if(Vt===1)vt.children=tt;else if(1<Vt){for(var Te=Array(Vt),ue=0;ue<Vt;ue++)Te[ue]=arguments[ue+2];vt.children=Te}if(O&&O.defaultProps)for(at in Vt=O.defaultProps,Vt)vt[at]===void 0&&(vt[at]=Vt[at]);return I(O,wt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:g,render:O}},St.isValidElement=x,St.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=C.T,tt={};C.T=tt;try{var at=O(),vt=C.S;vt!==null&&vt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Nt,jt)}catch(wt){jt(wt)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),C.T=Y}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(O){return C.H.use(O)},St.useActionState=function(O,Y,tt){return C.H.useActionState(O,Y,tt)},St.useCallback=function(O,Y){return C.H.useCallback(O,Y)},St.useContext=function(O){return C.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y){return C.H.useEffect(O,Y)},St.useEffectEvent=function(O){return C.H.useEffectEvent(O)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(O,Y,tt){return C.H.useImperativeHandle(O,Y,tt)},St.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return C.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,tt){return C.H.useReducer(O,Y,tt)},St.useRef=function(O){return C.H.useRef(O)},St.useState=function(O){return C.H.useState(O)},St.useSyncExternalStore=function(O,Y,tt){return C.H.useSyncExternalStore(O,Y,tt)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.1",St}var O_;function vm(){return O_||(O_=1,Cd.exports=Tb()),Cd.exports}var Yt=vm(),xd={exports:{}},mo={},Nd={exports:{}},Dd={};var M_;function bb(){return M_||(M_=1,(function(r){function t(H,nt){var ft=H.length;H.push(nt);t:for(;0<ft;){var jt=ft-1>>>1,Dt=H[jt];if(0<o(Dt,nt))H[jt]=nt,H[ft]=Dt,ft=jt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ft=H.pop();if(ft!==nt){H[0]=ft;t:for(var jt=0,Dt=H.length,O=Dt>>>1;jt<O;){var Y=2*(jt+1)-1,tt=H[Y],at=Y+1,vt=H[at];if(0>o(tt,ft))at<Dt&&0>o(vt,tt)?(H[jt]=vt,H[at]=ft,jt=at):(H[jt]=tt,H[Y]=ft,jt=Y);else if(at<Dt&&0>o(vt,ft))H[jt]=vt,H[at]=ft,jt=at;else break t}}return nt}function o(H,nt){var ft=H.sortIndex-nt.sortIndex;return ft!==0?ft:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,S=null,M=3,F=!1,W=!1,st=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Kt(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=H)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function le(H){if(st=!1,Kt(H),!W)if(i(_)!==null)W=!0,Nt||(Nt=!0,U());else{var nt=i(y);nt!==null&&Zt(le,nt.startTime-H)}}var Nt=!1,C=-1,A=5,I=-1;function V(){return J?!0:!(r.unstable_now()-I<A)}function x(){if(J=!1,Nt){var H=r.unstable_now();I=H;var nt=!0;try{t:{W=!1,st&&(st=!1,Et(C),C=-1),F=!0;var ft=M;try{e:{for(Kt(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var jt=S.callback;if(typeof jt=="function"){S.callback=null,M=S.priorityLevel;var Dt=jt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Dt=="function"){S.callback=Dt,Kt(H),nt=!0;break e}S===i(_)&&a(_),Kt(H)}else a(_);S=i(_)}if(S!==null)nt=!0;else{var O=i(y);O!==null&&Zt(le,O.startTime-H),nt=!1}}break t}finally{S=null,M=ft,F=!1}nt=void 0}}finally{nt?U():Nt=!1}}}var U;if(typeof yt=="function")U=function(){yt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=x,U=function(){ne.postMessage(null)}}else U=function(){mt(x,0)};function Zt(H,nt){C=mt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ft=M;M=nt;try{return H()}finally{M=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=M;M=H;try{return nt()}finally{M=ft}},r.unstable_scheduleCallback=function(H,nt,ft){var jt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?jt+ft:jt):ft=jt,H){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ft+Dt,H={id:b++,callback:nt,priorityLevel:H,startTime:ft,expirationTime:Dt,sortIndex:-1},ft>jt?(H.sortIndex=ft,t(y,H),i(_)===null&&H===i(y)&&(st?(Et(C),C=-1):st=!0,Zt(le,ft-jt))):(H.sortIndex=Dt,t(_,H),W||F||(W=!0,Nt||(Nt=!0,U()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var nt=M;return function(){var ft=M;M=nt;try{return H.apply(this,arguments)}finally{M=ft}}}})(Dd)),Dd}var V_;function Sb(){return V_||(V_=1,Nd.exports=bb()),Nd.exports}var Od={exports:{}},nn={};var k_;function Ab(){if(k_)return nn;k_=1;var r=vm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},nn.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.1",nn}var U_;function wb(){if(U_)return Od.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Ab(),Od.exports}var L_;function Rb(){if(L_)return mo;L_=1;var r=Sb(),t=vm(),i=wb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case mt:return"Profiler";case J:return"StrictMode";case le:return"Suspense";case Nt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Zt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},jt=[],Dt=-1;function O(e){return{current:e}}function Y(e){0>Dt||(e.current=jt[Dt],jt[Dt]=null,Dt--)}function tt(e,n){Dt++,jt[Dt]=e.current,e.current=n}var at=O(null),vt=O(null),wt=O(null),Vt=O(null);function Te(e,n){switch(tt(wt,n),tt(vt,e),tt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),tt(at,e)}function ue(){Y(at),Y(vt),Y(wt)}function ji(e){e.memoizedState!==null&&tt(Vt,e);var n=at.current,s=Wy(n,e.type);n!==s&&(tt(vt,e),tt(at,s))}function Tn(e){vt.current===e&&(Y(at),Y(vt)),Vt.current===e&&(Y(Vt),oo._currentValue=ft)}var en,Z;function it(e){if(en===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",Z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+e+Z}var Bt=!1;function rt(e,n){if(!e||Bt)return"";Bt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{Bt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?it(s):""}function ht(e,n){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==n&&n!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return it("Activity");default:return""}}function Gt(e){try{var n="",s=null;do n+=ht(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,ce=r.unstable_scheduleCallback,_e=r.unstable_cancelCallback,ui=r.unstable_shouldYield,Yo=r.unstable_requestPaint,un=r.unstable_now,mr=r.unstable_getCurrentPriorityLevel,hl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Ko=r.unstable_IdlePriority,Xo=r.log,$o=r.unstable_setDisableYieldValue,Qn=null,Qe=null;function On(e){if(typeof Xo=="function"&&$o(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Qn,e)}catch{}}var be=Math.clz32?Math.clz32:Jo,Zo=Math.log,ta=Math.LN2;function Jo(e){return e>>>=0,e===0?32:31-(Zo(e)/ta|0)|0}var ci=256,pr=262144,Ie=4194304;function hi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=hi(l):(p&=E,p!==0?h=hi(p):s||(s=E&~e,s!==0&&(h=hi(s))))):(E=l&~f,E!==0?h=hi(E):p!==0?h=hi(p):s||(s=l&~e,s!==0&&(h=hi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function di(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-be(s),K=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&yr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function yr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-be(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ml(e,n){var s=n&-n;return s=(s&42)!==0?1:_r(s),(s&(e.suspendedLanes|n))!==0?0:s}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function Kn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Xn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Xn,Be="__reactProps$"+Xn,mi="__reactContainer$"+Xn,ea="__reactEvents$"+Xn,Oh="__reactListeners$"+Xn,eu="__reactHandles$"+Xn,nu="__reactResources$"+Xn,pi="__reactMarker$"+Xn;function na(e){delete e[Ce],delete e[Be],delete e[ea],delete e[Oh],delete e[eu]}function gi(e){var n=e[Ce];if(n)return n;for(var s=e.parentNode;s;){if(n=s[mi]||s[Ce]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Ce])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[Ce]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yi(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[pi]=!0}var pl=new Set,gl={};function _i(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(gl[e]=n,e=0;e<n.length;e++)pl.add(n[e])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function iu(e){return xt.call(vl,e)?!0:xt.call(_l,e)?!1:yl.test(e)?vl[e]=!0:(_l[e]=!0,!1)}function ia(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Sn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ps(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=ps(e)?"checked":"value";e._valueTracker=El(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ps(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function fn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,p,qe(n)):s!=null?Tl(e,p,qe(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function su(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Wt(e)}function Tl(e,n,s){n==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function gs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function ys(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Zt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Wt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&bl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&bl(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Al=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,Ti=null;function Tr(e){var n=Mn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Be]||null;if(!h)throw Error(a(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&vr(l)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&gs(e,!!s.multiple,n,!1)}}}var la=!1;function Es(e,n,s){if(la)return e(n,s);la=!0;try{var l=e(n);return l}finally{if(la=!1,(vs!==null||Ti!==null)&&(tc(),vs&&(n=vs,e=Ti,Ti=vs=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(kn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){br=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{br=!1}var bi=null,wl=null,Sr=null;function Rl(){if(Sr)return Sr;var e,n=wl,s=n.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Sr=h.slice(e,1<l?1-l:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qi(){return!0}function Jn(){return!1}function Ye(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Jn,this.isPropagationStopped=Jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ye(Hi),Ts=S({},Hi,{view:0,detail:0}),Il=Ye(Ts),bs,oa,Ai,ua=S({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(bs=e.screenX-Ai.screenX,oa=e.screenY-Ai.screenY):oa=bs=0,Ai=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Cl=Ye(ua),wr=S({},ua,{dataTransfer:0}),ou=Ye(wr),uu=S({},Ts,{relatedTarget:0}),Rr=Ye(uu),xl=S({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Ye(xl),ca=S({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=Ye(ca),fu=S({},Hi,{data:0}),wi=Ye(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function Ss(){return gu}var cn=S({},Ts,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Ye(cn),_u=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ye(_u),u=S({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Ye(u),v=S({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ye(v),L=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ye(L),et=S({},Hi,{newState:0,oldState:0}),Rt=Ye(et),Se=[9,13,27,32],Xt=kn&&"CompositionEvent"in window,me=null;kn&&"documentMode"in document&&(me=document.documentMode);var Un=kn&&"TextEvent"in window&&!me,Ri=kn&&(!Xt||me&&8<me&&11>=me),Wn=" ",ti=!1;function Ir(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function HT(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function GT(e,n){if(fa)return e==="compositionend"||!Xt&&Ir(e,n)?(e=Rl(),Sr=wl=bi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!FT[e.type]:n==="textarea"}function cp(e,n,s,l){vs?Ti?Ti.push(l):Ti=[l]:vs=l,n=lc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function QT(e){Qy(e,0)}function vu(e){var n=bn(e);if(vr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(kn){var Mh;if(kn){var Vh="oninput"in document;if(!Vh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Vh=typeof dp.oninput=="function"}Mh=Vh}else Mh=!1;fp=Mh&&(!document.documentMode||9<document.documentMode)}function mp(){Nl&&(Nl.detachEvent("onpropertychange",pp),Dl=Nl=null)}function pp(e){if(e.propertyName==="value"&&vu(Dl)){var n=[];cp(n,Dl,e,Vn(e)),Es(QT,n)}}function YT(e,n,s){e==="focusin"?(mp(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function KT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Dl)}function XT(e,n){if(e==="click")return vu(n)}function $T(e,n){if(e==="input"||e==="change")return vu(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:ZT;function Ol(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!xt.call(n,h)||!An(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ei(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ei(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JT=kn&&"documentMode"in document&&11>=document.documentMode,da=null,Uh=null,Ml=null,Lh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||da==null||da!==Ei(l)||(l=da,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Ol(Ml,l)||(Ml=l,l=lc(Uh,"onSelect"),0<l.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=da)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ma={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Ph={},Tp={};kn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function xr(e){if(Ph[e])return Ph[e];if(!ma[e])return e;var n=ma[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Ph[e]=n[s];return e}var bp=xr("animationend"),Sp=xr("animationiteration"),Ap=xr("animationstart"),WT=xr("transitionrun"),t1=xr("transitionstart"),e1=xr("transitioncancel"),wp=xr("transitionend"),Rp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Rp.set(e,n),_i(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],pa=0,jh=0;function Tu(){for(var e=pa,n=jh=pa=0;n<e;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function bu(e,n,s,l){Ln[pa++]=e,Ln[pa++]=n,Ln[pa++]=s,Ln[pa++]=l,jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return bu(e,n,s,l),Su(e)}function Nr(e,n){return bu(e,null,null,n),Su(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<eo)throw eo=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function n1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,l){return new n1(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=lb(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=wn(31,s,n,h),e.elementType=I,e.lanes=f,e;case st:return Dr(s.children,h,f,n);case J:p=8,h|=24;break;case mt:return e=wn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case le:return e=wn(13,s,n,h),e.elementType=le,e.lanes=f,e;case Nt:return e=wn(19,s,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case Et:p=9;break t;case Kt:p=11;break t;case C:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=wn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Dr(e,n,s,l){return e=wn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function xp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=Np.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Gt(n)},Np.set(e,n),n)}return{value:e,source:n,stack:Gt(n)}}var ya=[],_a=0,wu=null,Vl=0,zn=[],jn=0,As=null,Ii=1,Ci="";function Qi(e,n){ya[_a++]=Vl,ya[_a++]=wu,wu=e,Vl=n}function Dp(e,n,s){zn[jn++]=Ii,zn[jn++]=Ci,zn[jn++]=As,As=e;var l=Ii;e=Ci;var h=32-be(l)-1;l&=~(1<<h),s+=1;var f=32-be(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ii=1<<32-be(n)+h|s<<h|l,Ci=f+e}else Ii=1<<f|s<<h|l,Ci=e}function Fh(e){e.return!==null&&(Qi(e,1),Dp(e,1,0))}function Qh(e){for(;e===wu;)wu=ya[--_a],ya[_a]=null,Vl=ya[--_a],ya[_a]=null;for(;e===As;)As=zn[--jn],zn[jn]=null,Ci=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null}function Op(e,n){zn[jn++]=Ii,zn[jn++]=Ci,zn[jn++]=As,Ii=n.id,Ci=n.overflow,As=e}var Ke=null,he=null,qt=!1,ws=null,Bn=!1,Yh=Error(a(519));function Rs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Pn(n,e)),Yh}function Mp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ce]=e,n[Be]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)Mt(io[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),su(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),ys(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Rs(e,!0)}function Vp(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ke=Ke.return}}function va(e){if(e!==Ke)return!1;if(!qt)return Vp(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&he&&Rs(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=r_(e)}else n===27?(n=he,js(e.type)?(e=yd,yd=null,he=e):he=n):he=Ke?Hn(e.stateNode.nextSibling):null;return!0}function Or(){he=Ke=null,qt=!1}function Kh(){var e=ws;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),ws=null),e}function kl(e){ws===null?ws=[e]:ws.push(e)}var Xh=O(null),Mr=null,Yi=null;function Is(e,n,s){tt(Xh,n._currentValue),n._currentValue=s}function Ki(e){e._currentValue=Xh.current,Y(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ea(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;An(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}h=h.return}e!==null&&Zh(n,e,s,l),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return kp(Mr,e)}function Iu(e,n){return Mr===null&&Vr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var i1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},s1=r.unstable_scheduleCallback,r1=r.unstable_NormalPriority,De={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new i1,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&s1(r1,function(){e.controller.abort()})}var Ll=null,Wh=0,Ta=0,ba=null;function a1(e,n){if(Ll===null){var s=Ll=[];Wh=0,Ta=id(),ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Up,Up),n}function Up(){if(--Wh===0&&Ll!==null){ba!==null&&(ba.status="fulfilled");var e=Ll;Ll=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=H.S;H.S=function(e,n){Ey=un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&a1(e,n),Lp!==null&&Lp(e,n)};var kr=O(null);function tf(){var e=kr.current;return e!==null?e:oe.pooledCache}function Cu(e,n){n===null?tt(kr,kr.current):tt(kr,n.pool)}function Pp(){var e=tf();return e===null?null:{parent:De._currentValue,pool:e}}var Sa=Error(a(460)),ef=Error(a(474)),xu=Error(a(542)),Nu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Lr=n,Sa}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,Sa):s}}var Lr=null;function Bp(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function qp(e){if(e===Sa||e===xu)throw Error(a(483))}var Aa=null,Pl=0;function Du(e){var n=Pl;return Pl+=1,Aa===null&&(Aa=[]),jp(Aa,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function s(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Fi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Q){return N===null||N.tag!==6?(N=Hh(P,k.mode,Q),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,Q){var dt=P.type;return dt===st?G(k,N,P.props.children,Q,P.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ur(dt)===N.type)?(N=h(N,P.props),zl(N,P),N.return=k,N):(N=Au(P.type,P.key,P.props,null,k.mode,Q),zl(N,P),N.return=k,N)}function z(k,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Gh(P,k.mode,Q),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function G(k,N,P,Q,dt){return N===null||N.tag!==7?(N=Dr(P,k.mode,Q,dt),N.return=k,N):(N=h(N,P),N.return=k,N)}function K(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return P=Au(N.type,N.key,N.props,null,k.mode,P),zl(P,N),P.return=k,P;case W:return N=Gh(N,k.mode,P),N.return=k,N;case A:return N=Ur(N),K(k,N,P)}if(Zt(N)||U(N))return N=Dr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return K(k,Du(N),P);if(N.$$typeof===yt)return K(k,Iu(k,N),P);Ou(k,N)}return null}function j(k,N,P,Q){var dt=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===dt?R(k,N,P,Q):null;case W:return P.key===dt?z(k,N,P,Q):null;case A:return P=Ur(P),j(k,N,P,Q)}if(Zt(P)||U(P))return dt!==null?null:G(k,N,P,Q,null);if(typeof P.then=="function")return j(k,N,Du(P),Q);if(P.$$typeof===yt)return j(k,N,Iu(k,P),Q);Ou(k,P)}return null}function q(k,N,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(N,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?P:Q.key)||null,R(N,k,Q,dt);case W:return k=k.get(Q.key===null?P:Q.key)||null,z(N,k,Q,dt);case A:return Q=Ur(Q),q(k,N,P,Q,dt)}if(Zt(Q)||U(Q))return k=k.get(P)||null,G(N,k,Q,dt,null);if(typeof Q.then=="function")return q(k,N,P,Du(Q),dt);if(Q.$$typeof===yt)return q(k,N,P,Iu(N,Q),dt);Ou(N,Q)}return null}function ot(k,N,P,Q){for(var dt=null,Ft=null,ut=N,Ct=N=0,Ut=null;ut!==null&&Ct<P.length;Ct++){ut.index>Ct?(Ut=ut,ut=null):Ut=ut.sibling;var Qt=j(k,ut,P[Ct],Q);if(Qt===null){ut===null&&(ut=Ut);break}e&&ut&&Qt.alternate===null&&n(k,ut),N=f(Qt,N,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt,ut=Ut}if(Ct===P.length)return s(k,ut),qt&&Qi(k,Ct),dt;if(ut===null){for(;Ct<P.length;Ct++)ut=K(k,P[Ct],Q),ut!==null&&(N=f(ut,N,Ct),Ft===null?dt=ut:Ft.sibling=ut,Ft=ut);return qt&&Qi(k,Ct),dt}for(ut=l(ut);Ct<P.length;Ct++)Ut=q(ut,k,Ct,P[Ct],Q),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Ct:Ut.key),N=f(Ut,N,Ct),Ft===null?dt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&ut.forEach(function(Fs){return n(k,Fs)}),qt&&Qi(k,Ct),dt}function gt(k,N,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Ft=null,ut=N,Ct=N=0,Ut=null,Qt=P.next();ut!==null&&!Qt.done;Ct++,Qt=P.next()){ut.index>Ct?(Ut=ut,ut=null):Ut=ut.sibling;var Fs=j(k,ut,Qt.value,Q);if(Fs===null){ut===null&&(ut=Ut);break}e&&ut&&Fs.alternate===null&&n(k,ut),N=f(Fs,N,Ct),Ft===null?dt=Fs:Ft.sibling=Fs,Ft=Fs,ut=Ut}if(Qt.done)return s(k,ut),qt&&Qi(k,Ct),dt;if(ut===null){for(;!Qt.done;Ct++,Qt=P.next())Qt=K(k,Qt.value,Q),Qt!==null&&(N=f(Qt,N,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return qt&&Qi(k,Ct),dt}for(ut=l(ut);!Qt.done;Ct++,Qt=P.next())Qt=q(ut,k,Ct,Qt.value,Q),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?Ct:Qt.key),N=f(Qt,N,Ct),Ft===null?dt=Qt:Ft.sibling=Qt,Ft=Qt);return e&&ut.forEach(function(_b){return n(k,_b)}),qt&&Qi(k,Ct),dt}function ae(k,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var dt=P.key;N!==null;){if(N.key===dt){if(dt=P.type,dt===st){if(N.tag===7){s(k,N.sibling),Q=h(N,P.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Ur(dt)===N.type){s(k,N.sibling),Q=h(N,P.props),zl(Q,P),Q.return=k,k=Q;break t}s(k,N);break}else n(k,N);N=N.sibling}P.type===st?(Q=Dr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Au(P.type,P.key,P.props,null,k.mode,Q),zl(Q,P),Q.return=k,k=Q)}return p(k);case W:t:{for(dt=P.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(k,N.sibling),Q=h(N,P.children||[]),Q.return=k,k=Q;break t}else{s(k,N);break}else n(k,N);N=N.sibling}Q=Gh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case A:return P=Ur(P),ae(k,N,P,Q)}if(Zt(P))return ot(k,N,P,Q);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),gt(k,N,P,Q)}if(typeof P.then=="function")return ae(k,N,Du(P),Q);if(P.$$typeof===yt)return ae(k,N,Iu(k,P),Q);Ou(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(k,N.sibling),Q=h(N,P),Q.return=k,k=Q):(s(k,N),Q=Hh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,N)}return function(k,N,P,Q){try{Pl=0;var dt=ae(k,N,P,Q);return Aa=null,dt}catch(ut){if(ut===Sa||ut===xu)throw ut;var Ft=wn(29,ut,null,k.mode);return Ft.lanes=Q,Ft.return=k,Ft}finally{}}}var Pr=Hp(!0),Gp=Hp(!1),Cs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(e),Ip(e,null,s),n}return bu(e,l,n,s),Su(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Bl(){if(af){var e=ba;if(e!==null)throw e}}function ql(e,n,s,l){af=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(kt&j)===j:(l&j)===j){j!==0&&j===Ta&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var ae=s;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){K=ot.call(ae,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(ae,K,j):ot,j==null)break t;K=S({},K,j);break t;case 2:Cs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ks|=p,e.lanes=p,e.memoizedState=K}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var wa=O(null),Mu=O(0);function Yp(e,n){e=is,tt(Mu,e),tt(wa,n),is=e|n.baseLanes}function lf(){tt(Mu,is),tt(wa,wa.current)}function of(){is=Mu.current,Y(wa),Y(Mu)}var Rn=O(null),qn=null;function Ds(e){var n=e.alternate;tt(Ae,Ae.current&1),tt(Rn,e),qn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(qn=e)}function uf(e){tt(Ae,Ae.current),tt(Rn,e),qn===null&&(qn=e)}function Kp(e){e.tag===22?(tt(Ae,Ae.current),tt(Rn,e),qn===null&&(qn=e)):Os()}function Os(){tt(Ae,Ae.current),tt(Rn,Rn.current)}function In(e){Y(Rn),qn===e&&(qn=null),Y(Ae)}var Ae=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,It=null,se=null,Oe=null,ku=!1,Ra=!1,zr=!1,Uu=0,Hl=0,Ia=null,o1=0;function ve(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Xi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Rf,zr=!1,f=s(l,h),zr=!1,Ra&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){H.H=Ql;var n=se!==null&&se.next!==null;if(Xi=0,Oe=se=It=null,ku=!1,Hl=0,Ia=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Ru(e)&&(Me=!0))}function $p(e,n,s,l){It=e;var h=0;do{if(Ra&&(Ia=null),Hl=0,Ra=!1,25<=h)throw Error(a(301));if(h+=1,Oe=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Og,f=n(s,l)}while(Ra);return f}function u1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(It.flags|=1024),n}function ff(){var e=Uu!==0;return Uu=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Xi=0,Oe=se=It=null,Ra=!1,Hl=Uu=0,Ia=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function we(){if(se===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Oe===null?It.memoizedState:Oe.next;if(n!==null)Oe=n,se=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,Ia===null&&(Ia=[]),e=jp(Ia,e,n),n=It,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Rf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===yt)return Xe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function $i(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=we();return gf(n,se,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(kt&K)===K:(Xi&K)===K){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ta&&(G=!0);else if((Xi&j)===j){z=z.next,j===Ta&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,It.lanes|=j,ks|=j;K=z.action,zr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,It.lanes|=K,ks|=K;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!An(f,e.memoizedState)&&(Me=!0,G&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Zp(e,n,s){var l=It,h=we(),f=qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!An((se||h).memoizedState,s);if(p&&(h.memoizedState=s,Me=!0),h=h.queue,Ef(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),oe===null)throw Error(a(349));f||(Xi&127)!==0||Jp(l,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Lu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function ng(e){var n=Nr(e,2);n!==null&&_n(n,e,2)}function _f(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),zr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,gf(e,se,typeof l=="function"?l:$i)}function c1(e,n,s,l,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),R=H.S;R!==null&&R(p,E),rg(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(z){vf(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return vf(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(qt){var s=oe.formState;if(s!==null){t:{var l=It;if(qt){if(he){e:{for(var h=he,f=Bn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Hn(h.nextSibling),l=h.data==="F!";break t}}Rs(l)}l=!1}l&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,It,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,It,!1,l.queue),l=hn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=c1.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=we();return hg(n,se,e)}function hg(e,n,s){if(n=gf(e,n,og)[0],e=zu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(p){throw p===Sa?xu:p}else l=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Ca(9,{destroy:void 0},h1.bind(null,h,s),null)),[l,f,e]}function h1(e,n){e.action=n}function fg(e){var n=we(),s=se;if(s!==null)return hg(n,s,e);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ca(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Lu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return we().memoizedState}function ju(e,n,s,l){var h=hn();It.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bu(e,n,s,l){var h=we();l=l===void 0?null:l;var f=h.memoizedState.inst;se!==null&&l!==null&&cf(l,se.memoizedState.deps)?h.memoizedState=Ca(n,f,s,l):(It.flags|=e,h.memoizedState=Ca(1|n,f,s,l))}function mg(e,n){ju(8390656,8,e,n)}function Ef(e,n){Bu(2048,8,e,n)}function f1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Lu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=we().memoizedState;return f1({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Bu(4,2,e,n)}function yg(e,n){return Bu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,_g.bind(null,n,e),s)}function Tf(){}function Eg(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),zr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(Xi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),It.lanes|=e,ks|=e,s)}function bg(e,n,s,l){return An(s,n)?s:wa.current!==null?(e=bf(e,s,l),An(e,n)||(Me=!0),e):(Xi&42)===0||(Xi&1073741824)!==0&&(kt&261930)===0?(Me=!0,e.memoizedState=s):(e=by(),It.lanes|=e,ks|=e,n)}function Sg(e,n,s,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,wf(e,!1,n,s);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=l1(R,l);Fl(e,n,G,Nn(e))}else Fl(e,n,l,Nn(e))}catch(K){Fl(e,n,{then:function(){},status:"rejected",reason:K},Nn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function d1(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ft,s===null?d1:function(){return wg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},Nn())}function Af(){return Xe(oo)}function Rg(){return we().memoizedState}function Ig(){return we().memoizedState}function m1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=xs(s);var l=Ns(n,e,s);l!==null&&(_n(l,n,s),jl(l,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function p1(e,n,s){var l=Nn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?xg(n,s):(s=Bh(e,n,s,l),s!==null&&(_n(s,e,l),Ng(s,n,l)))}function Cg(e,n,s){var l=Nn();Fl(e,n,s,l)}function Fl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,p))return bu(e,n,h,0),oe===null&&Tu(),!1}catch{}finally{}if(s=Bh(e,n,h,l),s!==null)return _n(s,e,l),Ng(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&_n(n,e,2)}function qu(e){var n=e.alternate;return e===It||n!==null&&n===It}function xg(e,n){Ra=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ng(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}var Ql={readContext:Xe,use:Pu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ql.useEffectEvent=ve;var Dg={readContext:Xe,use:Pu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var l=e();if(zr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=hn();if(s!==void 0){var h=s(n);if(zr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=p1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cg.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=hn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sg.bind(null,It,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=hn();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),oe===null)throw Error(a(349));(kt&127)!==0||Jp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=hn(),n=oe.identifierPrefix;if(qt){var s=Ci,l=Ii;s=(l&~(1<<32-be(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return hn().memoizedState=m1.bind(null,It)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Xe,use:Pu,useCallback:Eg,useContext:Xe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:zu,useRef:dg,useState:function(){return zu($i)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=we();return bg(s,se.memoizedState,e,n)},useTransition:function(){var e=zu($i)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=we();return ig(s,se,e,n)},useMemoCache:pf,useCacheRefresh:Ig};Rf.useEffectEvent=pg;var Og={readContext:Xe,use:Pu,useCallback:Eg,useContext:Xe,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:yf,useRef:dg,useState:function(){return yf($i)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=we();return se===null?bf(s,e,n):bg(s,se.memoizedState,e,n)},useTransition:function(){var e=yf($i)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=we();return se!==null?ig(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ig};Og.useEffectEvent=pg;function If(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=xs(l);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(_n(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=xs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(_n(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),l=xs(s);l.tag=2,n!=null&&(l.callback=n),n=Ns(e,l,s),n!==null&&(_n(n,e,s),jl(n,e,s))}};function Mg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(h,f):!0}function Vg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){Eu(e)}function Ug(e){console.error(e)}function Lg(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=xs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function zg(e){return e=xs(e),e.tag=3,e}function jg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,l),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function g1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Ea(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?ec():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),ec(),!1}if(qt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),kl(Pn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),kl(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Pn(l,s),h=xf(e.stateNode,l,h),rf(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:l});if(f=Pn(f,s),to===null?to=[f]:to.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=Pn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Me=!1;function $e(e,n,s,l){n.child=e===null?Gp(n,null,s,l):Pr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Vr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!Me?(df(e,n,h),Zi(e,n,h)):(qt&&E&&Fh(n),n.flags|=1,$e(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=Au(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(p,l)&&e.ref===n.ref)return Zi(e,n,h)}return n.flags|=1,e=Fi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Zi(e,n,h)}return Df(e,n,s,l,h)}function Gg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):lf(),Kp(n);else return l=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Cu(n,f.cachePool),Yp(n,f),Os(),n.memoizedState=null):(e!==null&&Cu(n,null),lf(),Os());return $e(e,n,h,s),n.child}function Yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),lf(),Kp(n),e!==null&&Ea(e,n,l,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Pr(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function y1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Gu(n,l),n.lanes=536870912,Yl(null,e);if(uf(n),(e=he)?(e=s_(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Ke=n,he=null)):e=null,e===null)throw Rs(n);return n.lanes=536870912,null}return Gu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||Ea(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(l=oe,l!==null&&(p=ml(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Nr(e,p),_n(l,e,p),Nf;ec(),n=Qg(e,n,s)}else e=f.treeContext,he=Hn(p.nextSibling),Ke=n,qt=!0,ws=null,Bn=!1,e!==null&&Op(n,e),n=Gu(n,l),n.flags|=4096;return n}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Vr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!Me?(df(e,n,h),Zi(e,n,h)):(qt&&l&&Fh(n),n.flags|=1,$e(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Vr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=ff(),e!==null&&!Me?(df(e,n,f),Zi(e,n,f)):(qt&&l&&Fh(n),n.flags|=1,$e(e,n,s,f),n.child)}function Kg(e,n,s,l,h){if(Vr(n),n.stateNode===null){var f=ga,p=s.contextType;typeof p=="object"&&p!==null&&(f=Xe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Xe(p):ga,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(If(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(s,E);f.props=R;var z=f.context,G=s.contextType;p=ga,typeof G=="object"&&G!==null&&(p=Xe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Vg(n,f,l,p),Cs=!1;var j=n.memoizedState;f.state=j,ql(n,l,f,h),Bl(),z=n.memoizedState,E||j!==z||Cs?(typeof K=="function"&&(If(n,s,K,l),z=n.memoizedState),(R=Cs||Mg(n,s,R,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,G=jr(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,R=ga,typeof z=="object"&&z!==null&&(R=Xe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==R)&&Vg(n,f,l,R),Cs=!1,j=n.memoizedState,f.state=j,ql(n,l,f,h),Bl();var q=n.memoizedState;p!==K||j!==q||Cs||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(If(n,s,E,l),q=n.memoizedState),(G=Cs||Mg(n,s,G,l,j,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Fu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Pr(n,e.child,null,h),n.child=Pr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Zi(e,n,h),e}function Xg(e,n,s,l){return Or(),n.flags|=256,$e(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Pp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=xn),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Ds(n):Os(),(e=he)?(e=s_(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Ke=n,he=null)):e=null,e===null)throw Rs(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Os(),h=n.mode,E=Qu({mode:"hidden",children:E},h),l=Dr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,Yl(null,l)):(Ds(n),kf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),E=l.fallback,h=n.mode,l=Qu({mode:"visible",children:l.children},h),E=Dr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Pr(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Yl(null,l));else if(Ds(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,kl({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(Me||Ea(e,n,s,!1),p=(s&e.childLanes)!==0,Me||p){if(p=oe,p!==null&&(l=ml(p,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Nr(e,l),_n(p,e,l),Nf;pd(E)||ec(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,he=Hn(E.nextSibling),Ke=n,qt=!0,ws=null,Bn=!1,e!==null&&Op(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(Os(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=Fi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Fi(z,E):(E=Dr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,s),n.memoizedState=Of,Yl(e.child,l)):(Ds(n),s=e.child,e=s.sibling,s=Fi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Pr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ae.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(Ae,p),$e(e,n,l,s),l=qt?Vl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ks|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ea(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Fi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Fi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function _1(e,n,s){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Is(n,De,e.memoizedState.cache),Or();break;case 27:case 5:ji(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(Ds(n),e=Zi(e,n,s),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Ea(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:Is(n,De,e.memoizedState.cache)}return Zi(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Me=!1,_1(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&Dp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=jr(e,l),n.tag=1,n=Kg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Kt){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=jr(l,n.pendingProps),Kg(e,n,l,h,s);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),ql(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Is(n,De,l),l!==f.cache&&Zh(n,[De],s,!0),Bl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Pn(Error(a(424)),n),kl(h),n=Xg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Hn(e.firstChild),Ke=n,qt=!0,ws=null,Bn=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Or(),l===h){n=Zi(e,n,s);break t}$e(e,n,l,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,l=oc(wt.current).createElement(s),l[Ce]=n,l[Be]=e,Ze(l,s,e),xe(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&qt&&(l=n.stateNode=l_(n.type,n.pendingProps,wt.current),Ke=n,Bn=!0,h=he,js(n.type)?(yd=h,he=Hn(l.firstChild)):he=h),$e(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=l=he)&&(l=K1(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Ke=n,he=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||Rs(n)),ji(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,u1,null,null,s),oo._currentValue=h),Fu(e,n),$e(e,n,l,s),n.child;case 6:return e===null&&qt&&((e=s=he)&&(s=X1(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Ke=n,he=null,e=!0):e=!1),e||Rs(n)),null;case 13:return $g(e,n,s);case 4:return Te(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Pr(n,null,l,s):$e(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Is(n,n.type,l.value),$e(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=Xe(h),l=l(h),n.flags|=1,$e(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return y1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Vr(n),l=Xe(De),e===null?(h=tf(),h===null&&(h=oe,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Is(n,De,h)):((e.lanes&s)!==0&&(sf(e,n),ql(n,null,null,s),Bl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,De,l)):(l=f.cache,Is(n,De,l),l!==h.cache&&Zh(n,[De],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Lr=Nu,ef}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Lr=Nu,ef}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wo():536870912,e.lanes|=n,Oa|=n)}function Kl(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function v1(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(De),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(va(n)?Ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ji(n),f!==null?(fe(n),ty(n,f)):(fe(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?(Ji(n),fe(n),ty(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(n),fe(n),zf(n,h,e,l,s)),null;case 27:if(Tn(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=at.current,va(n)?Mp(n):(e=l_(h,l,s),n.stateNode=e,Ji(n))}return fe(n),null;case 5:if(Tn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=at.current,va(n))Mp(n);else{var p=oc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ce]=n,f[Be]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ze(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(n)}}return fe(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,va(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||Rs(n,!0)}else e=oc(e).createTextNode(l),e[Ce]=n,n.stateNode=e}return fe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=va(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ce]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ce]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),fe(n),null);case 4:return ue(),e===null&&ld(n.stateNode.containerInfo),fe(n),null;case 10:return Ki(n.type),fe(n),null;case 19:if(Y(Ae),l=n.memoizedState,l===null)return fe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Kl(l,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Kl(l,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return tt(Ae,Ae.current&1|2),qt&&Qi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&un()>Ju&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qt)return fe(n),null}else 2*un()-l.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=un(),e.sibling=null,s=Ae.current,tt(Ae,h?s&1|2:s&1),qt&&Qi(n,l.treeForkCount),e):(fe(n),null);case 22:case 23:return In(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(kr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ki(De),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function E1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ki(De),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Tn(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ae),null;case 4:return ue(),null;case 10:return Ki(n.type),null;case 22:case 23:return In(n),of(),e!==null&&Y(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ki(De),null;case 25:return null;default:return null}}function ey(e,n){switch(Qh(n),n.tag){case 3:Ki(De),ue();break;case 26:case 27:case 5:Tn(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(Ae);break;case 10:Ki(n.type);break;case 22:case 23:In(n),of(),e!==null&&Y(kr);break;case 24:Ki(De)}}function Xl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function Ms(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){ee(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){ee(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){ee(e,e.return,l)}}}function iy(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ee(e,n,l)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ee(e,n,h)}}function xi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function jf(e,n,s){try{var l=e.stateNode;q1(l,e.type,s,n),l[Be]=n}catch(h){ee(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&js(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Ku(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,l,s),n[Ce]=e,n[Be]=s}catch(f){ee(e,e.return,f)}}var Wi=!1,Ve=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,He=null;function T1(e,n){if(e=e.containerInfo,cd=pc,e=vp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(R=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===l&&(R=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},pc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=jr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){ee(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:es(e,s),l&4&&Xl(5,s);break;case 1:if(es(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ee(s,s.return,p)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ee(s,s.return,p)}}l&64&&ny(s),l&512&&$l(s,s.return);break;case 3:if(es(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){ee(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:es(e,s),n===null&&l&4&&sy(s),l&512&&$l(s,s.return);break;case 12:es(e,s);break;case 31:es(e,s),l&4&&hy(e,s);break;case 13:es(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N1.bind(null,s),$1(e,s))));break;case 22:if(l=s.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Ve,h=Wi;var f=Ve;Wi=l,(Ve=n)&&!f?ns(e,s,(s.subtreeFlags&8772)!==0):es(e,s),Wi=h,Ve=f}break;case 30:break;default:es(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,mn=!1;function ts(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Ve||xi(s,n),ts(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||xi(s,n);var l=pe,h=mn;js(s.type)&&(pe=s.stateNode,mn=!1),ts(e,n,s),ro(s.stateNode),pe=l,mn=h;break;case 5:Ve||xi(s,n);case 6:if(l=pe,h=mn,pe=null,ts(e,n,s),pe=l,mn=h,pe!==null)if(mn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:pe!==null&&(mn?(e=pe,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ja(e)):n_(pe,s.stateNode));break;case 4:l=pe,h=mn,pe=s.stateNode.containerInfo,mn=!0,ts(e,n,s),pe=l,mn=h;break;case 0:case 11:case 14:case 15:Ms(2,s,n),Ve||Ms(4,s,n),ts(e,n,s);break;case 1:Ve||(xi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),ts(e,n,s);break;case 21:ts(e,n,s);break;case 22:Ve=(l=Ve)||s.memoizedState!==null,ts(e,n,s),Ve=l;break;default:ts(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(s){ee(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(s){ee(n,n.return,s)}}function b1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=b1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=D1.bind(null,e,l);l.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){pe=E.stateNode,mn=!1;break t}break;case 5:pe=E.stateNode,mn=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(pe===null)throw Error(a(160));cy(f,p,h),pe=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var ni=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),gn(e),l&4&&(Ms(3,e,e.return),Xl(3,e),Ms(5,e,e.return));break;case 1:pn(n,e),gn(e),l&512&&(Ve||s===null||xi(s,s.return)),l&64&&Wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ni;if(pn(n,e),gn(e),l&512&&(Ve||s===null||xi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,l,s),f[Ce]=e,xe(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Ze(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Ze(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ce]=e,xe(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),gn(e),l&512&&(Ve||s===null||xi(s,s.return)),s!==null&&l&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),gn(e),l&512&&(Ve||s===null||xi(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ot){ee(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(pn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){ee(e,e.return,ot)}}break;case 3:if(hc=null,h=ni,ni=uc(n.containerInfo),pn(n,e),ni=h,gn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ot){ee(e,e.return,ot)}Hf&&(Hf=!1,my(e));break;case 4:l=ni,ni=uc(e.stateNode.containerInfo),pn(n,e),gn(e),ni=l;break;case 12:pn(n,e),gn(e);break;case 31:pn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 13:pn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=un()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Wi,G=Ve;if(Wi=z||h,Ve=G||R,pn(n,e),Ve=G,Wi=z,gn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Wi||Ve||Br(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){ee(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){ee(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?i_(q,!0):i_(R.stateNode,!1)}catch(ot){ee(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Xu(e,s))));break;case 19:pn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 30:break;case 21:break;default:pn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Ku(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(dn(p,""),s.flags&=-33);var E=Bf(e);Ku(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Bf(e);qf(e,z,R);break;default:throw Error(a(161))}}catch(G){ee(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function es(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),Br(n);break;case 1:xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Br(n);break;case 27:ro(n.stateNode);case 26:case 5:xi(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ns(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ns(h,f,s),Xl(4,f);break;case 1:if(ns(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fp(R[h],E)}catch(z){ee(l,l.return,z)}}s&&p&64&&ny(f),$l(f,f.return);break;case 27:ay(f);case 26:case 5:ns(h,f,s),s&&l===null&&p&4&&sy(f),$l(f,f.return);break;case 12:ns(h,f,s);break;case 31:ns(h,f,s),s&&p&4&&hy(h,f);break;case 13:ns(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&ns(h,f,s),$l(f,f.return);break;case 30:break;default:ns(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ul(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function ii(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,l),h&2048&&Xl(9,n);break;case 1:ii(e,n,s,l);break;case 3:ii(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(h&2048){ii(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ee(n,n.return,R)}}else ii(e,n,s,l);break;case 31:ii(e,n,s,l);break;case 13:ii(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,l):Zl(e,n):f._visibility&2?ii(e,n,s,l):(f._visibility|=2,xa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:ii(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:ii(e,n,s,l)}}function xa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:xa(f,p,E,R,h),Xl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?xa(f,p,E,R,h):Zl(f,p):(G._visibility|=2,xa(f,p,E,R,h)),h&&z&2048&&Gf(p.alternate,p);break;case 24:xa(f,p,E,R,h),h&&z&2048&&Ff(p.alternate,p);break;default:xa(f,p,E,R,h)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Zl(s,l),h&2048&&Ff(l.alternate,l);break;default:Zl(s,l)}n=n.sibling}}var Jl=8192;function Na(e,n,s){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&Jl&&e.memoizedState!==null&&ob(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var l=ni;ni=uc(e.stateNode.containerInfo),Na(e,n,s),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,Na(e,n,s),Jl=l):Na(e,n,s));break;default:Na(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):Wl(e);break;default:Wl(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function vy(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Ms(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,He=l;else t:for(s=e;He!==null;){l=He;var h=l.sibling,f=l.return;if(uy(l),l===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var S1={getCacheForType:function(e){var n=Xe(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(De).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,Ot=null,kt=0,te=0,Cn=null,Vs=!1,Da=!1,Qf=!1,is=0,Ee=0,ks=0,qr=0,Yf=0,xn=0,Oa=0,to=null,yn=null,Kf=!1,Zu=0,Ey=0,Ju=1/0,Wu=null,Us=null,Pe=0,Ls=null,Ma=null,ss=0,Xf=0,$f=null,Ty=null,eo=0,Zf=null;function Nn(){return($t&2)!==0&&kt!==0?kt&-kt:H.T!==null?id():tu()}function by(){if(xn===0)if((kt&536870912)===0||qt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),xn=e}else xn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),xn}function _n(e,n,s){(e===oe&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Ps(e,kt,xn,!1)),gr(e,s),(($t&2)===0||e!==oe)&&(e===oe&&(($t&2)===0&&(qr|=s),Ee===4&&Ps(e,kt,xn,!1)),Ni(e))}function Sy(e,n,s){if(($t&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=l?I1(e,n):Wf(e,n,!0),f=l;do{if(h===0){Da&&!l&&Ps(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!w1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=to;var R=E.current.memoizedState.isDehydrated;if(R&&(Va(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Ps(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ps(l,n,xn,!Vs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Zu+300-un(),10<h)){if(Ps(l,n,xn,!Vs),fi(l,0,!0)!==0)break t;ss=n,l.timeoutHandle=t_(Ay.bind(null,l,s,yn,Wu,Kf,n,xn,qr,Oa,Vs,f,"Throttled",-0,0),h);break t}Ay(l,s,yn,Wu,Kf,n,xn,qr,Oa,Vs,f,null,-0,0)}}break}while(!0);Ni(e)}function Ay(e,n,s,l,h,f,p,E,R,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},gy(n,f,K);var ot=(f&62914560)===f?Zu-un():(f&4194048)===f?Ey-un():0;if(ot=ub(K,ot),ot!==null){ss=f,e.cancelPendingCommit=ot(Oy.bind(null,e,n,f,s,l,h,p,E,R,G,K,null,j,q)),Ps(e,f,p,!z);return}}Oy(e,n,f,s,l,h,p,E,R)}function w1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(e,n,s,l){n&=~Yf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&yr(e,s,n)}function tc(){return($t&6)===0?(no(0),!1):!0}function Jf(){if(Ot!==null){if(te===0)var e=Ot.return;else e=Ot,Yi=Mr=null,mf(e),Aa=null,Pl=0,e=Ot;for(;e!==null;)ey(e.alternate,e),e=e.return;Ot=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,F1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ss=0,Jf(),oe=e,Ot=s=Fi(e.current,null),kt=n,te=0,Cn=null,Vs=!1,Da=Yn(e,n),Qf=!1,Oa=xn=Yf=qr=ks=Ee=0,yn=to=null,Kf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-be(l),f=1<<h;n|=e[h],l&=~f}return is=n,Tu(),s}function wy(e,n){It=null,H.H=Ql,n===Sa||n===xu?(n=Bp(),te=3):n===ef?(n=Bp(),te=4):te=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Ot===null&&(Ee=1,Hu(e,Pn(n,e.current)))}function Ry(){var e=Rn.current;return e===null?!0:(kt&4194048)===kt?qn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===qn:!1}function Iy(){var e=H.H;return H.H=Ql,e===null?Ql:e}function Cy(){var e=H.A;return H.A=S1,e}function ec(){Ee=4,Vs||(kt&4194048)!==kt&&Rn.current!==null||(Da=!0),(ks&134217727)===0&&(qr&134217727)===0||oe===null||Ps(oe,kt,xn,!1)}function Wf(e,n,s){var l=$t;$t|=2;var h=Iy(),f=Cy();(oe!==e||kt!==n)&&(Wu=null,Va(e,n)),n=!1;var p=Ee;t:do try{if(te!==0&&Ot!==null){var E=Ot,R=Cn;switch(te){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=te;if(te=0,Cn=null,ka(e,E,R,z),s&&Da){p=0;break t}break;default:z=te,te=0,Cn=null,ka(e,E,R,z)}}R1(),p=Ee;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Yi=Mr=null,$t=l,H.H=h,H.A=f,Ot===null&&(oe=null,kt=0,Tu()),p}function R1(){for(;Ot!==null;)xy(Ot)}function I1(e,n){var s=$t;$t|=2;var l=Iy(),h=Cy();oe!==e||kt!==n?(Wu=null,Ju=un()+500,Va(e,n)):Da=Yn(e,n);t:do try{if(te!==0&&Ot!==null){n=Ot;var f=Cn;e:switch(te){case 1:te=0,Cn=null,ka(e,n,f,1);break;case 2:case 9:if(zp(f)){te=0,Cn=null,Ny(n);break}n=function(){te!==2&&te!==9||oe!==e||(te=7),Ni(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:zp(f)?(te=0,Cn=null,Ny(n)):(te=0,Cn=null,ka(e,n,f,7));break;case 5:var p=null;switch(Ot.tag){case 26:p=Ot.memoizedState;case 5:case 27:var E=Ot;if(p?p_(p):E.stateNode.complete){te=0,Cn=null;var R=E.sibling;if(R!==null)Ot=R;else{var z=E.return;z!==null?(Ot=z,nc(z)):Ot=null}break e}}te=0,Cn=null,ka(e,n,f,5);break;case 6:te=0,Cn=null,ka(e,n,f,6);break;case 8:Jf(),Ee=6;break t;default:throw Error(a(462))}}C1();break}catch(G){wy(e,G)}while(!0);return Yi=Mr=null,H.H=l,H.A=h,$t=s,Ot!==null?0:(oe=null,kt=0,Tu(),Ee)}function C1(){for(;Ot!==null&&!ui();)xy(Ot)}function xy(e){var n=Wg(e.alternate,e,is);e.memoizedProps=e.pendingProps,n===null?nc(e):Ot=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:mf(n);default:ey(s,n),n=Ot=Cp(n,is),n=Wg(s,n,is)}e.memoizedProps=e.pendingProps,n===null?nc(e):Ot=n}function ka(e,n,s,l){Yi=Mr=null,mf(n),Aa=null,Pl=0;var h=n.return;try{if(g1(e,h,n,s,kt)){Ee=1,Hu(e,Pn(s,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;Ee=1,Hu(e,Pn(s,e.current)),Ot=null;return}n.flags&32768?(qt||l===1?e=!0:Da||(kt&536870912)!==0?e=!1:(Vs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Vs);return}e=n.return;var s=v1(n.alternate,n,is);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);Ee===0&&(Ee=5)}function Dy(e,n){do{var s=E1(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);Ee=6,Ot=null}function Oy(e,n,s,l,h,f,p,E,R){e.cancelPendingCommit=null;do ic();while(Pe!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(e,s,f,p,E,R),e===oe&&(Ot=oe=null,kt=0),Ma=n,Ls=e,ss=s,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(ms,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=nt.p,nt.p=2,p=$t,$t|=4;try{T1(e,n,s)}finally{$t=p,nt.p=h,H.T=l}}Pe=1,My(),Vy(),ky()}}function My(){if(Pe===1){Pe=0;var e=Ls,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var h=$t;$t|=4;try{dy(n,e);var f=hd,p=vp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(R!==null&&kh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,gt=Math.min(R.start,ot),ae=R.end===void 0?gt:Math.min(R.end,ot);!q.extend&&gt>ae&&(p=ae,ae=gt,gt=p);var k=yp(E,gt),N=yp(E,ae);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),gt>ae?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pc=!!cd,hd=cd=null}finally{$t=h,nt.p=l,H.T=s}}e.current=n,Pe=2}}function Vy(){if(Pe===2){Pe=0;var e=Ls,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var h=$t;$t|=4;try{oy(e,n.alternate,n)}finally{$t=h,nt.p=l,H.T=s}}Pe=3}}function ky(){if(Pe===4||Pe===3){Pe=0,Yo();var e=Ls,n=Ma,s=ss,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ma=Ls=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),Bi(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(ss&3)!==0&&ic(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?eo++:(eo=0,Zf=e):eo=0,no(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function ic(){return My(),Vy(),ky(),Ly()}function Ly(){if(Pe!==5)return!1;var e=Ls,n=Xf;Xf=0;var s=Bi(ss),l=H.T,h=nt.p;try{nt.p=32>s?32:s,H.T=null,s=$f,$f=null;var f=Ls,p=ss;if(Pe=0,Ma=Ls=null,ss=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,_y(f.current),py(f,f.current,p,s),$t=E,no(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{nt.p=h,H.T=l,Uy(e,n)}}function Py(e,n,s){n=Pn(s,n),n=xf(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(gr(e,2),Ni(e))}function ee(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){e=Pn(s,e),s=zg(2),l=Ns(n,s,2),l!==null&&(jg(s,l,n,e),gr(l,2),Ni(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new A1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=x1.bind(null,e,n,s),n.then(e,e))}function x1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,oe===e&&(kt&s)===s&&(Ee===4||Ee===3&&(kt&62914560)===kt&&300>un()-Zu?($t&2)===0&&Va(e,0):Yf|=s,Oa===kt&&(Oa=0)),Ni(e)}function zy(e,n){n===0&&(n=Wo()),e=Nr(e,n),e!==null&&(gr(e,n),Ni(e))}function N1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function D1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function O1(e,n){return ce(e,n)}var sc=null,Ua=null,ed=!1,rc=!1,nd=!1,zs=0;function Ni(e){e!==Ua&&e.next===null&&(Ua===null?sc=Ua=e:Ua=Ua.next=e),rc=!0,ed||(ed=!0,V1())}function no(e,n){if(!nd&&rc){nd=!0;do for(var s=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=kt,f=fi(l,l===oe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);nd=!1}}function M1(){jy()}function jy(){rc=ed=!1;var e=0;zs!==0&&G1()&&(e=zs);for(var n=un(),s=null,l=sc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?sc=h:s.next=h,h===null&&(Ua=s)):(s=l,(e!==0||(f&3)!==0)&&(rc=!0)),l=h}Pe!==0&&Pe!==5||no(e),zs!==0&&(zs=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-be(f),E=1<<p,R=h[p];R===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=oe,s=kt,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_e(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&_e(l),Bi(s)){case 2:case 8:s=fl;break;case 32:s=ms;break;case 268435456:s=Ko;break;default:s=ms}return l=qy.bind(null,e),s=ce(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&_e(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var l=kt;return l=fi(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),By(e,un()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(ic())return null;Sy(e,n,!0)}function V1(){Q1(function(){($t&6)!==0?ce(hl,M1):jy()})}function id(){if(zs===0){var e=Ta;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),zs=e}return zs}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function k1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Be]||null).action),p=l.submitter;p&&(n=(n=p[Be]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Si("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var R=p?Fy(h,p):new FormData(h);Sf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Fy(h,p):new FormData(h),Sf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],U1=rd.toLowerCase(),L1=rd[0].toUpperCase()+rd.slice(1);ei(U1,"on"+L1)}ei(bp,"onAnimationEnd"),ei(Sp,"onAnimationIteration"),ei(Ap,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(WT,"onTransitionRun"),ei(t1,"onTransitionStart"),ei(e1,"onTransitionCancel"),ei(wp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}}}}function Mt(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[ac]){e[ac]=!0,pl.forEach(function(s){s!=="selectionchange"&&(P1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,ad("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(b_(n)){case 2:var h=fb;break;case 8:h=db;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=gi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Es(function(){var z=f,G=Vn(s),K=[];t:{var j=Rp.get(e);if(j!==void 0){var q=Si,ot=e;switch(e){case"keypress":if(Ar(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":ot="focus",q=Rr;break;case"focusout":ot="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bp:case Sp:case Ap:q=cu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Il;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gi;break;case"toggle":case"beforetoggle":q=Rt}var gt=(n&4)!==0,ae=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Zn(N,k),Q!=null&&gt.push(so(N,Q,P))),ae)break;N=N.return}0<gt.length&&(j=new q(j,ot,null,s,G),K.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Al&&(ot=s.relatedTarget||s.fromElement)&&(gi(ot)||ot[mi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?gi(ot):null,ot!==null&&(ae=c(ot),gt=ot.tag,ot!==ae||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(gt=Cl,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Gi,Q="onPointerLeave",k="onPointerEnter",N="pointer"),ae=q==null?j:bn(q),P=ot==null?j:bn(ot),j=new gt(Q,N+"leave",q,s,G),j.target=ae,j.relatedTarget=P,Q=null,gi(G)===z&&(gt=new gt(k,N+"enter",ot,s,G),gt.target=P,gt.relatedTarget=ae,Q=gt),ae=Q,q&&ot)e:{for(gt=z1,k=q,N=ot,P=0,Q=k;Q;Q=gt(Q))P++;Q=0;for(var dt=N;dt;dt=gt(dt))Q++;for(;0<P-Q;)k=gt(k),P--;for(;0<Q-P;)N=gt(N),Q--;for(;P--;){if(k===N||N!==null&&k===N.alternate){gt=k;break e}k=gt(k),N=gt(N)}gt=null}else gt=null;q!==null&&Ky(K,j,q,gt,!1),ot!==null&&ae!==null&&Ky(K,ae,ot,gt,!0)}}t:{if(j=z?bn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ft=hp;else if(up(j))if(fp)Ft=$T;else{Ft=KT;var ut=YT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ra(z.elementType)&&(Ft=hp):Ft=XT;if(Ft&&(Ft=Ft(e,z))){cp(K,Ft,s,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Tl(j,"number",j.value)}switch(ut=z?bn(z):window,e){case"focusin":(up(ut)||ut.contentEditable==="true")&&(da=ut,Uh=z,Ml=null);break;case"focusout":Ml=Uh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ep(K,s,G);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Ep(K,s,G)}var Ct;if(Xt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else fa?Ir(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ri&&s.locale!=="ko"&&(fa||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&fa&&(Ct=Rl()):(bi=G,wl="value"in bi?bi.value:bi.textContent,fa=!0)),ut=lc(z,Ut),0<ut.length&&(Ut=new wi(Ut,e,null,s,G),K.push({event:Ut,listeners:ut}),Ct?Ut.data=Ct:(Ct=ha(s),Ct!==null&&(Ut.data=Ct)))),(Ct=Un?HT(e,s):GT(e,s))&&(Ut=lc(z,"onBeforeInput"),0<Ut.length&&(ut=new wi("onBeforeInput","beforeinput",null,s,G),K.push({event:ut,listeners:Ut}),ut.data=Ct)),k1(K,e,z,s,G)}Qy(K,n)})}function so(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&l.unshift(so(e,h,f)),h=Zn(e,n),h!=null&&l.push(so(e,h,f))),e.tag===3)return l;e=e.return}return[]}function z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Zn(s,f),z!=null&&p.unshift(so(s,z,R))):h||(z=Zn(s,f),z!=null&&p.push(so(s,z,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var j1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(j1,`
`).replace(B1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function re(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(e,""+l);break;case"className":Sn(e,"class",l);break;case"tabIndex":Sn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){Sn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=aa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=aa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,ia(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ia(e,s,l)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,p,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),l&&re(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=f=p=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:re(e,n,l,G,s,null)}}su(e,f,E,R,z,p,h,!1);return;case"select":Mt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:re(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?gs(e,!!l,n,!1):s!=null&&gs(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,p,E,s,null)}ys(e,l,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,n,R,l,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<io.length;l++)Mt(io[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,l,s,null)}return;default:if(ra(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&ud(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&re(e,n,E,l,s,null))}function q1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||re(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&re(e,n,j,q,l,K)}}sa(e,p,E,R,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||re(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&re(e,n,h,f,l,R)}n=E,s=p,l=q,j!=null?gs(e,!!s,j,!1):!!l!=!!s&&(n!=null?gs(e,!!s,n,!0):gs(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,p,h,l,f)}ru(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:re(e,n,ot,null,l,j)}for(R in l)if(j=l[R],q=s[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:re(e,n,R,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&re(e,n,gt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,z,j,l,q)}return;default:if(ra(n)){for(var ae in s)j=s[ae],s.hasOwnProperty(ae)&&j!==void 0&&!l.hasOwnProperty(ae)&&ud(e,n,ae,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||ud(e,n,G,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&re(e,n,k,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||re(e,n,K,j,l,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var G=R.transferSize,K=R.initiatorType;G&&Zy(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(Y1)}:t_;function Y1(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),ja(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ro(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ro(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ro(e.ownerDocument.body);s=h}while(s);ja(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function K1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function X1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=oc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Gn=new Map,o_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rs=nt.d;nt.d={f:Z1,r:J1,D:W1,C:tb,L:eb,m:nb,X:sb,S:ib,M:rb};function Z1(){var e=rs.f(),n=tc();return e||n}function J1(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):rs.r(e)}var La=typeof document>"u"?null:document;function u_(e,n,s){var l=La;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ze(n,"link",e),xe(n),l.head.appendChild(n)))}}function W1(e){rs.D(e),u_("dns-prefetch",e,null)}function tb(e,n){rs.C(e,n),u_("preconnect",e,n)}function eb(e,n,s){rs.L(e,n,s);var l=La;if(l&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Gn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),Ze(n,"link",e),xe(n),l.head.appendChild(n)))}}function nb(e,n){rs.m(e,n);var s=La;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Gn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(f)))return}l=s.createElement("link"),Ze(l,"link",e),xe(l),s.head.appendChild(l)}}}function ib(e,n,s){rs.S(e,n,s);var l=La;if(l&&e){var h=yi(l).hoistableStyles,f=Pa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ao(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&_d(e,s);var R=p=l.createElement("link");xe(R),Ze(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sb(e,n){rs.X(e,n);var s=La;if(s&&e){var l=yi(s).hoistableScripts,h=za(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=S({src:e,async:!0},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),xe(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function rb(e,n){rs.M(e,n);var s=La;if(s&&e){var l=yi(s).hoistableScripts,h=za(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),xe(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=wt.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Pa(s.href),s=yi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Pa(s.href);var f=yi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ao(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||ab(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=yi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pa(e){return'href="'+fn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",s),xe(n),e.head.appendChild(n))}function za(e){return'[src="'+fn(e)+'"]'}function lo(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return n.instance=l,xe(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xe(l),Ze(l,"style",h),cc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Pa(s.href);var f=e.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;l=h_(s),(h=Gn.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ze(f,"link",l),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(lo(f)))?(n.instance=h,xe(h),h):(l=s,(h=Gn.get(f))&&(l=S({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),Ze(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,cc(l,s.precedence,e));return n.instance}function cc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function d_(e,n,s){if(hc===null){var l=new Map,h=hc=new Map;h.set(s,l)}else h=hc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function lb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ob(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Pa(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,xe(f);return}f=n.ownerDocument||n,l=h_(l),(h=Gn.get(h))&&_d(l,h),f=f.createElement("link"),xe(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Ze(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function ub(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*H1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(cb,e),dc=null,fc.call(e))}function cb(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var l=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function hb(e,n,s,l,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,R,z,G,K){return e=new hb(e,n,s,p,R,z,G,K,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function y_(e){return e?(e=ga,e):ga}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=xs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ns(e,l,n),s!==null&&(_n(s,e,n),jl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&_n(n,e,67108864),Td(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Nn();n=_r(n);var s=Nr(e,n);s!==null&&_n(s,e,n),Td(e,n)}}var pc=!0;function fb(e,n,s,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,bd(e,n,s,l)}finally{nt.p=f,H.T=h}}function db(e,n,s,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,bd(e,n,s,l)}finally{nt.p=f,H.T=h}}function bd(e,n,s,l){if(pc){var h=Sd(l);if(h===null)od(e,n,l,gc,s),S_(e,l);else if(pb(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<mb.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=hi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-be(p);E.entanglements[1]|=R,p&=~R}Ni(f),($t&6)===0&&(Ju=un()+500,no(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&_n(E,f,2),tc(),Td(f,2)}if(f=Sd(l),f===null&&od(e,n,l,gc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Sd(e){return e=Vn(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case hl:return 2;case fl:return 8;case ms:case xh:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var wd=!1,Bs=null,qs=null,Hs=null,uo=new Map,co=new Map,Gs=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ho(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function pb(e,n,s,l,h){switch(n){case"focusin":return Bs=ho(Bs,e,n,s,l,h),!0;case"dragenter":return qs=ho(qs,e,n,s,l,h),!0;case"mouseover":return Hs=ho(Hs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return uo.set(f,ho(uo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,co.set(f,ho(co.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Mn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){yc(e)&&s.delete(n)}function gb(){wd=!1,Bs!==null&&yc(Bs)&&(Bs=null),qs!==null&&yc(qs)&&(qs=null),Hs!==null&&yc(Hs)&&(Hs=null),uo.forEach(w_),co.forEach(w_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var vc=null;function R_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=Mn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ja(e){function n(R){return _c(R,e)}Bs!==null&&_c(Bs,e),qs!==null&&_c(qs,e),Hs!==null&&_c(Hs,e),uo.forEach(n),co.forEach(n);for(var s=0;s<Gs.length;s++){var l=Gs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gs.length&&(s=Gs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Gs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Be]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Be]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Ec.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Nn();__(s,l,e,n,null,null)},Ec.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),tc(),n[mi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Gs.length&&n!==0&&n<Gs[s].priority;s++);Gs.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.1")throw Error(a(527,C_,"19.2.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Qn=Tc.inject(yb),Qe=Tc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kg,f=Ug,p=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[mi]=n.current,ld(e),new Rd(n)},mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,p=Ug,E=Lg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=g_(e,1,!0,n,s??null,l,h,R,f,p,E,I_),n.context=y_(null),s=n.current,l=Nn(),l=_r(l),h=xs(l),h.callback=null,Ns(s,h,l),s=l,n.current.lanes=s,gr(n,s),Ni(n),e[mi]=n.current,ld(e),new Ec(n)},mo.version="19.2.1",mo}var P_;function Ib(){if(P_)return xd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Rb(),xd.exports}var Cb=Ib();const xb=()=>{};var z_={};const y0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Nb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[b],i[S],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(y0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Nb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new Db;const M=c<<2|g>>4;if(a.push(M),y!==64){const F=g<<4&240|y>>2;if(a.push(F),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const t=y0(r);return _0.encodeByteArray(t,!0)},jc=function(r){return Ob(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vb=()=>Mb().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ub=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&v0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return xb()||Vb()||kb()||Ub()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>rh()?.emulatorHosts?.[r],Lb=r=>{const t=E0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},T0=()=>rh()?.config,b0=r=>rh()?.[`_${r}`];class Pb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(r){return(await fetch(r,{credentials:"include"})).ok}function zb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const To={};function jb(){const r={prod:[],emulator:[]};for(const t of Object.keys(To))To[t]?r.emulator.push(t):r.prod.push(t);return r}function Bb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||To[r]===t||To[r]||j_)return;To[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=jb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{j_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Bb(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),st=i("learnmore"),J=document.getElementById(st)||document.createElement("a"),mt=i("preprendIcon"),Et=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const yt=M.element;g(yt),b(J,st);const Kt=y();_(Et,mt),yt.append(Et,W,J,Kt),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Hb(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yb(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Zb="FirebaseError";class ds extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Zb,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Jb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ds(o,g,a)}}function Jb(r,t){return r.replace(Wb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Wb=/\{\$([^}]+)}/g;function tS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!Qr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Po(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function eS(r,t){const i=new nS(r,t);return i.subscribe.bind(i)}class nS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");iS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function on(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class sS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Pb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aS(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rS(r){return r===Hr?void 0:r}function aS(r){return r.instantiationMode==="EAGER"}class lS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const oS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},uS=Lt.INFO,cS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},hS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=cS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?oS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const fS=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function dS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Qd=new WeakMap,R0=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function pS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ws(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&w0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function gS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ws(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function yS(r){Yd=r(Yd)}function _S(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return R0.set(a,t.sort?t.sort():[t]),Ws(a)}:mS().includes(r)?function(...t){return r.apply(kd(this),t),Ws(w0.get(this))}:function(...t){return Ws(r.apply(kd(this),t))}}function vS(r){return typeof r=="function"?_S(r):(r instanceof IDBTransaction&&gS(r),fS(r,dS())?new Proxy(r,Yd):r)}function Ws(r){if(r instanceof IDBRequest)return pS(r);if(Vd.has(r))return Vd.get(r);const t=vS(r);return t!==r&&(Vd.set(r,t),Tm.set(t,r)),t}const kd=r=>Tm.get(r);function ES(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Ws(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ws(d.result),_.oldVersion,_.newVersion,Ws(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const TS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],Ud=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=bS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||TS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Ud.set(t,c),c}yS(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class SS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function AS(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",F_="0.14.6";const os=new Em("@firebase/app"),wS="@firebase/app-compat",RS="@firebase/analytics-compat",IS="@firebase/analytics",CS="@firebase/app-check-compat",xS="@firebase/app-check",NS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",kS="@firebase/functions",US="@firebase/functions-compat",LS="@firebase/installations",PS="@firebase/installations-compat",zS="@firebase/messaging",jS="@firebase/messaging-compat",BS="@firebase/performance",qS="@firebase/performance-compat",HS="@firebase/remote-config",GS="@firebase/remote-config-compat",FS="@firebase/storage",QS="@firebase/storage-compat",YS="@firebase/firestore",KS="@firebase/ai",XS="@firebase/firestore-compat",$S="firebase",ZS="12.6.0";const Xd="[DEFAULT]",JS={[Kd]:"fire-core",[wS]:"fire-core-compat",[IS]:"fire-analytics",[RS]:"fire-analytics-compat",[xS]:"fire-app-check",[CS]:"fire-app-check-compat",[NS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[kS]:"fire-fn",[US]:"fire-fn-compat",[LS]:"fire-iid",[PS]:"fire-iid-compat",[zS]:"fire-fcm",[jS]:"fire-fcm-compat",[BS]:"fire-perf",[qS]:"fire-perf-compat",[HS]:"fire-rc",[GS]:"fire-rc-compat",[FS]:"fire-gcs",[QS]:"fire-gcs-compat",[YS]:"fire-fst",[XS]:"fire-fst-compat",[KS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};const Bc=new Map,WS=new Map,$d=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if($d.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const i of Bc.values())Q_(i,r);for(const i of WS.values())Q_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ri(r){return r==null?!1:r.settings!==void 0}const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Lo("app","Firebase",tA);class eA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const rl=ZS;function I0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(i||(i=T0()),!i)throw tr.create("no-options");const c=Bc.get(o);if(c){if(Qr(i,c.options)&&Qr(a,c.config))return c;throw tr.create("duplicate-app",{appName:o})}const d=new lS(o);for(const _ of $d.values())d.addComponent(_);const g=new eA(i,a,d);return Bc.set(o,g),g}function C0(r=Xd){const t=Bc.get(r);if(!t&&r===Xd&&T0())return I0();if(!t)throw tr.create("no-app",{appName:r});return t}function er(r,t,i){let a=JS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Za(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const nA="firebase-heartbeat-database",iA=1,Io="firebase-heartbeat-store";let Ld=null;function x0(){return Ld||(Ld=ES(nA,iA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(r=>{throw tr.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function sA(r){try{const i=(await x0()).transaction(Io),a=await i.objectStore(Io).get(N0(r));return await i.done,a}catch(t){if(t instanceof ds)os.warn(t.message);else{const i=tr.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function Y_(r,t){try{const a=(await x0()).transaction(Io,"readwrite");await a.objectStore(Io).put(t,N0(r)),await a.done}catch(i){if(i instanceof ds)os.warn(i.message);else{const a=tr.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const rA=1024,aA=30;class lA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>aA){const o=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=oA(this._heartbeatsCache.heartbeats),o=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function oA(r,t=rA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class uA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function cA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function hA(r){Za(new Yr("platform-logger",t=>new SS(t),"PRIVATE")),Za(new Yr("heartbeat",t=>new lA(t),"PRIVATE")),er(Kd,F_,r),er(Kd,F_,"esm2020"),er("fire-js","")}hA("");var fA="firebase",dA="12.6.0";er(fA,dA,"app");function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=D0,O0=new Lo("auth","Firebase",D0());const qc=new Em("@firebase/auth");function pA(r,...t){qc.logLevel<=Lt.WARN&&qc.warn(`Auth (${rl}): ${r}`,...t)}function Nc(r,...t){qc.logLevel<=Lt.ERROR&&qc.error(`Auth (${rl}): ${r}`,...t)}function us(r,...t){throw Sm(r,...t)}function Oi(r,...t){return Sm(r,...t)}function M0(r,t,i){const a={...mA(),[t]:i};return new Lo("auth","Firebase",a).create(t,{appName:r.name})}function nr(r){return M0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return O0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Sm(t,...i)}function as(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function cs(r,t){r||as(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function gA(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gA()||Fb()||"connection"in navigator)?navigator.onLine:!0}function _A(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zo{constructor(t,i){this.shortDelay=t,this.longDelay=i,cs(i>t,"Short delay should be less than long delay!"),this.isMobile=qb()||Qb()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){cs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TA=new zo(3e4,6e4);function ah(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function al(r,t,i,a,o={}){return k0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Po({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Gb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&sl(r.emulatorConfig.host)&&(y.credentials="include"),V0.fetch()(await L0(r,r.config.apiHost,i,g),y)})}async function k0(r,t,i){r._canInitEmulator=!1;const a={...vA,...t};try{const o=new bA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw bc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw M0(r,b,y);us(r,b)}}catch(o){if(o instanceof ds)throw o;us(r,"network-request-failed",{message:String(o)})}}async function U0(r,t,i,a,o={}){const c=await al(r,t,i,a,o);return"mfaPendingCredential"in c&&us(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function L0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return EA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class bA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Oi(this.auth,"network-request-failed")),TA.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Oi(r,t,a);return o.customData._tokenResponse=i,o}async function SA(r,t){return al(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return al(r,"POST","/v1/accounts:lookup",t)}function bo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AA(r,t=!1){const i=on(r),a=await i.getIdToken(t),o=wm(a);Tt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:bo(Pd(o.auth_time)),issuedAtTime:bo(Pd(o.iat)),expirationTime:bo(Pd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(i);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(r){const t=wm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Co(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ds&&wA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function wA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Co(r,Hc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?P0(o.providerUserInfo):[],d=CA(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=g?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function IA(r){const t=on(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function P0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xA(r,t){const i=await k0(r,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await L0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&sl(r.emulatorConfig.host)&&(_.credentials="include"),V0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function NA(r,t){return al(r,"POST","/v2/accounts:revokeToken",ah(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await xA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Tt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return as("not implemented")}}function Qs(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new RA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Co(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return AA(this,t)}reload(){return IA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(nr(this.auth));const t=await this.getIdToken();return await Co(this,SA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:st}=i;Tt(S&&st,t,"internal-error");const J=Qa.fromJSON(this.name,st);Tt(typeof S=="string",t,"internal-error"),Qs(a,t.name),Qs(o,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Qs(c,t.name),Qs(d,t.name),Qs(g,t.name),Qs(_,t.name),Qs(y,t.name),Qs(b,t.name);const mt=new ai({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(mt.providerData=W.map(Et=>({...Et}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Tt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?P0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(a);const _=new ai({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const J_=new Map;function ls(r){cs(r instanceof Function,"Expected a class definition");let t=J_.get(r);return t?(cs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,J_.set(r,t),t)}class z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}z0.type="NONE";const W_=z0;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Dc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(ls(W_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ls(W_);const d=Dc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const M=await Hc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await ai._fromGetAccountInfoResponse(t,M,b)}else S=ai._fromJSON(t,b);y!==c&&(g=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,t,a))}}function tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(F0(t))return"Blackberry";if(Q0(t))return"Webos";if(B0(t))return"Safari";if((t.includes("chrome/")||q0(t))&&!t.includes("edge/"))return"Chrome";if(G0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function j0(r=ln()){return/firefox\//i.test(r)}function B0(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q0(r=ln()){return/crios\//i.test(r)}function H0(r=ln()){return/iemobile/i.test(r)}function G0(r=ln()){return/android/i.test(r)}function F0(r=ln()){return/blackberry/i.test(r)}function Q0(r=ln()){return/webos/i.test(r)}function Rm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DA(r=ln()){return Rm(r)&&!!window.navigator?.standalone}function OA(){return Yb()&&document.documentMode===10}function Y0(r=ln()){return Rm(r)||G0(r)||Q0(r)||F0(r)||/windows phone/i.test(r)||H0(r)}function K0(r,t=[]){let i;switch(r){case"Browser":i=tv(ln());break;case"Worker":i=`${tv(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${rl}/${a}`}class MA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function VA(r,t={}){return al(r,"GET","/v2/passwordPolicy",ah(r,t))}const kA=6;class UA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class LA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_A()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(nr(this));const i=t?on(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VA(this),i=new UA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await NA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lh(r){return on(r)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=eS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PA(r){Im=r}function zA(r){return Im.loadJS(r)}function jA(){return Im.gapiScript}function BA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function qA(r,t){const i=bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Qr(c,t??{}))return o;us(o,"already-initialized")}return i.initialize({options:t})}function HA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function GA(r,t,i){const a=lh(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=X0(t),{host:d,port:g}=FA(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Qr(y,a.config.emulator)&&Qr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,sl(d)?(S0(`${c}//${d}${_}`),A0("Auth",!0)):QA()}function X0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function FA(r){const t=X0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function QA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class $0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(t){return as("not implemented")}_linkToIdToken(t,i){return as("not implemented")}_getReauthenticationResolver(t){return as("not implemented")}}async function Ka(r,t){return U0(r,"POST","/v1/accounts:signInWithIdp",ah(r,t))}const YA="http://localhost";class Kr extends $0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):us("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Kr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:YA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Po(i)}return t}}class Z0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jo extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ks extends jo{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Xs extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Kr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class $s extends jo{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Zs extends jo{constructor(){super("twitter.com")}static credential(t,i){return Kr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Zs.credential(i,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";async function KA(r,t){return U0(r,"POST","/v1/accounts:signUp",ah(r,t))}class rr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ai._fromIdTokenResponse(t,a,o),d=iv(a);return new rr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=iv(a);return new rr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function XA(r){if(ri(r.app))return Promise.reject(nr(r));const t=lh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new rr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await KA(t,{returnSecureToken:!0}),a=await rr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Fc extends ds{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Fc(t,i,a,o)}}function J0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function $A(r,t,i=!1){const a=await Co(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return rr._forOperation(r,"link",a)}async function ZA(r,t,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(nr(a));const o="reauthenticate";try{const c=await Co(r,J0(a,o,t,r),i);Tt(c.idToken,a,"internal-error");const d=wm(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(r.uid===g,a,"user-mismatch"),rr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&us(a,"user-mismatch"),c}}async function JA(r,t,i=!1){if(ri(r.app))return Promise.reject(nr(r));const a="signIn",o=await J0(r,a,t),c=await rr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function WA(r,t,i,a){return on(r).onIdTokenChanged(t,i,a)}function tw(r,t,i){return on(r).beforeAuthStateChanged(t,i)}function ew(r,t,i,a){return on(r).onAuthStateChanged(t,i,a)}function nw(r){return on(r).signOut()}const Qc="__sak";class W0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const iw=1e3,sw=10;class tE extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);OA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}tE.type="LOCAL";const rw=tE;class eE extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eE.type="SESSION";const nE=eE;function aw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await aw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class lw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Cm("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function ow(r){Mi().location.href=r}function iE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function uw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cw(){return navigator?.serviceWorker?.controller||null}function hw(){return iE()?self:null}const sE="firebaseLocalStorageDb",fw=1,Yc="firebaseLocalStorage",rE="fbase_key";class Bo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function dw(){const r=indexedDB.deleteDatabase(sE);return new Bo(r).toPromise()}function Wd(){const r=indexedDB.open(sE,fw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:rE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await dw(),t(await Wd()))})})}async function sv(r,t,i){const a=uh(r,!0).put({[rE]:t,value:i});return new Bo(a).toPromise()}async function mw(r,t){const i=uh(r,!1).get(t),a=await new Bo(i).toPromise();return a===void 0?null:a.value}function rv(r,t){const i=uh(r,!0).delete(t);return new Bo(i).toPromise()}const pw=800,gw=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(hw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uw(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await sv(t,Qc,"1"),await rv(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>mw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=uh(o,!1).getAll();return new Bo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const yw=aE;new zo(3e4,6e4);function _w(r,t){return t?ls(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xm extends $0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function vw(r){return JA(r.auth,new xm(r),r.bypassAuthState)}function Ew(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),ZA(i,new xm(r),r.bypassAuthState)}async function Tw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),$A(i,new xm(r),r.bypassAuthState)}class lE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vw;case"linkViaPopup":case"linkViaRedirect":return Tw;case"reauthViaPopup":case"reauthViaRedirect":return Ew;default:us(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bw=new zo(2e3,1e4);class Fa extends lE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bw.get())};t()}}Fa.currentPopupAction=null;const Sw="pendingRedirect",Oc=new Map;class Aw extends lE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await ww(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ww(r,t){const i=Cw(t),a=Iw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Rw(r,t){Oc.set(r._key(),t)}function Iw(r){return ls(r._redirectPersistence)}function Cw(r){return Dc(Sw,r.config.apiKey,r.name)}async function xw(r,t,i=!1){if(ri(r.app))return Promise.reject(nr(r));const a=lh(r),o=_w(a,t),d=await new Aw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Nw=600*1e3;class Dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ow(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!oE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function oE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Ow(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(r);default:return!1}}async function Mw(r,t={}){return al(r,"GET","/v1/projects",t)}const Vw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;async function Uw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Mw(r);for(const i of t)try{if(Lw(i))return}catch{}us(r,"unauthorized-domain")}function Lw(r){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!kw.test(i))return!1;if(Vw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Pw=new zo(3e4,6e4);function lv(){const r=Mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function zw(r){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Oi(r,"network-request-failed"))},timeout:Pw.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)a();else{const o=BA("iframefcb");return Mi()[o]=()=>{gapi.load?a():i(Oi(r,"network-request-failed"))},zA(`${jA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function jw(r){return Mc=Mc||zw(r),Mc}const Bw=new zo(5e3,15e3),qw="__/auth/iframe",Hw="emulator/auth/iframe",Gw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,Hw):`https://${r.config.authDomain}/${qw}`,a={apiKey:t.apiKey,appName:r.name,v:rl},o=Fw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Po(a).slice(1)}`}async function Yw(r){const t=await jw(r),i=Mi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Qw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Oi(r,"network-request-failed"),g=Mi().setTimeout(()=>{c(d)},Bw.get());function _(){Mi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xw=500,$w=600,Zw="_blank",Jw="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ww(r,t,i,a=Xw,o=$w){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Kw,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=q0(y)?Zw:i),j0(y)&&(t=t||Jw,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(DA(y)&&g!=="_self")return t2(t||"",g),new ov(null);const S=window.open(t||"",g,b);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new ov(S)}function t2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const e2="__/auth/handler",n2="emulator/auth/handler",i2=encodeURIComponent("fac");async function uv(r,t,i,a,o,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:rl,eventId:o};if(t instanceof Z0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",tS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof jo){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${i2}=${encodeURIComponent(_)}`:"";return`${s2(r)}?${Po(g).slice(1)}${y}`}function s2({config:r}){return r.emulator?Am(r,n2):`https://${r.authDomain}/${e2}`}const zd="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=xw,this._overrideRedirectResult=Rw}async _openPopup(t,i,a,o){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,Zd(),o);return Ww(t,c,Cm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await uv(t,i,a,Zd(),o);return ow(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(cs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Yw(t),a=new Dw(t);return i.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Uw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Y0()||B0()||Rm()}}const a2=r2;var cv="@firebase/auth",hv="1.11.1";class l2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(r){Za(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(r)},y=new LA(a,o,c,_);return HA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Yr("auth-internal",t=>{const i=lh(t.getProvider("auth").getImmediate());return(a=>new l2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(cv,hv,o2(r)),er(cv,hv,"esm2020")}const c2=300,h2=b0("authIdTokenMaxAge")||c2;let fv=null;const f2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>h2)return;const o=i?.token;fv!==o&&(fv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d2(r=C0()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=qA(r,{popupRedirectResolver:a2,persistence:[yw,rw,nE]}),a=b0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=f2(c.toString());tw(i,d,()=>d(i.currentUser)),WA(i,g=>d(g))}}const o=E0("auth");return o&&GA(i,`http://${o}`),i}function m2(){return document.getElementsByTagName("head")?.[0]??document}PA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Oi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",m2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ir,uE;(function(){var r;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,x,U){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return A.prototype[x].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)V[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)V[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],x=C.g[2];let U=C.g[3],w;w=A+(U^I&(x^U))+V[0]+3614090360&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[3]+3250441966&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[4]+4118548399&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[7]+4249261313&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[8]+1770035416&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[11]+2304563134&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(U^I&(x^U))+V[12]+1804603682&4294967295,A=I+(w<<7&4294967295|w>>>25),w=U+(x^A&(I^x))+V[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(I^U&(A^I))+V[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=I+(A^x&(U^A))+V[15]+1236535329&4294967295,I=x+(w<<22&4294967295|w>>>10),w=A+(x^U&(I^x))+V[1]+4129170786&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[0]+3921069994&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[5]+3593408605&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[4]+3889429448&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[9]+568446438&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[8]+1163531501&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(I^x))+V[13]+2850285829&4294967295,A=I+(w<<5&4294967295|w>>>27),w=U+(I^x&(A^I))+V[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^I&(U^A))+V[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=I+(U^A&(x^U))+V[12]+2368359562&4294967295,I=x+(w<<20&4294967295|w>>>12),w=A+(I^x^U)+V[5]+4294588738&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[14]+4259657740&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[1]+2763975236&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[10]+3200236656&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[13]+681279174&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[6]+76029189&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(I^x^U)+V[9]+3654602809&4294967295,A=I+(w<<4&4294967295|w>>>28),w=U+(A^I^x)+V[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^I)+V[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=I+(x^U^A)+V[2]+3299628645&4294967295,I=x+(w<<23&4294967295|w>>>9),w=A+(x^(I|~U))+V[0]+4096336452&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[5]+4237533241&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[12]+1700485571&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[1]+2240044497&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[8]+1873313359&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[13]+1309151649&4294967295,I=x+(w<<21&4294967295|w>>>11),w=A+(x^(I|~U))+V[4]+4149444226&4294967295,A=I+(w<<6&4294967295|w>>>26),w=U+(I^(A|~x))+V[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~I))+V[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=I+(U^(x|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[x++]=C.charCodeAt(U++),x==this.blockSize){o(this,V),x=0;break}}else for(;U<A;)if(V[x++]=C[U++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function c(C,A){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function d(C,A){this.h=A;const I=[];let V=!0;for(let x=C.length-1;x>=0;x--){const U=C[x]|0;V&&U==A||(I[x]=U,V=!1)}this.g=I}var g={};function _(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(y(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new d(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return J(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let V=S;for(let U=0;U<C.length;U+=8){var x=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+x),A);x<8?(x=y(Math.pow(A,x)),V=V.j(x).add(y(w))):(V=V.j(I),V=V.add(y(w)))}return V}var S=_(0),M=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(st(this))return-J(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(st(this))return"-"+J(this).toString(C);const A=y(Math.pow(C,6));var I=this;let V="";for(;;){const x=Kt(I,A).g;I=mt(I,x.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,W(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function st(C){return C.h==-1}r.l=function(C){return C=mt(this,C),st(C)?-1:W(C)?0:1};function J(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}r.abs=function(){return st(this)?J(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let x=0;x<=A;x++){let U=V+(this.i(x)&65535)+(C.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);V=w>>>16,U&=65535,w&=65535,I[x]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(C,A){return C.add(J(A))}r.j=function(C){if(W(this)||W(C))return S;if(st(this))return st(C)?J(this).j(J(C)):J(J(this).j(C));if(st(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<C.g.length;x++){const U=this.i(V)>>>16,w=this.i(V)&65535,ne=C.i(x)>>>16,Zt=C.i(x)&65535;I[2*V+2*x]+=w*Zt,Et(I,2*V+2*x),I[2*V+2*x+1]+=U*Zt,Et(I,2*V+2*x+1),I[2*V+2*x+1]+=w*ne,Et(I,2*V+2*x+1),I[2*V+2*x+2]+=U*ne,Et(I,2*V+2*x+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new d(I,0)};function Et(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function yt(C,A){this.g=C,this.h=A}function Kt(C,A){if(W(A))throw Error("division by zero");if(W(C))return new yt(S,S);if(st(C))return A=Kt(J(C),A),new yt(J(A.g),J(A.h));if(st(A))return A=Kt(C,J(A)),new yt(J(A.g),A.h);if(C.g.length>30){if(st(C)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(C)<=0;)I=le(I),V=le(V);var x=Nt(I,1),U=Nt(V,1);for(V=Nt(V,2),I=Nt(I,2);!W(V);){var w=U.add(V);w.l(C)<=0&&(x=x.add(I),U=w),V=Nt(V,1),I=Nt(I,1)}return A=mt(C,x.j(A)),new yt(x,A)}for(x=S;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),w=U.j(A);st(w)||w.l(C)>0;)I-=V,U=y(I),w=U.j(A);W(U)&&(U=M),x=x.add(U),C=mt(C,w)}return new yt(x,C)}r.B=function(C){return Kt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function le(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Nt(C,A){const I=A>>5;A%=32;const V=C.g.length-I,x=[];for(let U=0;U<V;U++)x[U]=A>0?C.i(U+I)>>>A|C.i(U+I+1)<<32-A:C.i(U+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,uE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,ir=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cE,yo,hE,Vc,tm,fE,dE,mE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=yt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new st(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Nt=!1,C=new Et,A=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){J(v)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ne,x),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Zt="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Dt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=wt(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Te={};function ue(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ue(u,m[B],v,T,L);return null}return v=Gt(v),u&&u[Zt]?u.J(m,v,g(T)?!!T.capture:!1,L):ji(u,m,v,!1,T,L)}function ji(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Rt=rt(u);if(Rt||(u[Vt]=Rt=new at(u)),v=Rt.add(m,v,T,et,B),v.proxy)return v;if(T=Tn(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(it(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Tn(){function u(v){return m.call(u.src,u.listener,v)}const m=Bt;return u}function en(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)en(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=Gt(v),u&&u[Zt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=rt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,L)),(v=u>-1?m[u]:null)&&Z(v))}function Z(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Zt])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(it(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rt(m))?(vt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ft(u)}}}function it(u){return u in Te?Te[u]:Te[u]="on"+u}function Bt(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Z(u),u=v.call(T,m)}return u}function rt(u){return u=u[Vt],u instanceof at?u:null}var ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gt(u){return typeof u=="function"?u:(u[ht]||(u[ht]=function(m){return u.handleEvent(m)}),u[ht])}function xt(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(xt,V),xt.prototype[Zt]=!0,xt.prototype.removeEventListener=function(u,m,v,T){en(this,u,m,v,T)};function ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),tt(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=_e(B,T,!0,m)&&L;if(B=m.g=u,L=_e(B,T,!0,m)&&L,L=_e(B,T,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=_e(B,T,!1,m)&&L}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},xt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},xt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function _e(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Rt=et.listener,Se=et.ha||et.src;et.fa&&vt(u.i,et),L=Rt.call(Se,T)!==!1&&L}}return L&&!T.defaultPrevented}function ui(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yo(u){u.g=ui(()=>{u.g=null,u.i&&(u.i=!1,Yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class un extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){V.call(this),this.h=u,this.g={}}S(mr,V);var hl=[];function fl(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Z(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),fl(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,xh=d.JSON.parse,Ko=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xo(){}function $o(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){x.call(this,"d")}S(Qe,x);function On(){x.call(this,"c")}S(On,x);var be={},Zo=null;function ta(){return Zo=Zo||new xt}be.Ia="serverreachability";function Jo(u){x.call(this,be.Ia,u)}S(Jo,x);function ci(u){const m=ta();ce(m,new Jo(m))}be.STAT_EVENT="statevent";function pr(u,m){x.call(this,be.STAT_EVENT,u),this.stat=m}S(pr,x);function Ie(u){const m=ta();ce(m,new pr(m,u))}be.Ja="timingevent";function hi(u,m){x.call(this,be.Ja,u),this.size=m}S(hi,x);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var et="",Rt=B.split("&");for(let Xt=0;Xt<Rt.length;Xt++){var Se=Rt[Xt].split("=");if(Se.length>1){const me=Se[0];Se=Se[1];const Un=me.split("_");et=Un.length>=2&&Un[1]=="type"?et+(me+"="+Se+"&"):et+(me+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function Wo(u,m,v,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function di(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ms(B)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function _r(){}S(_r,Xo),_r.prototype.g=function(){return new XMLHttpRequest},ml=new _r;function Bi(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ce={},Be={};function mi(u,m,v){u.M=1,u.A=vr(Ne(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),pi(u),u.B=Ne(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new un(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(hl[0]=L.toString()),L=hl);for(let B=0;B<L.length;B++){const et=ue(v,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Jn(this.g),Se=this.g.ya(),Xt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||Se==7||(Se==8||Xt<=0?ci(3):ci(2)),gi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Wo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,Ie(12),bn(this),Mn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=nu(this,v),me==Be){Rt==4&&(this.m=4,Ie(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Ie(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,me,null),yi(this,me);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Ie(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xl(et),et.P=!0,Ie(11))}}else di(this.i,this.l,v,null),yi(this,v);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?hu(this.j,this):(this.o=!1,pi(this)))}else Hi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),bn(this),Mn(this)}}}catch{}finally{}};function Oh(u){if(!eu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Be:(v=Number(m.substring(v,T)),isNaN(v)?Ce:(T+=1,T+v>m.length?Be:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,bn(this)};function pi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(y(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ci(),Ie(17)),bn(this),this.m=2,Mn(this)):na(this,this.T-u)};function Mn(u){u.j.I==0||u.K||hu(u.j,u)}function bn(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),bs(v);else break t;Rr(v),Ie(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ca(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xt=L[m];const me=Xt[0];if(!(me<=v.K))if(v.K=me,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const Un=Xt[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Ri=Xt[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const Wn=Xt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Ir=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=T.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yl(B,B.h),B.h=null))}if(T.G){const ha=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(T.wa=ha,Wt(T.J,T.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=mu(T,T.L?T.ba:null,T.W),et.L){_l(T.h,et);var Rt=et,Se=T.O;Se&&(Rt.H=Se),Rt.D&&(gi(Rt),pi(Rt)),T.g=et}else uu(T);v.i.length>0&&Ai(v)}else Xt[0]!="stop"&&Xt[0]!="close"||wi(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?wi(v,7):Il(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}ci(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yl(u,m){u.g?u.g.add(m):u.h=m}function _l(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,El(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),ps(this,m[4]),this.h=Ei(m[5]||"",!0),El(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,sa,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Tl:su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,ru)),u.join("")},Sn.prototype.resolve=function(u){const m=Ne(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ps(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Rt=L[et++];Rt=="."?T&&et==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?El(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ne(u){return new Sn(u)}function qe(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,v){m instanceof ys?(u.i=m,aa(u.i,u.l)):(v||(m=Er(m,gs)),u.i=new ys(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function vr(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,su=/[#\?:]/g,Tl=/[#\?]/g,gs=/[#\?@]/g,ru=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ys.prototype,r.add=function(u,m){dn(this),this.i=null,u=_s(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function au(u,m){dn(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bl(u,m){return dn(u),m=_s(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){dn(u);let v=[];if(typeof m=="string")bl(u,m)&&(v=v.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=_s(this,u),bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){au(u,m),v.length>0&&(u.i=null,u.g.set(_s(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Bi(v);v=Sl(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Bi(v[B])),u.push(et)}}return this.i=u.join("&")};function lu(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(au(this,T),ra(this,L,v))},u)),u.j=m}function $n(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=b(Vn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Vn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Vn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const v=new Yn,T=new AbortController,L=setTimeout(()=>{T.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function vs(){this.g=new Ko}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ti,Xo),Ti.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){xt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,xt),r=Tr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):Zn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},r.Na=function(u){this.g&&(this.response=u,Es(this))},r.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return jt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=kn(v),typeof u=="string"?v!=null&&Bi(v):Wt(u,m,v))}function ie(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ie,xt);var bi=/^https?$/i,wl=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),qi(u)}function Rl(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ce(this,"complete"),ce(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},r.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ce(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(u.D).match(iu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!bi.test(et?et.toLowerCase():"")}v=T}if(v)ce(u,"complete"),ce(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Rl(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=tu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Dt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ts(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ts.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ie(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),Ai(this)};function Il(u){if(oa(u),u.I==3){var m=u.V++,v=Ne(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),wr(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=vr(Ne(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}du(u)}function bs(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function oa(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!gl(u.h)&&!u.m){u.m=!0;var m=u.Ea;le||A(),Nt||(le(),Nt=!0),C.add(m,u),u.D=0}}function ua(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(y(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ou(this,L,m),v=Ne(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),wr(this,v),B&&(this.R?m="headers="+Bi(kn(B))+"&"+m:this.u&&br(v,this.u,B)),yl(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,mi(L,v,null)):mi(L,v,m),this.I=2}}else this.I==3&&(u?Cl(this,u):this.i.length==0||gl(this.h)||Cl(this))};function Cl(u,m){var v;m?v=m.l:v=u.V++;const T=Ne(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),wr(u,T),u.u&&u.o&&br(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yl(u.h,v),mi(v,T,m)}function wr(u,m){u.H&&jt(u.H,function(v,T){Wt(m,T,v)}),u.l&&jt({},function(v,T){Wt(m,T,v)})}function ou(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Se=["count="+v];Rt==-1?v>0?(Rt=L[0].g,Se.push("ofs="+Rt)):Rt=0:Se.push("ofs="+Rt);let Xt=!0;for(let me=0;me<v;me++){var B=L[me].g;const Un=L[me].map;if(B-=Rt,B<0)Rt=Math.max(0,L[me].g-100),Xt=!1;else try{B="req"+B+"_"||"";try{var et=Un instanceof Map?Un:Object.entries(Un);for(const[Ri,Wn]of et){let ti=Wn;g(Wn)&&(ti=ms(Wn)),Se.push(B+Ri+"="+encodeURIComponent(ti))}}catch(Ri){throw Se.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{T&&T(Un)}}if(Xt){et=Se.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;le||A(),Nt||(le(),Nt=!0),C.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(y(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),bs(this),cu(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(Ne(m)),v.u=null,v.R=!0,ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,bs(this),Rr(this),Ie(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var v=null;if(u.g==m){ca(u),xl(u),u.g=null;var T=2}else if(vi(u.h,m))v=m.G,_l(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ta(),ce(T,new hi(T,v)),Ai(u)}else uu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ua(u,m)||T==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function fu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),vr(T),L?$n(T.toString(),v):Al(T.toString(),v)}else Ie(2);u.I=0,u.l&&u.l.pa(m),du(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=vl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,v){var T=v instanceof Sn?Ne(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Sn(null);T&&qe(B,T),m&&(B.g=m),L&&ps(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),wr(u,T),T}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ti({ab:v})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ss(){}Ss.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){xt.call(this),this.g=new Ts(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}S(cn,xt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Il(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ms(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Ai(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,cn.Z.N.call(this)};function yu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(yu,Qe);function _u(){On.call(this),this.status=1}S(_u,On);function Gi(u){this.g=u}S(Gi,gu),Gi.prototype.ra=function(){ce(this.g,"a")},Gi.prototype.qa=function(u){ce(this.g,new yu(u))},Gi.prototype.pa=function(u){ce(this.g,new _u)},Gi.prototype.oa=function(){ce(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,mE=function(){return new Ss},dE=function(){return ta()},fE=be,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Vc=yr,dl.COMPLETE="complete",hE=dl,$o.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,yo=$o,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,cE=ie}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let ll="12.3.0";const Xr=new Em("@firebase/firestore");function Ba(){return Xr.logLevel}function lt(r,...t){if(Xr.logLevel<=Lt.DEBUG){const i=t.map(Nm);Xr.debug(`Firestore (${ll}): ${r}`,...i)}}function hs(r,...t){if(Xr.logLevel<=Lt.ERROR){const i=t.map(Nm);Xr.error(`Firestore (${ll}): ${r}`,...i)}}function Ja(r,...t){if(Xr.logLevel<=Lt.WARN){const i=t.map(Nm);Xr.warn(`Firestore (${ll}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,pE(r,a,i)}function pE(r,t,i){let a=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Jt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||pE(t,o,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ds{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class gE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class g2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Jt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new sr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new sr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Jt(typeof a.accessToken=="string",31837,{l:a}),new gE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Jt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=T2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return jd(o)===jd(c)?Pt(o,c):jd(o)?1:-1}return Pt(r.length,t.length)}const b2=55296,S2=57343;function jd(r){const t=r.charCodeAt(0);return t>=b2&&t<=S2}function Wa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const yv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Di.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),o=Di.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Di.extractNumericId(t).compare(Di.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ir.fromString(t.substring(4,t.length-2))}}class ge extends Di{construct(t,i,a){return new ge(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ge(i)}static emptyPath(){return new ge([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Di{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return A2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new We([yv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ge.fromString(t))}static fromName(t){return new pt(ge.fromString(t).popFirst(5))}static empty(){return new pt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ge.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ge(t.slice()))}}function w2(r,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function R2(r,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!pt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ue(r,t){const i={typeString:r};return t&&(i.value=t),i}function qo(r,t){if(!yE(r))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qo(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Ue("string",de._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new de(0,0))}static max(){return new bt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xo=-1;function I2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new ar(o,pt.empty(),t)}function C2(r){return new ar(r.readTime,r.key,xo)}class ar{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ar(bt.min(),pt.empty(),xo)}static max(){return new ar(bt.max(),pt.empty(),xo)}}function x2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==N2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function O2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(r){return r.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Mm=-1;function hh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function M2(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _E="";function V2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=k2(r.get(i),t);return Tv(t)}function k2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case _E:i+="";break;default:i+=c}}return i}function Tv(r){return r+_E+""}function bv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function fr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function vE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ye{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Je(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new je(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const i=U2.exec(r);if(Jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function or(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const TE="server_timestamp",bE="__type__",SE="__previous_value__",AE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[bE]?.stringValue===TE}function fh(r){const t=r.mapValue.fields[SE];return Vm(t)?fh(t):t}function No(r){const t=lr(r.mapValue.fields[AE].timestampValue);return new de(t.seconds,t.nanos)}class L2{constructor(t,i,a,o,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Xc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}const wE="__type__",P2="__max__",wc={mapValue:{}},RE="__vector__",$c="value";function ur(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:j2(r)?9007199254740991:z2(r)?10:11:_t(28295,{value:r})}function Pi(r,t){if(r===t)return!0;const i=ur(r);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=lr(o.timestampValue),g=lr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return or(o.bytesValue).isEqual(or(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Re(o.geoPointValue.latitude)===Re(c.geoPointValue.latitude)&&Re(o.geoPointValue.longitude)===Re(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Re(o.integerValue)===Re(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Re(o.doubleValue),g=Re(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(bv(d)!==bv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Pi(d[_],g[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find((i=>Pi(i,t)))!==void 0}function tl(r,t){if(r===t)return 0;const i=ur(r),a=ur(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Re(c.integerValue||c.doubleValue),_=Re(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(No(r),No(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=or(c),_=or(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Pt(g[y],_[y]);if(b!==0)return b}return Pt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Pt(Re(c.latitude),Re(d.latitude));return g!==0?g:Pt(Re(c.longitude),Re(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[$c]?.arrayValue,b=_[$c]?.arrayValue,S=Pt(y?.values?.length||0,b?.values?.length||0);return S!==0?S:wv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const M=em(_[S],b[S]);if(M!==0)return M;const F=tl(g[_[S]],y[b[S]]);if(F!==0)return F}return Pt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=lr(r),a=lr(t),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=tl(i[o],a[o]);if(c)return c}return Pt(i.length,a.length)}function el(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=lr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return or(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function kc(r){switch(ur(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return fr(a.fields,((c,d)=>{o+=c.length+kc(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function z2(r){return(r?.mapValue?.fields||{})[wE]?.stringValue===RE}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return fr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function j2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=We.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=So(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){fr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new En(So(this.value))}}function IE(r){const t=[];return fr(r.fields,((i,a)=>{const o=new We([i]);if(Uc(a)){const c=IE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Dn(t)}class an{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),En.empty(),0)}static newFoundDocument(t,i,a,o){return new an(t,1,i,bt.min(),a,o,0)}static newNoDocument(t,i){return new an(t,2,i,bt.min(),bt.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,bt.min(),bt.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=tl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function xv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Pi(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function B2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class CE{}class ze extends CE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new H2(t,i,a):i==="array-contains"?new Q2(t,a):i==="in"?new Y2(t,a):i==="not-in"?new K2(t,a):i==="array-contains-any"?new X2(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new G2(t,a):new F2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends CE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return xE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(r){return r.op==="and"}function NE(r){return q2(r)&&xE(r)}function q2(r){for(const t of r.filters)if(t instanceof zi)return!1;return!0}function sm(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+el(r.value);if(NE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function DE(r,t){return r instanceof ze?(function(a,o){return o instanceof ze&&a.op===o.op&&a.field.isEqual(o.field)&&Pi(a.value,o.value)})(r,t):r instanceof zi?(function(a,o){return o instanceof zi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&DE(d,o.filters[g])),!0):!1})(r,t):void _t(19439)}function OE(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(r):r instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(OE).join(" ,")+"}"})(r):"Filter"}class H2 extends ze{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class G2 extends ze{constructor(t,i){super(t,"in",i),this.keys=ME("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class F2 extends ze{constructor(t,i){super(t,"not-in",i),this.keys=ME("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function ME(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Q2 extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Oo(i.arrayValue,this.value)}}class Y2 extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class K2 extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class X2 extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class $2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new $2(r,t,i,a,o,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>el(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>el(a))).join(",")),t.Te=i}return t.Te}function Lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!B2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!DE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!xv(r.startAt,t.startAt)&&xv(r.endAt,t.endAt)}function rm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Z2(r,t,i,a,o,c,d,g){return new dh(r,t,i,a,o,c,d,g)}function mh(r){return new dh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function J2(r){return r.collectionGroup!==null}function Ao(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new je(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Jc(We.keyField(),a))}return t.Ie}function Vi(r){const t=At(r);return t.Ee||(t.Ee=W2(t,Ao(r))),t.Ee}function W2(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Lm(Vi(r),Vi(t))&&r.limitType===t.limitType}function VE(r){return`${Um(Vi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>OE(o))).join(", ")}]`),hh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Cv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,g,_){const y=Cv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Ao(a),o))})(r,t)}function tR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=eR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function eR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?tl(_,y):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}const nR=new ye(pt.comparator);function fs(){return nR}const UE=new ye(pt.comparator);function _o(...r){let t=UE;for(const i of r)t=t.insert(i.key,i);return t}function LE(r){let t=UE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return wo()}function PE(){return wo()}function wo(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const iR=new ye(pt.comparator),sR=new je(pt.comparator);function zt(...r){let t=sR;for(const i of r)t=t.add(i);return t}const rR=new je(Pt);function aR(){return rR}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function zE(r){return{integerValue:""+r}}function jE(r,t){return M2(t)?zE(t):Pm(r,t)}class yh{constructor(){this._=void 0}}function lR(r,t,i){return r instanceof Wc?(function(o,c){const d={fields:{[bE]:{stringValue:TE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=fh(c)),c&&(d.fields[SE]=c),{mapValue:d}})(i,t):r instanceof Mo?qE(r,t):r instanceof Vo?HE(r,t):(function(o,c){const d=BE(o,c),g=Ov(d)+Ov(o.Ae);return im(d)&&im(o.Ae)?zE(g):Pm(o.serializer,g)})(r,t)}function oR(r,t,i){return r instanceof Mo?qE(r,t):r instanceof Vo?HE(r,t):i}function BE(r,t){return r instanceof ko?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Wc extends yh{}class Mo extends yh{constructor(t){super(),this.elements=t}}function qE(r,t){const i=GE(t);for(const a of r.elements)i.some((o=>Pi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends yh{constructor(t){super(),this.elements=t}}function HE(r,t){let i=GE(t);for(const a of r.elements)i=i.filter((o=>!Pi(o,a)));return{arrayValue:{values:i}}}class ko extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return Re(r.integerValue||r.doubleValue)}function GE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class uR{constructor(t,i){this.field=t,this.transform=i}}function cR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Mo&&o instanceof Mo||a instanceof Vo&&o instanceof Vo?Wa(a.elements,o.elements,Pi):a instanceof ko&&o instanceof ko?Pi(a.Ae,o.Ae):a instanceof Wc&&o instanceof Wc})(r.transform,t.transform)}class hR{constructor(t,i){this.version=t,this.transformResults=i}}class oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function FE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zm(r.key,oi.none()):new Ho(r.key,r.data,oi.none());{const i=r.data,a=En.empty();let o=new je(We.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new dr(r.key,a,new Dn(o.toArray()),oi.none())}}function fR(r,t,i){r instanceof Ho?(function(o,c,d){const g=o.value.clone(),_=Vv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof dr?(function(o,c,d){if(!Lc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(QE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Ho?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=c.value.clone(),b=kv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof dr?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=kv(c.fieldTransforms,_,d),b=d.data;return b.setAll(QE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function dR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=BE(a.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Wa(a,o,((c,d)=>cR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ho extends _h{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends _h{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function QE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,oR(d,g,i[o]))}return a}function kv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,lR(c,d,t))}return a}class zm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&fR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=PE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=FE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class jm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return iR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new jm(t,i,a,o)}}class gR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yR{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Ht;function _R(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function YE(r){if(r===void 0)return hs("GRPC error has no .code"),$.UNKNOWN;switch(r){case ke.OK:return $.OK;case ke.CANCELLED:return $.CANCELLED;case ke.UNKNOWN:return $.UNKNOWN;case ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ke.INTERNAL:return $.INTERNAL;case ke.UNAVAILABLE:return $.UNAVAILABLE;case ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ke.NOT_FOUND:return $.NOT_FOUND;case ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ke.ABORTED:return $.ABORTED;case ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ke.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Ht=ke||(ke={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function vR(){return new TextEncoder}const ER=new ir([4294967295,4294967295],0);function Uv(r){const t=vR().encode(r),i=new uE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ir([i,a],0),new ir([o,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ir.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(ir.fromNumber(a)));return o.compare(ER)===1&&(o=new ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Go.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(bt.min(),o,new ye(Pt),fs(),zt())}}class Go{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Go(a,i,zt(),zt(),zt())}}class Pc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class KE{constructor(t,i){this.targetId=t,this.Ce=i}}class XE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t(38017,{changeType:c})}})),new Go(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TR{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=Rc(),this.He=Rc(),this.Ye=new ye(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new pt(c.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=or(a).toUint8Array()}catch(_){if(_ instanceof EE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,o,c)}catch(_){return Ja(_ instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new vh(t,i,this.Ye,this.je,a);return this.je=fs(),this.Je=Rc(),this.He=Rc(),this.Ye=new ye(Pt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Rc(){return new ye(pt.comparator)}function zv(){return new ye(pt.comparator)}const bR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class wR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $E(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function RR(r,t){return th(r,t.toTimestamp())}function ki(r){return Jt(!!r,49232),bt.fromTimestamp((function(i){const a=lr(i);return new de(a.seconds,a.nanos)})(r))}function qm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(o){return new ge(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function ZE(r){const t=ge.fromString(r);return Jt(nT(t),10190,{key:t.toString()}),t}function um(r,t){return qm(r.databaseId,t.path)}function Bd(r,t){const i=ZE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(WE(i))}function JE(r,t){return qm(r.databaseId,t)}function IR(r){const t=ZE(r);return t.length===4?ge.emptyPath():WE(t)}function cm(r){return new ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WE(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function CR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Jt(b===void 0||typeof b=="string",58123),tn.fromBase64String(b||"")):(Jt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),tn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:YE(y.code);return new ct(b,y.message||"")})(d);i=new XE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):bt.min(),g=new En({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Pc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?ki(a.readTime):bt.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new yR(o,c),g=a.targetId;i=new KE(g,d)}}return i}function xR(r,t){let i;if(t instanceof Ho)i={update:jv(r,t.key,t.value)};else if(t instanceof zm)i={delete:um(r,t.key)};else if(t instanceof dr)i={update:jv(r,t.key,t.data),updateMask:PR(t.fieldMask)};else{if(!(t instanceof mR))return _t(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:RR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?ki(o.updateTime):ki(c);return d.isEqual(bt.min())&&(d=ki(c)),new hR(d,o.transformResults||[])})(i,t)))):[]}function DR(r,t){return{documents:[JE(r,t.path)]}}function OR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=JE(r,o);const c=(function(y){if(y.length!==0)return eT(zi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ha(M.field),direction:kR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function MR(r){let t=IR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Jt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=tT(S);return M instanceof zi&&NE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new Jc(Ga(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,hh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new Zc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new Zc(F,M)})(i.endAt)),Z2(t,o,d,c,g,"F",_,y)}function VR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function tT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(Ga(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((a=>tT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function kR(r){return bR[r]}function UR(r){return SR[r]}function LR(r){return AR[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Ga(r){return We.fromServerFormat(r.fieldPath)}function eT(r){return r instanceof ze?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:UR(i.op),value:i.value}}})(r):r instanceof zi?(function(i){const a=i.getFilters().map((o=>eT(o)));return a.length===1?a[0]:{compositeFilter:{op:LR(i.op),filters:a}}})(r):_t(54877,{filter:r})}function PR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function nT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Js{constructor(t,i,a,o,c=bt.min(),d=bt.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zR{constructor(t){this.yt=t}}function jR(r){const t=MR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class BR{constructor(){this.Cn=new qR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(ar.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class qR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new je(ge.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new je(ge.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(iT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const qv="LruGarbageCollector",HR=1048576;function Hv([r,t],[i,a]){const o=Pt(r,i);return o===0?Pt(t,a):o}class GR{constructor(t){this.Ir=t,this.buffer=new je(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?lt(qv,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Vr(3e5)}))}}class QR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const a=new GR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ba()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function YR(r,t){return new QR(r,t)}class KR{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class $R{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,Dn.empty(),de.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=Gr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=_o();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=fs();const d=wo(),g=(function(){return wo()})();return i.forEach(((_,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof dr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ro(b.mutation,y,b.mutation.getFieldMask(),de.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new XR(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=wo();let o=new ye(((d,g)=>d-g)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Dn.empty();b=g.applyToLocalView(y,b),a.set(_,b);const S=(o.get(g.batchId)||zt()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,S=PE();b.forEach((M=>{if(!c.has(M)){const F=FE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):J2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Gr());let g=xo,_=c;return d.next((y=>X.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,zt()))).next((b=>({batchId:g,changes:LE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=_o();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(S,M){return new dh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let g=_o();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ro(b.mutation,y,Dn.empty(),de.now()),gh(i,y)&&(g=g.insert(_,y))})),g}))}}class ZR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:jR(o.bundledQuery),readTime:ki(o.readTime)}})(i)),X.resolve()}}class JR{constructor(){this.overlays=new ye(pt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Gr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ye(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Gr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return X.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class WR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new ge([])),a=new Ge(i,t),o=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ge([])),a=new Ge(i,t),o=new Ge(i,t+1);let c=zt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class tI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Pt);return i.forEach((o=>{const c=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new pt(c),0);let g=new je(Pt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ge(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eI{constructor(t){this.ri=t,this.docs=(function(){return new ye(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=fs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=fs();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||x2(C2(b),a)<=0||(o.has(b.key)||gh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){_t(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new nI(this)}getSize(t){return X.resolve(this.size)}}class nI extends KR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class iI{constructor(t){this.persistence=t,this.si=new Jr((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new nl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class sT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new WR,this.referenceDelegate=t(this),this.Pi=new iI(this),this.indexManager=new BR,this.remoteDocumentCache=(function(o){return new eI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new zR(i),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new JR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new tI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new sI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class sI extends D2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=pt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>V2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=YR(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(t,i.fromCache,a,o)}}class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class aI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:O2(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ba()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Lt.DEBUG&&lt("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ba()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):X.resolve())}ys(t,i){if(Dv(i))return X.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return Dv(i)||o.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ba()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(i)),this.vs(t,d,i,I2(o,xo)).next((g=>g)))}))}Ds(t,i){let a=new je(kE(t));return i.forEach(((o,c)=>{gh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Ba()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,ar.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",lI=3e8;class oI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ye(Pt),this.xs=new Jr((c=>Um(c)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $R(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function uI(r,t,i,a){return new oI(r,t,i,a)}async function rT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=zt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function cI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const S=y.batch,M=S.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>b.getEntry(_,W))).next((st=>{const J=y.docVersions.get(W);Jt(J!==null,48541),st.version.compareTo(J)<0&&(S.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),b.addEntry(st)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=zt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function aT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function hI(r,t){const i=At(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((b,S)=>{const M=o.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(S,F),(function(st,J,mt){return st.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=lI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,F,b)&&g.push(i.Pi.updateTargetData(c,F))}));let _=fs(),y=zt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(fI(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(bt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function fI(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=fs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):lt(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function dI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function mI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Js(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=At(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;lt(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Gv(r,t,i){const a=At(r);let o=bt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=At(_),M=S.xs.get(b);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,b)})(a,d,Vi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:bt.min(),i?c:zt()))).next((g=>(pI(a,tR(t),g),{documents:g,Qs:c})))))}function pI(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=aR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gI{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yI{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function fm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",_I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),g=this.zo(t,i.toUriEncodedString());lt(qd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),b=sl(y);return this.Jo(t,g,_,a,b).then((S=>(lt(qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=_I[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class EI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class TI extends vI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((g,_)=>{const y=new cE;y.setWithCredentials(!0),y.listenOnce(hE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const S=y.getResponseJson();lt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Vc.TIMEOUT:lt(sn,`RPC '${t}' ${d} timed out`),_(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const M=y.getStatus();if(lt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const st=(function(mt){const Et=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(W.status);_(new ct(st,W.message))}else _(new ct($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(sn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);lt(sn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=mE(),g=dE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");lt(sn,`Creating RPC '${t}' stream ${o}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let M=!1,F=!1;const W=new EI({Yo:J=>{F?lt(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(M||(lt(sn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),lt(sn,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),st=(J,mt,Et)=>{J.listen(mt,(yt=>{try{Et(yt)}catch(Kt){setTimeout((()=>{throw Kt}),0)}}))};return st(S,yo.EventType.OPEN,(()=>{F||(lt(sn,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),st(S,yo.EventType.CLOSE,(()=>{F||(F=!0,lt(sn,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(S))})),st(S,yo.EventType.ERROR,(J=>{F||(F=!0,Ja(sn,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),st(S,yo.EventType.MESSAGE,(J=>{if(!F){const mt=J.data[0];Jt(!!mt,16349);const Et=mt,yt=Et?.error||Et[0]?.error;if(yt){lt(sn,`RPC '${t}' stream ${o} received error:`,yt);const Kt=yt.status;let le=(function(A){const I=ke[A];if(I!==void 0)return YE(I)})(Kt),Nt=yt.message;le===void 0&&(le=$.INTERNAL,Nt="Unknown error status: "+Kt+" with message "+yt.message),F=!0,W.a_(new ct(le,Nt)),S.close()}else lt(sn,`RPC '${t}' stream ${o} received:`,mt),W.u_(mt)}})),st(g,fE.STAT_EVENT,(J=>{J.stat===tm.PROXY?lt(sn,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&lt(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function Eh(r){return new wR(r,!0)}class lT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class oT{constructor(t,i,a,o,c,d,g,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bI extends oT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=CR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ki(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=rm(_)?{documents:DR(c,_)}:{query:OR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$E(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=VR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class SI extends oT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NR(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xR(this.serializer,a)))};this.q_(i)}}class AI{}class wI extends AI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,om(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class II{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(lt($r,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Fo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new RI(a,o)}}async function Th(r){if(Wr(r))for(const t of r.da)await t(!0)}async function Fo(r){for(const t of r.da)await t(!1)}function uT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):cl(i).O_()&&Km(i,t))}function Ym(r,t){const i=At(r),a=cl(i);i.Ia.delete(t),a.O_()&&cT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(r).Y_(t)}function cT(r,t){r.Va.Ue(t),cl(r).Z_(t)}function Xm(r){r.Va=new TR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),cl(r).start(),r.Ra.ua()}function $m(r){return Wr(r)&&!cl(r).x_()&&r.Ia.size>0}function Wr(r){return At(r).Ea.size===0}function hT(r){r.Va=void 0}async function CI(r){r.Ra.set("Online")}async function xI(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function NI(r,t){hT(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function DI(r,t,i){if(r.Ra.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){lt($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof KE?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await aT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(tn.EMPTY_BYTE_STRING,b.snapshotVersion)),cT(c,_);const S=new Js(b.target,_,y,b.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){lt($r,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!ul(t))throw t;r.Ea.add(1),await Fo(r),r.Ra.set("Offline"),i||(i=()=>aT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt($r,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function fT(r,t){return t().catch((i=>nh(r,i,t)))}async function bh(r){const t=At(r),i=cr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;OI(t);)try{const o=await dI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,MI(t,o)}catch(o){await nh(t,o)}dT(t)&&mT(t)}function OI(r){return Wr(r)&&r.Ta.length<10}function MI(r,t){r.Ta.push(t);const i=cr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function dT(r){return Wr(r)&&!cr(r).x_()&&r.Ta.length>0}function mT(r){cr(r).start()}async function VI(r){cr(r).ra()}async function kI(r){const t=cr(r);for(const i of r.Ta)t.ea(i.mutations)}async function UI(r,t,i){const a=r.Ta.shift(),o=jm.from(a,t,i);await fT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bh(r)}async function LI(r,t){t&&cr(r).X_&&await(async function(a,o){if((function(d){return _R(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();cr(a).B_(),await fT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bh(a)}})(r,t),dT(r)&&mT(r)}async function Xv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt($r,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Fo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function PI(r,t){const i=At(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Fo(i),i.Ra.set("Unknown"))}function cl(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new bI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:CI.bind(null,r),t_:xI.bind(null,r),r_:NI.bind(null,r),H_:DI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),hT(r))}))),r.ma}function cr(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new SI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VI.bind(null,r),r_:LI.bind(null,r),ta:kI.bind(null,r),na:UI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt($r,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Zm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(hs("AsyncQueue",`${t}: ${r}`),ul(r))return new ct($.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Xa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new ye(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class il{constructor(t,i,a,o,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(t,i,Xa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class zI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jI{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Zv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Zv(){return new Jr((r=>VE(r)),ph)}async function pT(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new zI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function gT(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function BI(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function qI(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var dm,Jv;(Jv=dm||(dm={})).Ma="default",Jv.Cache="cache";class yT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new il(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class _T{constructor(t){this.key=t}}class vT{constructor(t){this.key=t}}class HI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=kE(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const M=o.get(b),F=gh(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),st=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==st&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(_||y)&&(g=!0)),J&&(F?(d=d.add(F),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(F,W){const st=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return st(F)-st(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new il(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new vT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new _T(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class GI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FI{constructor(t){this.key=t,this.hu=!1}}class QI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((g=>VE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ye(pt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YI(r,t,i=!0){const a=wT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ET(a,t,i,!0),o}async function KI(r,t){const i=wT(r);await ET(i,t,!0,!1)}async function ET(r,t,i,a){const o=await mI(r.localStore,Vi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await XI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&uT(r.remoteStore,o),g}async function XI(r,t,i,a,o){r.pu=(S,M,F)=>(async function(st,J,mt,Et){let yt=J.view.ru(mt);yt.Cs&&(yt=await Gv(st.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,yt))));const Kt=Et&&Et.targetChanges.get(J.targetId),le=Et&&Et.targetMismatches.get(J.targetId)!=null,Nt=J.view.applyChanges(yt,st.isPrimaryClient,Kt,le);return t0(st,J.targetId,Nt.au),Nt.snapshot})(r,S,M,F);const c=await Gv(r.localStore,t,!0),d=new HI(t,c.Qs),g=d.ru(c.documents),_=Go.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);t0(r,i,y.au);const b=new GI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function $I(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(ol)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function ZI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function JI(r,t,i){const a=rC(r);try{const o=await(function(d,g){const _=At(d),y=de.now(),b=g.reduce(((F,W)=>F.add(W.key)),zt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=fs(),st=zt();return _.Ns.getEntries(F,b).next((J=>{W=J,W.forEach(((mt,Et)=>{Et.isValidDocument()||(st=st.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((J=>{S=J;const mt=[];for(const Et of g){const yt=dR(Et,S.get(Et.key).overlayedDocument);yt!=null&&mt.push(new dr(Et.key,yt,IE(yt.value.mapValue),oi.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,mt,g)})).next((J=>{M=J;const mt=J.applyToLocalDocumentSet(S,st);return _.documentOverlayCache.saveOverlays(F,J.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:LE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ye(Pt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Qo(a,o.changes),await bh(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function TT(r,t){const i=At(r);try{const a=await hI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Jt(d.hu,14607):o.removedDocuments.size>0&&(Jt(d.hu,42227),d.hu=!1))})),await Qo(i,a,t)}catch(a){await ol(a)}}function Wv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=At(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,S)=>{for(const M of S.Sa)M.va(g)&&(y=!0)})),y&&Wm(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function WI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ye(pt.comparator);d=d.insert(c,an.newNoDocument(c,bt.min()));const g=zt().add(c),_=new vh(bt.min(),new Map,new ye(Pt),d,g);await TT(a,_),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(ol)}async function tC(r,t){const i=At(r),a=t.batch.batchId;try{const o=await cI(i.localStore,t);ST(i,a,null),bT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Qo(i,o)}catch(o){await ol(o)}}async function eC(r,t,i){const a=At(r);try{const o=await(function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Jt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);ST(a,t,i),bT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Qo(a,o)}catch(o){await ol(o)}}function bT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ST(r,t,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||AT(r,a)}))}function AT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ep(r))}function t0(r,t,i){for(const a of i)a instanceof _T?(r.Ru.addReference(a.key,t),nC(r,a)):a instanceof vT?(lt(tp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||AT(r,a.key)):_t(19791,{wu:a})}function nC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(tp,"New document in limbo: "+i),r.Eu.add(a),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(ge.fromString(t)),a=r.fu.next();r.Au.set(a,new FI(i)),r.du=r.du.insert(i,a),uT(r.remoteStore,new Js(Vi(mh(i.path)),a,"TargetPurposeLimboResolution",ch.ce))}}async function Qo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Fm.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const b=At(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!ul(S))throw S;lt(Qm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=b.Ms.get(M),W=F.snapshotVersion,st=F.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(M,st)}}})(a.localStore,c))}async function iC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){lt(tp,"User change. New user:",t.toKey());const a=await rT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Qo(i,a.Ls)}}function sC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function wT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WI.bind(null,t),t.Pu.H_=BI.bind(null,t.eventManager),t.Pu.yu=qI.bind(null,t.eventManager),t}function rC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eC.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return uI(this.persistence,new aI,t.initialUser,this.serializer)}Cu(t){return new sT(Gm.mi,this.serializer)}Du(t){return new gI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class aC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Jt(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new sT((a=>eh.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jI})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=(function(c){return new TI(c)})(t.databaseInfo);return(function(c,d,g,_){return new wI(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new II(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new yI})())}createSyncEngine(t,i){return(function(o,c,d,g,_,y,b){const S=new QI(o,c,d,g,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);lt($r,"RemoteStore shutting down."),a.Ea.add(5),await Fo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class RT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const hr="FirestoreClient";class lC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(hr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await rT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await oC(r);lt(hr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Xv(t.remoteStore,o))),r._onlineComponents=t}async function oC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(hr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new ih)}}else lt(hr,"Using default OfflineComponentProvider"),await Gd(r,new aC(void 0));return r._offlineComponents}async function IT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(hr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(lt(hr,"Using default OnlineComponentProvider"),await e0(r,new pm))),r._onlineComponents}function uC(r){return IT(r).then((t=>t.syncEngine))}async function gm(r){const t=await IT(r),i=t.eventManager;return i.onListen=YI.bind(null,t.syncEngine),i.onUnlisten=$I.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ZI.bind(null,t.syncEngine),i}function cC(r,t,i={}){const a=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const b=new RT({next:M=>{b.Nu(),d.enqueueAndForget((()=>gT(c,S)));const F=M.docs.has(g);!F&&M.fromCache?y.reject(new ct($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&_&&_.source==="server"?y.reject(new ct($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new yT(mh(g.path),b,{includeMetadataChanges:!0,qa:!0});return pT(c,S)})(await gm(r),r.asyncQueue,t,i,a))),a.promise}function CT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const xT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HR)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}R2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class np{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new p2;switch(a.type){case"firstParty":return new v2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function hC(r,t,i,a={}){r=li(r,np);const o=sl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(S0(`https://${g}`),A0("Firestore",!0)),c.host!==xT&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Qr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=rn.MOCK_USER;else{y=zb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(S)}r._authCredentials=new g2(new gE(y,b))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(qo(i,Le._jsonSchema))return new Le(t,a||null,new pt(ge.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Ue("string",Le._jsonSchemaVersion),referencePath:Ue("string")};class Uo extends Sh{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new pt(t))}withConverter(t){return new Uo(this.firestore,t,this._path)}}function Cc(r,t,...i){if(r=on(r),arguments.length===1&&(t=Dm.newId()),w2("doc","path",t),r instanceof np){const a=ge.fromString(t,...i);return _v(a),new Le(r,null,new pt(a))}{if(!(r instanceof Le||r instanceof Uo))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ge.fromString(t,...i));return _v(a),new Le(r.firestore,r instanceof Uo?r.converter:null,new pt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&lt(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;lt(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Zr extends np{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new a0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function fC(r,t){const i=typeof r=="object"?r:C0(),a=typeof r=="string"?r:Xc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Lb("firestore");c&&hC(o,...c)}return o}function ip(r){if(r._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dC(r),r._firestoreClient}function dC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new L2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(tn.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qo(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ue("string",Fn._jsonSchemaVersion),bytes:Ue("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(qo(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ue("string",Ui._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Li{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qo(t,Li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Li(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ue("string",Li._jsonSchemaVersion),vectorValues:Ue("object")};const mC=/^__.*__$/;class pC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ho(t,this.data,i,this.fieldTransforms)}}class NT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function DT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class sp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(DT(this.Ac)&&mC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}Cc(t,i,a,o=!1){return new sp({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OT(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new gC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function yC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);ap("Data must be an object, but it was:",d,a);const g=MT(a,d);let _,y;if(c.merge)_=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=ym(t,S,i);if(!d.contains(M))throw new ct($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);kT(b,M)||b.push(M)}_=new Dn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new pC(new En(g),_,y)}class Rh extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}class rp extends wh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new ko(t.serializer,jE(t.serializer,this.Fc));return new uR(t.path,i)}isEqual(t){return t instanceof rp&&this.Fc===t.Fc}}function _C(r,t,i,a){const o=r.Cc(1,t,i);ap("Data must be an object, but it was:",o,a);const c=[],d=En.empty();fr(a,((_,y)=>{const b=lp(t,_,i);y=on(y);const S=o.yc(b);if(y instanceof Rh)c.push(b);else{const M=Ih(y,S);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Dn(c);return new NT(d,g,o.fieldTransforms)}function vC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[ym(t,a,i)],_=[o];if(c.length%2!=0)throw new ct($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(ym(t,c[M])),_.push(c[M+1]);const y=[],b=En.empty();for(let M=g.length-1;M>=0;--M)if(!kT(y,g[M])){const F=g[M];let W=_[M];W=on(W);const st=d.yc(F);if(W instanceof Rh)y.push(F);else{const J=Ih(W,st);J!=null&&(y.push(F),b.set(F,J))}}const S=new Dn(y);return new NT(b,S,d.fieldTransforms)}function Ih(r,t){if(VT(r=on(r)))return ap("Unsupported field value:",t,r),MT(r,t);if(r instanceof wh)return(function(a,o){if(!DT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=Ih(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=on(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:th(o.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:$E(o.serializer,a._byteString)};if(a instanceof Le){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Li)return(function(d,g){return{mapValue:{fields:{[wE]:{stringValue:RE},[$c]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Pm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Om(a)}`)})(r,t)}function MT(r,t){const i={};return vE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(r,((a,o)=>{const c=Ih(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Ui||r instanceof Fn||r instanceof Le||r instanceof wh||r instanceof Li)}function ap(r,t,i){if(!VT(i)||!yE(i)){const a=Om(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function ym(r,t,i){if((t=on(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return lp(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const EC=new RegExp("[~\\*/\\[\\]]");function lp(r,t,i){if(t.search(EC)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ct($.INVALID_ARGUMENT,g+r+_)}function kT(r,t){return r.some((i=>i.isEqual(t)))}class UT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TC extends UT{data(){return super.data()}}function LT(r,t){return typeof t=="string"?lp(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function bC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SC{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>Re(a.doubleValue)));return new Li(i)}convertGeoPoint(t){return new Ui(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=lr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ge.fromString(t);Jt(nT(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return o.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function AC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Eo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends UT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(LT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Ue("string",Fr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class zc extends Fr{data(t={}){return super.data(t)}}class $a{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:wC(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function RC(r){r=li(r,Le);const t=li(r.firestore,Zr);return cC(ip(t),r._key).then((i=>zT(t,r,i)))}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ue("string",$a._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class PT extends SC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function IC(r,t,i){r=li(r,Le);const a=li(r.firestore,Zr),o=AC(r.converter,t);return op(a,[yC(OT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,oi.none())])}function Fd(r,t,i,...a){r=li(r,Le);const o=li(r.firestore,Zr),c=OT(o);let d;return d=typeof(t=on(t))=="string"||t instanceof Ah?vC(c,"updateDoc",r._key,t,i,a):_C(c,"updateDoc",r._key,t),op(o,[d.toMutation(r._key,oi.exists(!0))])}function CC(r){return op(li(r.firestore,Zr),[new zm(r._key,oi.none())])}function xC(r,...t){r=on(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof Le)d=li(r.firestore,Zr),g=mh(r._key.path),c={next:_=>{t[a]&&t[a](zT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=li(r,Sh);d=li(_.firestore,Zr),g=_._query;const y=new PT(d);c={next:b=>{t[a]&&t[a](new $a(d,y,_,b))},error:t[a+1],complete:t[a+2]},bC(r._query)}return(function(y,b,S,M){const F=new RT(M),W=new yT(b,F,S);return y.asyncQueue.enqueueAndForget((async()=>pT(await gm(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>gT(await gm(y),W)))}})(ip(d),g,o,c)}function op(r,t){return(function(a,o){const c=new sr;return a.asyncQueue.enqueueAndForget((async()=>JI(await uC(a),o,c))),c.promise})(ip(r),t)}function zT(r,t,i){const a=i.docs.get(t._key),o=new PT(r);return new Fr(r,o,t._key,a,new Eo(i.hasPendingWrites,i.fromCache),t.converter)}function NC(r){return new rp("increment",r)}(function(t,i=!0){(function(o){ll=o})(rl),Za(new Yr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Zr(new y2(a.getProvider("auth-internal")),new E2(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),er(mv,pv,t),er(mv,pv,"esm2020")})();const DC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=r=>{const t=OC(r);return t.charAt(0).toUpperCase()+t.slice(1)},jT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),MC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var VC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kC=Yt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Yt.createElement("svg",{ref:_,...VC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:jT("lucide",o),...!c&&!MC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Yt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Fe=(r,t)=>{const i=Yt.forwardRef(({className:a,...o},c)=>Yt.createElement(kC,{ref:c,iconNode:t,className:jT(`lucide-${DC(u0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=u0(r),i};const UC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LC=Fe("arrow-right",UC);const PC=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],zC=Fe("bomb",PC);const jC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BC=Fe("chevron-down",jC);const qC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HC=Fe("circle-check-big",qC);const GC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],c0=Fe("gift",GC);const FC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],h0=Fe("hash",FC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],YC=Fe("info",QC);const KC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],XC=Fe("lightbulb",KC);const $C=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ZC=Fe("log-in",$C);const JC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WC=Fe("log-out",JC);const tx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ex=Fe("pen-line",tx);const nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ix=Fe("rotate-ccw",nx);const sx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],rx=Fe("share-2",sx);const ax=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],f0=Fe("shuffle",ax);const lx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],_m=Fe("skull",lx);const ox=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],d0=Fe("star",ox);const ux=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cx=Fe("triangle-alert",ux);const hx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fx=Fe("users",hx),BT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Ch=BT.apiKey!=="_apiKey",qT=Ch?I0(BT):null,xc=Ch?d2(qT):null,po=Ch?fC(qT):null,m0=[" +1 ()"," -1 ()"," +2 ()","",""," 1 ","",""," 3 "," -2 ()"," +3 ()",""],go=["","++","","","","","",""," 20 ","/"],dx=(r,t,i)=>{if(!r||!t||!i)return null;const a=Object.values(i).sort((y,b)=>y-b),o=a.indexOf(t),c=a.length;if(o===-1)return null;let d=null;const g=r.match(/\s*\+(\d+)/);if(g){const y=parseInt(g[1]),b=(o+y)%c;d=a[b]}const _=r.match(/\s*\-(\d+)/);if(_){const y=parseInt(_[1]),b=(o-y+c*10)%c;d=a[b]}if(d!==null){const y=Object.entries(i).find(([b,S])=>S===d);if(y)return{num:d,uid:y[0]}}return null},p0=({message:r,onClose:t})=>(Yt.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),D.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%] pointer-events-none",children:D.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl border border-slate-600 flex items-center gap-2",children:[D.jsx(YC,{size:18,className:"text-blue-400 shrink-0"}),D.jsx("span",{className:"font-bold text-sm md:text-base",children:r})]})})),mx=({items:r,targetItem:t,isSpinning:i,className:a})=>{const[o,c]=Yt.useState(0);Yt.useEffect(()=>{if(i&&t&&r.length>0){const g=r.indexOf(t);if(g===-1)return;const _=360/r.length,b=3600+(360-(g*_+_/2)),S=(Math.random()-.5)*(_*.8);c(b+S)}},[i,t,r]);const d=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#6366f1"];return D.jsxs("div",{className:`relative w-80 h-80 md:w-[500px] md:h-[500px] mx-auto ${a}`,children:[D.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-4 z-20 filter drop-shadow-lg",children:D.jsx(BC,{size:60,className:"text-white fill-white stroke-[4px] stroke-slate-900"})}),D.jsx("div",{className:"w-full h-full rounded-full border-8 border-slate-800 shadow-2xl relative overflow-hidden transition-transform duration-[5000ms] cubic-bezier(0.15, 0.85, 0.15, 1)",style:{transform:`rotate(${o}deg)`,background:`conic-gradient(${r.map((g,_)=>`${d[_%d.length]} ${_*(100/r.length)}% ${(_+1)*(100/r.length)}%`).join(", ")})`},children:r.map((g,_)=>{const y=360/r.length*_+360/r.length/2;return D.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1 origin-left flex items-center",style:{transform:`rotate(${y-90}deg)`},children:D.jsx("div",{className:"pl-12 text-white font-bold text-sm md:text-xl truncate w-32 md:w-56 text-shadow",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:g})},_)})}),D.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-slate-800 rounded-full border-4 border-slate-600 flex items-center justify-center shadow-xl z-10",children:D.jsx(_m,{className:"text-slate-400",size:32})})]})},g0=Yt.memo(()=>{const r=Yt.useRef(null);return Yt.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.15)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.y>t.height&&(g.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),D.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Ys=({children:r,className:t=""})=>D.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),si=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},_={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return D.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${_[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},px=({onFinish:r})=>{const[t,i]=Yt.useState(10);return Yt.useEffect(()=>{if(t<=0){r();return}const a=setTimeout(()=>i(o=>o-1),1e3);return()=>clearTimeout(a)},[t,r]),D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:D.jsxs("div",{className:"text-center animate-pulse",children:[D.jsx("div",{className:"text-yellow-400 text-4xl mb-4 font-bold",children:""}),D.jsx("div",{className:"text-[15rem] font-black text-white leading-none",children:t})]})})},gx=()=>{const[r,t]=Yt.useState(null),[i,a]=Yt.useState(""),[o,c]=Yt.useState(""),[d,g]=Yt.useState(null),[_,y]=Yt.useState(!1),[b,S]=Yt.useState(!0),[M,F]=Yt.useState(null),[W,st]=Yt.useState(""),[J,mt]=Yt.useState(""),[Et,yt]=Yt.useState(""),[Kt,le]=Yt.useState({}),[Nt,C]=Yt.useState([]),[A,I]=Yt.useState(" ..."),[V,x]=Yt.useState(!1),U=d?.participantNumbers?.[r?.uid],[w,ne]=Yt.useState(null),Zt=Z=>{F(Z)};if(!Ch)return D.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:D.jsxs("div",{className:"max-w-md",children:[D.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),D.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});Yt.useEffect(()=>{const Z=async()=>{try{await XA(xc)}catch(it){console.error(":",it)}};if(xc){Z();const it=ew(xc,Bt=>{t(Bt),S(!1)});return()=>it()}else S(!1)},[]),Yt.useEffect(()=>{if(r&&!_){const Z=localStorage.getItem("xmas_last_room_id");Z&&a(Z)}},[r]),Yt.useEffect(()=>{if(!r||!i||!po)return;const Z=Cc(po,"xmas_rooms",`room_${i}`),it=xC(Z,Bt=>{if(Bt.exists()){const rt=Bt.data();if(g(rt),rt.participants&&rt.participants[r.uid]){if(y(!0),c(rt.participants[r.uid]),rt.phase==="gift-entry"){const ht=rt.gifts?rt.gifts[r.uid]:"";ht&&yt(ht)}if(rt.phase==="rule-entry"){const ht=rt.rules.find(Gt=>Gt.uid===r.uid);ht&&ht.text&&st(ht.text)}if(rt.phase==="punishment-entry"){const ht=rt.punishments?rt.punishments[r.uid]:"";ht&&mt(ht)}}if(rt.phase==="game-playing"&&rt.participantNumbers&&rt.participantNumbers[r.uid]){const ht=rt.rules[rt.currentRuleIndex];if(ht&&ht.text){const Gt=dx(ht.text,rt.participantNumbers[r.uid],rt.participantNumbers);if(Gt){const xt=rt.participants[Gt.uid];ne(`${Gt.num}  (${xt})`)}else ne(null)}}else ne(null);if(rt.phase==="punishment-reveal"&&(!Nt||Nt.length===0)){let ht=Object.values(rt.punishments||{});ht.length===0&&(ht=go),C(ht)}if(rt.isSpinning){x(!1);const ht=setInterval(()=>{let xt=Object.values(rt.punishments||{});xt.length===0&&(xt=go),I(xt[Math.floor(Math.random()*xt.length)])},100),Gt=setTimeout(()=>{clearInterval(ht),x(!0)},5e3);return()=>{clearInterval(ht),clearTimeout(Gt)}}else!rt.isSpinning&&!rt.finalPunishment&&(I(" ..."),x(!1));if(rt.hostId===r.uid){const ht=Object.keys(rt.participants).length;rt.phase==="gift-entry"&&ht>1&&Object.keys(rt.gifts||{}).length===ht&&tt("rule-entry",rt),rt.phase==="rule-entry"&&ht>1&&rt.rules.filter(xt=>xt.text&&xt.text.trim()!=="").length===ht&&tt("punishment-entry",rt),rt.phase==="punishment-entry"&&ht>1&&Object.keys(rt.punishments||{}).length===ht&&tt("game-playing",rt),rt.phase==="voting"&&ht>1&&Object.keys(rt.votingStatus||{}).length===ht&&tt("countdown",rt)}}else g(null)});return()=>it()},[r,i]);const H=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await nw(xc),window.location.reload())},nt=async()=>{if(!confirm(""))return;const Z=Cc(po,"xmas_rooms",`room_${i}`),it={...d.participants};delete it[r.uid],Object.keys(it).length===0?(await CC(Z),Zt(" ")):await Fd(Z,{participants:it}),localStorage.removeItem("xmas_last_room_id"),window.location.reload()},ft=async()=>{const Z=i.toString().trim(),it=o.trim();if(!Z||!it){Zt("");return}a(Z),c(it);const Bt=Cc(po,"xmas_rooms",`room_${Z}`);try{const rt=await RC(Bt);if(!rt.exists())await IC(Bt,{hostId:r.uid,phase:"entry",participants:{[r.uid]:it},participantNumbers:{[r.uid]:1},gifts:{},rules:[],punishments:{},currentRuleIndex:0,votingStatus:{},ratings:{},finalResults:null,finalPunishment:null,isSpinning:!1,createdAt:new Date().toISOString()});else{const ht=rt.data();if(ht.phase!=="entry"&&!ht.participants[r.uid]){Zt("");return}const Gt=ht.participantNumbers||{};let xt=Gt[r.uid];if(!xt){const ce=Object.values(Gt);do xt=Math.floor(Math.random()*99)+1;while(ce.includes(xt))}await Fd(Bt,{[`participants.${r.uid}`]:it,[`participantNumbers.${r.uid}`]:xt})}localStorage.setItem("xmas_last_room_id",Z),y(!0)}catch{Zt("")}},jt=()=>{const Z=` 
${window.location.href}
${i}`,it=document.createElement("textarea");it.value=Z,it.style.position="fixed",it.style.left="-9999px",document.body.appendChild(it),it.focus(),it.select();try{document.execCommand("copy"),Zt(" ")}catch{Zt("")}document.body.removeChild(it)},Dt=async Z=>{if(!i)return;const it=Cc(po,"xmas_rooms",`room_${i}`);await Fd(it,Z)},O=()=>{const Z=m0[Math.floor(Math.random()*m0.length)];st(Z)},Y=()=>{const Z=go[Math.floor(Math.random()*go.length)];mt(Z)},tt=async(Z,it=d)=>{if(!it)return;let Bt={phase:Z};if(Z==="rule-entry"&&it.phase==="gift-entry"){const rt=Object.keys(it.participants),ht=rt.length,Gt=Array.from({length:ht},(_e,ui)=>ui+1);for(let _e=Gt.length-1;_e>0;_e--){const ui=Math.floor(Math.random()*(_e+1));[Gt[_e],Gt[ui]]=[Gt[ui],Gt[_e]]}const xt={};rt.forEach((_e,ui)=>{xt[_e]=Gt[ui]}),Bt.participantNumbers=xt;const ce=rt.map(_e=>({uid:_e,authorName:it.participants[_e],text:""}));Bt.rules=ce}if(Z==="game-playing"){const rt=[...it.rules];for(let ht=rt.length-1;ht>0;ht--){const Gt=Math.floor(Math.random()*(ht+1));[rt[ht],rt[Gt]]=[rt[Gt],rt[ht]]}Bt.rules=rt,Bt.currentRuleIndex=0}if(Z==="result-entry"&&(Bt.resultMapping={}),Z==="voting"){const rt={};Object.keys(it.participants).forEach(ht=>{rt[ht]={giftName:"",ratings:{}}}),Bt.matchDetails=rt}if(Z==="result"){const rt=Object.keys(it.participants).map(ht=>{const Gt=it.ratings?it.ratings[ht]:{},xt=Object.values(Gt||{}).reduce((ce,_e)=>ce+_e,0);return{uid:ht,name:it.participants[ht],giftName:it.gifts?it.gifts[ht]:"",totalScore:xt}});Bt.finalResults=rt}await Dt(Bt)},at=async()=>{Et.trim()&&(await Dt({[`gifts.${r.uid}`]:Et}),Zt("..."))},vt=async()=>{if(!W.trim())return;const Z=d.rules.findIndex(Bt=>Bt.uid===r.uid);if(Z===-1)return;const it=[...d.rules];it[Z].text=W,await Dt({rules:it}),Zt("...")},wt=async()=>{J.trim()&&(await Dt({[`punishments.${r.uid}`]:J}),Zt("..."))},Vt=async()=>{d.currentRuleIndex<d.rules.length-1?await Dt({currentRuleIndex:NC(1)}):tt("voting")},Te=(Z,it)=>{le(Bt=>({...Bt,[Z]:it}))},ue=async()=>{const Z={[`votingStatus.${r.uid}`]:!0};Object.keys(d.participants).forEach(it=>{if(it===r.uid)return;const Bt=Kt[it]||1;Z[`ratings.${it}.${r.uid}`]=Bt}),await Dt(Z),Zt("...")},ji=async()=>{let Z=Object.values(d.punishments||{});Z.length===0&&(Z=go);const it=Z[Math.floor(Math.random()*Z.length)];await Dt({finalPunishment:it,isSpinning:!0})};if(b)return D.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!_)return D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[D.jsx(g0,{}),M&&D.jsx(p0,{message:M,onClose:()=>F(null)}),D.jsxs(Ys,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[D.jsx("div",{className:"flex justify-center mb-6",children:D.jsx("div",{className:"p-5 bg-purple-500/20 rounded-full",children:D.jsx(c0,{size:64,className:"text-purple-300"})})}),D.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),D.jsx("p",{className:"text-slate-400 mb-10 text-base uppercase tracking-widest",children:"Party Online"}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"text-left",children:[D.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),D.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:Z=>c(Z.target.value)})]}),D.jsxs("div",{className:"text-left",children:[D.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),D.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:Z=>a(Z.target.value)})]}),D.jsxs(si,{onClick:ft,size:"lg",className:"w-full mt-6 shadow-purple-900/50 text-xl py-5",children:[D.jsx(ZC,{size:24})," "]}),D.jsx("div",{className:"pt-8 border-t border-white/5",children:D.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[D.jsx(ix,{size:14}),"  ()"]})})]})]})]});if(!d)return D.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const Tn=r.uid===d.hostId,en=Object.entries(d.participants).sort((Z,it)=>Z[0].localeCompare(it[0]));return D.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20 overflow-hidden",children:[D.jsx(g0,{}),M&&D.jsx(p0,{message:M,onClose:()=>F(null)}),d.phase==="countdown"&&D.jsx(px,{onFinish:()=>Tn&&tt("result")}),D.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg p-4",children:[D.jsxs("div",{className:"flex justify-between items-center mb-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsxs("div",{className:"bg-purple-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-lg shadow-purple-500/30",children:["Room ",i]}),D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"font-bold truncate max-w-[140px] text-slate-200 text-lg leading-none mb-0.5",children:o}),U&&D.jsxs("span",{className:"text-xs text-yellow-400 font-bold flex items-center gap-0.5",children:[D.jsx(h0,{size:10}),"  ",U," "]})]})]}),D.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-full",children:[D.jsx(fx,{size:16})," ",en.length]})]}),D.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:en.map(([Z,it])=>D.jsxs("span",{className:`shrink-0 px-4 py-1.5 rounded-full text-sm border flex items-center gap-1 transition-all ${Z===r.uid?"bg-purple-500/20 border-purple-500/50 text-purple-200":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[Z===d.hostId&&D.jsx("span",{className:"text-yellow-400",children:""}),it]},Z))})]}),D.jsxs("main",{className:`relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 ${d.phase==="punishment-reveal"?"h-screen p-0 m-0 max-w-none":"mt-4"}`,children:[d.phase==="entry"&&D.jsx("div",{className:"animate-fade-in space-y-8",children:D.jsxs(Ys,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[D.jsx("h2",{className:"text-3xl font-bold mb-3",children:""}),D.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"..."}),D.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:en.map(([Z,it])=>D.jsx("span",{className:"bg-slate-800 text-slate-200 px-5 py-3 rounded-2xl text-lg font-bold border border-slate-700",children:it},Z))}),D.jsx("div",{className:"mb-8",children:D.jsxs(si,{onClick:jt,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40 py-4",children:[D.jsx(rx,{size:22})," "]})}),Tn?D.jsxs(si,{onClick:()=>tt("gift-entry"),size:"lg",className:"w-full shadow-emerald-900/50 text-2xl py-6",disabled:en.length<2,children:[" ",D.jsx(LC,{})]}):D.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})}),d.phase==="gift-entry"&&D.jsxs("div",{className:"animate-fade-in space-y-8",children:[U&&D.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 p-6 rounded-2xl text-center shadow-lg animate-fade-in-up",children:[D.jsx("p",{className:"text-yellow-200 text-sm mb-1 uppercase tracking-widest",children:"Your Number"}),D.jsxs("div",{className:"text-5xl font-black text-yellow-400 flex items-center justify-center gap-2",children:[D.jsx(h0,{size:40})," ",U]}),D.jsx("p",{className:"text-xs text-yellow-200/70 mt-2",children:""})]}),D.jsxs(Ys,{children:[D.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[D.jsx(c0,{className:"text-pink-400",size:28})," "]}),D.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),D.jsx("div",{className:"mb-6",children:D.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-pink-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[120px]",placeholder:"...",value:Et,onChange:Z=>yt(Z.target.value),disabled:d.gifts&&d.gifts[r.uid]})}),D.jsx(si,{onClick:at,className:"w-full text-xl py-5",disabled:!Et,children:d.gifts&&d.gifts[r.uid]?"...":""})]}),D.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.gifts||{}).length," / ",en.length]})]}),d.phase==="rule-entry"&&D.jsxs("div",{className:"animate-fade-in space-y-8",children:[D.jsxs(Ys,{children:[D.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[D.jsx(ex,{className:"text-purple-400",size:28})," "]}),D.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),D.jsx("div",{className:"mb-6",children:D.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-purple-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:" +1 ...",value:W,onChange:Z=>st(Z.target.value),disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!==""})}),D.jsx("div",{className:"flex justify-end mb-8",children:D.jsxs("button",{onClick:O,disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!=="",className:"text-sm text-purple-300 flex items-center gap-2 hover:text-white transition-colors bg-purple-500/10 px-4 py-2 rounded-full border border-purple-500/20",children:[D.jsx(f0,{size:16})," "]})}),D.jsx(si,{onClick:vt,className:"w-full text-xl py-5",disabled:!W,children:d.rules.find(Z=>Z.uid===r.uid)?.text!==""?"...":""})]}),D.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(Z=>Z.text).length," / ",en.length]})]}),d.phase==="punishment-entry"&&D.jsxs("div",{className:"animate-fade-in space-y-8",children:[D.jsxs(Ys,{children:[D.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[D.jsx(zC,{className:"text-red-500",size:28})," "]}),D.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),D.jsx("div",{className:"mb-6",children:D.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-red-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:J,onChange:Z=>mt(Z.target.value),disabled:d.punishments&&d.punishments[r.uid]})}),D.jsx("div",{className:"flex justify-end mb-8",children:D.jsxs("button",{onClick:Y,disabled:d.punishments&&d.punishments[r.uid],className:"text-sm text-red-300 flex items-center gap-2 hover:text-white transition-colors bg-red-500/10 px-4 py-2 rounded-full border border-red-500/20",children:[D.jsx(f0,{size:16})," "]})}),D.jsx(si,{onClick:wt,className:"w-full text-xl py-5 bg-red-600 hover:bg-red-500 shadow-red-900/50 border-none",disabled:!J,children:d.punishments&&d.punishments[r.uid]?"...":""})]}),D.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.punishments||{}).length," / ",en.length]})]}),d.phase==="game-playing"&&D.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[D.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full",children:[D.jsxs("div",{className:"flex justify-between text-sm mb-3 px-3",children:[D.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),D.jsxs("span",{children:["Total ",d.rules.length]})]}),D.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:D.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),w&&D.jsx("div",{className:"mb-6 animate-fade-in-up w-full",children:D.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/50 text-blue-200 px-6 py-4 rounded-xl text-center shadow-lg backdrop-blur-sm flex items-center justify-center gap-2",children:[D.jsx(XC,{className:"text-yellow-400 shrink-0 animate-pulse",size:24}),D.jsx("span",{className:"font-bold text-lg",children:w})]})}),D.jsxs(Ys,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),D.jsx("div",{className:"mb-8",children:D.jsxs("span",{className:"bg-slate-800 text-slate-300 px-5 py-2 rounded-full text-sm font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),D.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),Tn&&D.jsx("div",{className:"mt-10 w-full",children:D.jsx(si,{onClick:Vt,size:"lg",className:"w-full text-2xl py-6",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="voting"&&D.jsx("div",{className:"animate-fade-in space-y-6 pb-24",children:d.votingStatus&&d.votingStatus[r.uid]?D.jsxs(Ys,{className:"text-center py-12 border-t-4 border-t-green-500",children:[D.jsx(HC,{size:64,className:"text-green-400 mx-auto mb-4"}),D.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),D.jsx("p",{className:"text-slate-400",children:"..."}),D.jsxs("div",{className:"mt-6 text-sm text-slate-500",children:["",Object.keys(d.votingStatus||{}).length," / ",en.length]})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[D.jsx(cx,{className:"text-yellow-500 shrink-0 mt-1",size:24}),D.jsxs("div",{children:[D.jsx("h2",{className:"text-lg font-bold text-yellow-500",children:""}),D.jsxs("p",{className:"text-sm text-yellow-200/70 mt-1",children:["",D.jsx("br",{})," =  (10=)"]})]})]}),en.map(([Z,it])=>{if(Z===r.uid)return null;const Bt=d.gifts?d.gifts[Z]:"",rt=Kt[Z]||1;return D.jsxs(Ys,{className:"p-5 border border-white/5 relative overflow-hidden mb-4",children:[D.jsxs("div",{className:"flex justify-between items-start mb-4",children:[D.jsxs("div",{children:[D.jsxs("div",{className:"text-sm text-slate-400 mb-1",children:[it," "]}),D.jsx("div",{className:"text-xl font-bold text-white",children:Bt})]}),D.jsx("div",{className:"text-4xl font-black text-yellow-400",children:rt})]}),D.jsx("input",{type:"range",min:"1",max:"10",value:rt,onChange:ht=>Te(Z,parseInt(ht.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),D.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mt-2 px-1 font-bold",children:[D.jsx("span",{children:"1 ()"}),D.jsx("span",{children:"5 ()"}),D.jsx("span",{children:"10 ()"})]})]},Z)}),D.jsx("div",{className:"h-20"})," ",D.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:D.jsx(si,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:ue,children:" "})})]})}),d.phase==="result"&&D.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[D.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 py-2 text-center text-sm font-bold border-y border-yellow-500/30 animate-pulse",children:" ..."}),D.jsxs("div",{className:"text-center mb-10",children:[D.jsxs("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[D.jsx(d0,{fill:"currentColor",size:40}),"  ",D.jsx(d0,{fill:"currentColor",size:40})]}),D.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),(d.finalResults||[]).sort((Z,it)=>it.totalScore-Z.totalScore).slice(0,3).map((Z,it)=>D.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${it===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[it===0&&D.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),D.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${it===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":it===1?"bg-slate-500":"bg-amber-700"}`,children:["#",it+1]}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:Z.name}),D.jsx("div",{className:"text-base text-slate-400 truncate",children:Z.giftName})]}),D.jsxs("div",{className:"text-right",children:[D.jsx("div",{className:"text-4xl font-black text-red-500",children:Z.totalScore}),D.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},Z.uid)),Tn&&D.jsx("div",{className:"mt-12 text-center",children:D.jsx(si,{variant:"danger",size:"lg",onClick:()=>tt("punishment-reveal"),className:"w-full max-w-md mx-auto text-2xl py-6 shadow-2xl animate-bounce",children:"  "})})]}),d.phase==="punishment-reveal"&&D.jsxs("div",{className:"animate-fade-in flex flex-col h-[calc(100vh-20px)] overflow-hidden w-full max-w-md mx-auto",children:[(()=>{const Z=(d.finalResults||[]).sort((it,Bt)=>Bt.totalScore-it.totalScore)[0];return Z?D.jsxs("div",{className:"shrink-0 text-center py-4 bg-slate-900/50 border-b border-white/10 relative z-20",children:[D.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-[0.2em] mb-1",children:"The Loser is"}),D.jsxs("div",{className:"flex flex-col items-center gap-1",children:[D.jsx("h2",{className:"text-4xl font-black text-red-500 drop-shadow-[0_0_15px_rgba(239,68,68,0.6)] leading-none",children:Z.name}),D.jsxs("span",{className:"text-sm font-bold text-white bg-red-600 px-3 py-0.5 rounded-full shadow-lg",children:[Z.totalScore," "]})]})]}):null})(),D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0",children:[D.jsxs("h3",{className:"text-lg font-bold text-slate-300 mb-2 flex items-center gap-2 shrink-0",children:[D.jsx(_m,{size:20}),"  ",D.jsx(_m,{size:20})]}),D.jsx("div",{className:"scale-75 md:scale-90 origin-center transition-transform",children:D.jsx(mx,{items:Nt,targetItem:d.finalPunishment,isSpinning:d.isSpinning})})]}),D.jsxs("div",{className:"shrink-0 p-4 w-full bg-slate-900/80 border-t border-white/10 backdrop-blur-md relative z-30 pb-8",children:[D.jsx("div",{className:"mb-4",children:D.jsx("div",{className:`text-yellow-400 font-black text-2xl md:text-3xl text-center bg-black/40 border-2 ${V?"border-yellow-500/80":"border-slate-700/50"} p-4 rounded-xl shadow-xl leading-tight transition-all`,children:d.isSpinning||!V?A:d.finalPunishment})}),D.jsxs("div",{className:"space-y-3",children:[Tn&&!d.finalPunishment&&D.jsx(si,{variant:"neutral",size:"lg",onClick:ji,className:"w-full text-xl py-4 shadow-lg shadow-blue-900/20",disabled:d.isSpinning,children:d.isSpinning?"...":" "}),!Tn&&!d.finalPunishment&&D.jsx("div",{className:"text-center text-slate-500 py-2 text-sm animate-pulse",children:"..."}),d.finalPunishment&&V&&D.jsxs(si,{variant:"secondary",onClick:nt,className:"w-full bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white py-4 animate-fade-in",children:[D.jsx(WC,{size:20})," "]})]})]})]})]}),D.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .animate-fade-in-up { animation: fade-in-up 0.4s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};Cb.createRoot(document.getElementById("root")).render(D.jsx(Yt.StrictMode,{children:D.jsx(gx,{})}));
