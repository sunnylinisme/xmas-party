(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Id={exports:{}},ho={};var N_;function TS(){if(N_)return ho;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var x_;function SS(){return x_||(x_=1,Id.exports=TS()),Id.exports}var V=SS(),Cd={exports:{}},bt={};var D_;function bS(){if(D_)return bt;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,J={};function mt(D,Y,nt){this.props=D,this.context=Y,this.refs=J,this.updater=nt||W}mt.prototype.isReactComponent={},mt.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},mt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=mt.prototype;function yt(D,Y,nt){this.props=D,this.context=Y,this.refs=J,this.updater=nt||W}var Qt=yt.prototype=new Et;Qt.constructor=yt,it(Qt,mt.prototype),Qt.isPureReactComponent=!0;var re=Array.isArray;function zt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,Y,nt){var rt=nt.ref;return{$$typeof:r,type:D,key:Y,ref:rt!==void 0?rt:null,props:nt}}function M(D,Y){return R(D.type,Y,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function ae(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):Y.toString(36)}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(zt,zt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,Y,nt,rt,vt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var Ot=!1;if(D===null)Ot=!0;else switch(wt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(D.$$typeof){case r:case t:Ot=!0;break;case S:return Ot=D._init,H(Ot(D._payload),Y,nt,rt,vt)}}if(Ot)return vt=vt(D),Ot=rt===""?"."+ae(D,0):rt,re(vt)?(nt="",Ot!=null&&(nt=Ot.replace(w,"$&/")+"/"),H(vt,Y,nt,"",function(Z){return Z})):vt!=null&&(N(vt)&&(vt=M(vt,nt+(vt.key==null||D&&D.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Ot)),Y.push(vt)),1;Ot=0;var oe=rt===""?".":rt+":";if(re(D))for(var Ht=0;Ht<D.length;Ht++)rt=D[Ht],wt=oe+ae(rt,Ht),Ot+=H(rt,Y,nt,wt,vt);else if(Ht=F(D),typeof Ht=="function")for(D=Ht.call(D),Ht=0;!(rt=D.next()).done;)rt=rt.value,wt=oe+ae(rt,Ht++),Ot+=H(rt,Y,nt,wt,vt);else if(wt==="object"){if(typeof D.then=="function")return H(_e(D),Y,nt,rt,vt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function tt(D,Y,nt){if(D==null)return D;var rt=[],vt=0;return H(D,rt,"","",function(wt){return Y.call(nt,wt,vt++)}),rt}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var jt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Nt={map:tt,forEach:function(D,Y,nt){tt(D,function(){Y.apply(this,arguments)},nt)},count:function(D){var Y=0;return tt(D,function(){Y++}),Y},toArray:function(D){return tt(D,function(Y){return Y})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return bt.Activity=b,bt.Children=Nt,bt.Component=mt,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=yt,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(D,Y,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=it({},D.props),vt=D.key;if(Y!=null)for(wt in Y.key!==void 0&&(vt=""+Y.key),Y)!A.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(rt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)rt.children=nt;else if(1<wt){for(var Ot=Array(wt),oe=0;oe<wt;oe++)Ot[oe]=arguments[oe+2];rt.children=Ot}return R(D.type,vt,rt)},bt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},bt.createElement=function(D,Y,nt){var rt,vt={},wt=null;if(Y!=null)for(rt in Y.key!==void 0&&(wt=""+Y.key),Y)A.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Ot=arguments.length-2;if(Ot===1)vt.children=nt;else if(1<Ot){for(var oe=Array(Ot),Ht=0;Ht<Ot;Ht++)oe[Ht]=arguments[Ht+2];vt.children=oe}if(D&&D.defaultProps)for(rt in Ot=D.defaultProps,Ot)vt[rt]===void 0&&(vt[rt]=Ot[rt]);return R(D,wt,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:g,render:D}},bt.isValidElement=N,bt.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ft}},bt.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},bt.startTransition=function(D){var Y=C.T,nt={};C.T=nt;try{var rt=D(),vt=C.S;vt!==null&&vt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(zt,jt)}catch(wt){jt(wt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(D){return C.H.use(D)},bt.useActionState=function(D,Y,nt){return C.H.useActionState(D,Y,nt)},bt.useCallback=function(D,Y){return C.H.useCallback(D,Y)},bt.useContext=function(D){return C.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,Y){return C.H.useDeferredValue(D,Y)},bt.useEffect=function(D,Y){return C.H.useEffect(D,Y)},bt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(D,Y,nt){return C.H.useImperativeHandle(D,Y,nt)},bt.useInsertionEffect=function(D,Y){return C.H.useInsertionEffect(D,Y)},bt.useLayoutEffect=function(D,Y){return C.H.useLayoutEffect(D,Y)},bt.useMemo=function(D,Y){return C.H.useMemo(D,Y)},bt.useOptimistic=function(D,Y){return C.H.useOptimistic(D,Y)},bt.useReducer=function(D,Y,nt){return C.H.useReducer(D,Y,nt)},bt.useRef=function(D){return C.H.useRef(D)},bt.useState=function(D){return C.H.useState(D)},bt.useSyncExternalStore=function(D,Y,nt){return C.H.useSyncExternalStore(D,Y,nt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.1",bt}var O_;function vm(){return O_||(O_=1,Cd.exports=bS()),Cd.exports}var Xt=vm(),Nd={exports:{}},fo={},xd={exports:{}},Dd={};var M_;function AS(){return M_||(M_=1,(function(r){function t(H,tt){var ft=H.length;H.push(tt);t:for(;0<ft;){var jt=ft-1>>>1,Nt=H[jt];if(0<o(Nt,tt))H[jt]=tt,H[ft]=Nt,ft=jt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ft=H.pop();if(ft!==tt){H[0]=ft;t:for(var jt=0,Nt=H.length,D=Nt>>>1;jt<D;){var Y=2*(jt+1)-1,nt=H[Y],rt=Y+1,vt=H[rt];if(0>o(nt,ft))rt<Nt&&0>o(vt,nt)?(H[jt]=vt,H[rt]=ft,jt=rt):(H[jt]=nt,H[Y]=ft,jt=Y);else if(rt<Nt&&0>o(vt,ft))H[jt]=vt,H[rt]=ft,jt=rt;else break t}}return tt}function o(H,tt){var ft=H.sortIndex-tt.sortIndex;return ft!==0?ft:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],S=1,b=null,O=3,F=!1,W=!1,it=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=H)a(y),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(y)}}function re(H){if(it=!1,Qt(H),!W)if(i(v)!==null)W=!0,zt||(zt=!0,k());else{var tt=i(y);tt!==null&&_e(re,tt.startTime-H)}}var zt=!1,C=-1,A=5,R=-1;function M(){return J?!0:!(r.unstable_now()-R<A)}function N(){if(J=!1,zt){var H=r.unstable_now();R=H;var tt=!0;try{t:{W=!1,it&&(it=!1,Et(C),C=-1),F=!0;var ft=O;try{e:{for(Qt(H),b=i(v);b!==null&&!(b.expirationTime>H&&M());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,O=b.priorityLevel;var Nt=jt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Nt=="function"){b.callback=Nt,Qt(H),tt=!0;break e}b===i(v)&&a(v),Qt(H)}else a(v);b=i(v)}if(b!==null)tt=!0;else{var D=i(y);D!==null&&_e(re,D.startTime-H),tt=!1}}break t}finally{b=null,O=ft,F=!1}tt=void 0}}finally{tt?k():zt=!1}}}var k;if(typeof yt=="function")k=function(){yt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=N,k=function(){ae.postMessage(null)}}else k=function(){mt(N,0)};function _e(H,tt){C=mt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var ft=O;O=tt;try{return H()}finally{O=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=O;O=H;try{return tt()}finally{O=ft}},r.unstable_scheduleCallback=function(H,tt,ft){var jt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?jt+ft:jt):ft=jt,H){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,H={id:S++,callback:tt,priorityLevel:H,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>jt?(H.sortIndex=ft,t(y,H),i(v)===null&&H===i(y)&&(it?(Et(C),C=-1):it=!0,_e(re,ft-jt))):(H.sortIndex=Nt,t(v,H),W||F||(W=!0,zt||(zt=!0,k()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var tt=O;return function(){var ft=O;O=tt;try{return H.apply(this,arguments)}finally{O=ft}}}})(Dd)),Dd}var V_;function wS(){return V_||(V_=1,xd.exports=AS()),xd.exports}var Od={exports:{}},en={};var k_;function RS(){if(k_)return en;k_=1;var r=vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},en.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},en.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},en.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},en.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:F}):S==="script"&&a.d.X(v,{crossOrigin:b,integrity:O,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},en.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},en.requestFormReset=function(v){a.d.r(v)},en.unstable_batchedUpdates=function(v,y){return v(y)},en.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var U_;function IS(){if(U_)return Od.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=RS(),Od.exports}var L_;function CS(){if(L_)return fo;L_=1;var r=wS(),t=vm(),i=IS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case zt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case yt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var _e=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},jt=[],Nt=-1;function D(e){return{current:e}}function Y(e){0>Nt||(e.current=jt[Nt],jt[Nt]=null,Nt--)}function nt(e,n){Nt++,jt[Nt]=e.current,e.current=n}var rt=D(null),vt=D(null),wt=D(null),Ot=D(null);function oe(e,n){switch(nt(wt,n),nt(vt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function Ht(){Y(rt),Y(vt),Y(wt)}function Z(e){e.memoizedState!==null&&nt(Ot,e);var n=rt.current,s=Wy(n,e.type);n!==s&&(nt(vt,e),nt(rt,s))}function st(e){vt.current===e&&(Y(rt),Y(vt)),Ot.current===e&&(Y(Ot),lo._currentValue=ft)}var Mt,lt;function ht(e){if(Mt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Mt=n&&n[1]||"",lt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+e+lt}var te=!1;function Ae(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{te=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ht(s):""}function tn(e,n){switch(e.tag){case 26:case 27:case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return e.child!==n&&n!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return Ae(e.type,!1);case 11:return Ae(e.type.render,!1);case 1:return Ae(e.type,!0);case 31:return ht("Activity");default:return""}}function fn(e){try{var n="",s=null;do n+=tn(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var we=Object.prototype.hasOwnProperty,Le=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Qo=r.unstable_requestPaint,on=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Yo=r.unstable_IdlePriority,Ko=r.log,Xo=r.unstable_setDisableYieldValue,Qn=null,Fe=null;function On(e){if(typeof Ko=="function"&&Xo(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Qn,e)}catch{}}var ve=Math.clz32?Math.clz32:Zo,$o=Math.log,Wr=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-($o(e)/Wr|0)|0}var ui=256,mr=262144,Re=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ci(l):(p&=E,p!==0?h=ci(p):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=l&~f,E!==0?h=ci(E):p!==0?h=ci(p):s||(s=l&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-ve(s),K=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&gr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ve(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ve(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wo(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Kn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Xn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Xn,Be="__reactProps$"+Xn,di="__reactContainer$"+Xn,ta="__reactEvents$"+Xn,Oh="__reactListeners$"+Xn,tu="__reactHandles$"+Xn,eu="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function ea(e){delete e[Ie],delete e[Be],delete e[ta],delete e[Oh],delete e[tu]}function pi(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Ie])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[Ie]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[mi]=!0}var ml=new Set,pl={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function nu(e){return we.call(_l,e)?!0:we.call(yl,e)?!1:gl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function na(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function dn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?El(e,p,qe(n)):s!=null?El(e,p,qe(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function iu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zt(e)}function El(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ps(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function su(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function gs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(_e(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ru.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var bl=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Ei=null;function Er(e){var n=Mn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Be]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&_r(l)}break t;case"textarea":su(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ps(e,!!s.multiple,n,!1)}}}var aa=!1;function vs(e,n,s){if(aa)return e(n,s);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(_s!==null||Ei!==null)&&(Wu(),_s&&(n=_s,e=Ei,Ei=_s=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(kn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Tr=!1}var Ti=null,Al=null,Sr=null;function wl(){if(Sr)return Sr;var e,n=Al,s=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Sr=h.slice(e,1<l?1-l:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Jn(){return!1}function Qe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Jn,this.isPropagationStopped=Jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Qe(Bi),Es=b({},Bi,{view:0,detail:0}),Rl=Qe(Es),Ts,la,bi,oa=b({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Ts=e.screenX-bi.screenX,la=e.screenY-bi.screenY):la=Ts=0,bi=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Il=Qe(oa),Ar=b({},oa,{dataTransfer:0}),lu=Qe(Ar),ou=b({},Es,{relatedTarget:0}),wr=Qe(ou),Cl=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Qe(Cl),ua=b({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Qe(ua),hu=b({},Bi,{data:0}),Ai=Qe(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function Ss(){return pu}var un=b({},Es,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Qe(un),yu=b({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Qe(yu),u=b({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Qe(u),_=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(_),L=b({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(L),et=b({},Bi,{newState:0,oldState:0}),Rt=Qe(et),Ee=[9,13,27,32],Yt=kn&&"CompositionEvent"in window,fe=null;kn&&"documentMode"in document&&(fe=document.documentMode);var Un=kn&&"TextEvent"in window&&!fe,wi=kn&&(!Yt||fe&&8<fe&&11>=fe),Wn=" ",ti=!1;function Rr(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function FT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function QT(e,n){if(ha)return e==="compositionend"||!Yt&&Rr(e,n)?(e=wl(),Sr=Al=Ti=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YT[e.type]:n==="textarea"}function cp(e,n,s,l){_s?Ei?Ei.push(l):Ei=[l]:_s=l,n=ac(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,xl=null;function KT(e){Qy(e,0)}function _u(e){var n=Sn(e);if(_r(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(kn){var Mh;if(kn){var Vh="oninput"in document;if(!Vh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Vh=typeof dp.oninput=="function"}Mh=Vh}else Mh=!1;fp=Mh&&(!document.documentMode||9<document.documentMode)}function mp(){Nl&&(Nl.detachEvent("onpropertychange",pp),xl=Nl=null)}function pp(e){if(e.propertyName==="value"&&_u(xl)){var n=[];cp(n,xl,e,Vn(e)),vs(KT,n)}}function XT(e,n,s){e==="focusin"?(mp(),Nl=n,xl=s,Nl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(xl)}function ZT(e,n){if(e==="click")return _u(n)}function JT(e,n){if(e==="input"||e==="change")return _u(n)}function WT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:WT;function Dl(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!we.call(n,h)||!An(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var t1=kn&&"documentMode"in document&&11>=document.documentMode,fa=null,Uh=null,Ol=null,Lh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||fa==null||fa!==vi(l)||(l=fa,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Dl(Ol,l)||(Ol=l,l=ac(Uh,"onSelect"),0<l.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fa)))}function Ir(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Ph={},Tp={};kn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Cr(e){if(Ph[e])return Ph[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Ph[e]=n[s];return e}var Sp=Cr("animationend"),bp=Cr("animationiteration"),Ap=Cr("animationstart"),e1=Cr("transitionrun"),n1=Cr("transitionstart"),i1=Cr("transitioncancel"),wp=Cr("transitionend"),Rp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Rp.set(e,n),yi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],ma=0,jh=0;function Eu(){for(var e=ma,n=jh=ma=0;n<e;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function Tu(e,n,s,l){Ln[ma++]=e,Ln[ma++]=n,Ln[ma++]=s,Ln[ma++]=l,jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Tu(e,n,s,l),Su(e)}function Nr(e,n){return Tu(e,null,null,n),Su(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<to)throw to=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function s1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,l){return new s1(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=uS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=wn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return xr(s.children,h,f,n);case J:p=8,h|=24;break;case mt:return e=wn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case re:return e=wn(13,s,n,h),e.elementType=re,e.lanes=f,e;case zt:return e=wn(19,s,n,h),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case Et:p=9;break t;case Qt:p=11;break t;case C:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=wn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function xr(e,n,s,l){return e=wn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Np(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xp=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fn(n)},xp.set(e,n),n)}return{value:e,source:n,stack:fn(n)}}var ga=[],ya=0,Au=null,Ml=0,zn=[],jn=0,bs=null,Ri=1,Ii="";function Gi(e,n){ga[ya++]=Ml,ga[ya++]=Au,Au=e,Ml=n}function Dp(e,n,s){zn[jn++]=Ri,zn[jn++]=Ii,zn[jn++]=bs,bs=e;var l=Ri;e=Ii;var h=32-ve(l)-1;l&=~(1<<h),s+=1;var f=32-ve(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ri=1<<32-ve(n)+h|s<<h|l,Ii=f+e}else Ri=1<<f|s<<h|l,Ii=e}function Fh(e){e.return!==null&&(Gi(e,1),Dp(e,1,0))}function Qh(e){for(;e===Au;)Au=ga[--ya],ga[ya]=null,Ml=ga[--ya],ga[ya]=null;for(;e===bs;)bs=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null,Ri=zn[--jn],zn[jn]=null}function Op(e,n){zn[jn++]=Ri,zn[jn++]=Ii,zn[jn++]=bs,Ri=n.id,Ii=n.overflow,bs=e}var Ye=null,ue=null,Bt=!1,As=null,Bn=!1,Yh=Error(a(519));function ws(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Pn(n,e)),Yh}function Mp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ie]=e,n[Be]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Dt(no[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),iu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),gs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||ws(e,!0)}function Vp(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ye=Ye.return}}function _a(e){if(e!==Ye)return!1;if(!Bt)return Vp(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ue&&ws(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=r_(e)}else n===27?(n=ue,zs(e.type)?(e=yd,yd=null,ue=e):ue=n):ue=Ye?Hn(e.stateNode.nextSibling):null;return!0}function Dr(){ue=Ye=null,Bt=!1}function Kh(){var e=As;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),As=null),e}function Vl(e){As===null?As=[e]:As.push(e)}var Xh=D(null),Or=null,Fi=null;function Rs(e,n,s){nt(Xh,n._currentValue),n._currentValue=s}function Qi(e){e._currentValue=Xh.current,Y(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;An(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&Zh(n,e,s,l),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return kp(Or,e)}function Ru(e,n){return Or===null&&Mr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},a1=r.unstable_scheduleCallback,l1=r.unstable_NormalPriority,xe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new r1,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&a1(l1,function(){e.controller.abort()})}var Ul=null,Wh=0,Ea=0,Ta=null;function o1(e,n){if(Ul===null){var s=Ul=[];Wh=0,Ea=id(),Ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Up,Up),n}function Up(){if(--Wh===0&&Ul!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ul;Ul=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=H.S;H.S=function(e,n){Ey=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(e,n),Lp!==null&&Lp(e,n)};var Vr=D(null);function tf(){var e=Vr.current;return e!==null?e:le.pooledCache}function Iu(e,n){n===null?nt(Vr,Vr.current):nt(Vr,n.pool)}function Pp(){var e=tf();return e===null?null:{parent:xe._currentValue,pool:e}}var Sa=Error(a(460)),ef=Error(a(474)),Cu=Error(a(542)),Nu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Ur=n,Sa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,Sa):s}}var Ur=null;function Bp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function qp(e){if(e===Sa||e===Cu)throw Error(a(483))}var ba=null,Ll=0;function xu(e){var n=Ll;return Ll+=1,ba===null&&(ba=[]),jp(ba,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(U,x){if(e){var P=U.deletions;P===null?(U.deletions=[x],U.flags|=16):P.push(x)}}function s(U,x){if(!e)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=Hi(U,x),U.index=0,U.sibling=null,U}function f(U,x,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<x?(U.flags|=67108866,x):P):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,P,Q){return x===null||x.tag!==6?(x=Hh(P,U.mode,Q),x.return=U,x):(x=h(x,P),x.return=U,x)}function I(U,x,P,Q){var dt=P.type;return dt===it?G(U,x,P.props.children,Q,P.key):x!==null&&(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&kr(dt)===x.type)?(x=h(x,P.props),Pl(x,P),x.return=U,x):(x=bu(P.type,P.key,P.props,null,U.mode,Q),Pl(x,P),x.return=U,x)}function z(U,x,P,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Gh(P,U.mode,Q),x.return=U,x):(x=h(x,P.children||[]),x.return=U,x)}function G(U,x,P,Q,dt){return x===null||x.tag!==7?(x=xr(P,U.mode,Q,dt),x.return=U,x):(x=h(x,P),x.return=U,x)}function K(U,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Hh(""+x,U.mode,P),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return P=bu(x.type,x.key,x.props,null,U.mode,P),Pl(P,x),P.return=U,P;case W:return x=Gh(x,U.mode,P),x.return=U,x;case A:return x=kr(x),K(U,x,P)}if(_e(x)||k(x))return x=xr(x,U.mode,P,null),x.return=U,x;if(typeof x.then=="function")return K(U,xu(x),P);if(x.$$typeof===yt)return K(U,Ru(U,x),P);Du(U,x)}return null}function j(U,x,P,Q){var dt=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(U,x,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===dt?I(U,x,P,Q):null;case W:return P.key===dt?z(U,x,P,Q):null;case A:return P=kr(P),j(U,x,P,Q)}if(_e(P)||k(P))return dt!==null?null:G(U,x,P,Q,null);if(typeof P.then=="function")return j(U,x,xu(P),Q);if(P.$$typeof===yt)return j(U,x,Ru(U,P),Q);Du(U,P)}return null}function q(U,x,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(x,U,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,I(x,U,Q,dt);case W:return U=U.get(Q.key===null?P:Q.key)||null,z(x,U,Q,dt);case A:return Q=kr(Q),q(U,x,P,Q,dt)}if(_e(Q)||k(Q))return U=U.get(P)||null,G(x,U,Q,dt,null);if(typeof Q.then=="function")return q(U,x,P,xu(Q),dt);if(Q.$$typeof===yt)return q(U,x,P,Ru(x,Q),dt);Du(x,Q)}return null}function ot(U,x,P,Q){for(var dt=null,Gt=null,ut=x,Ct=x=0,kt=null;ut!==null&&Ct<P.length;Ct++){ut.index>Ct?(kt=ut,ut=null):kt=ut.sibling;var Ft=j(U,ut,P[Ct],Q);if(Ft===null){ut===null&&(ut=kt);break}e&&ut&&Ft.alternate===null&&n(U,ut),x=f(Ft,x,Ct),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft,ut=kt}if(Ct===P.length)return s(U,ut),Bt&&Gi(U,Ct),dt;if(ut===null){for(;Ct<P.length;Ct++)ut=K(U,P[Ct],Q),ut!==null&&(x=f(ut,x,Ct),Gt===null?dt=ut:Gt.sibling=ut,Gt=ut);return Bt&&Gi(U,Ct),dt}for(ut=l(ut);Ct<P.length;Ct++)kt=q(ut,U,Ct,P[Ct],Q),kt!==null&&(e&&kt.alternate!==null&&ut.delete(kt.key===null?Ct:kt.key),x=f(kt,x,Ct),Gt===null?dt=kt:Gt.sibling=kt,Gt=kt);return e&&ut.forEach(function(Gs){return n(U,Gs)}),Bt&&Gi(U,Ct),dt}function gt(U,x,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Gt=null,ut=x,Ct=x=0,kt=null,Ft=P.next();ut!==null&&!Ft.done;Ct++,Ft=P.next()){ut.index>Ct?(kt=ut,ut=null):kt=ut.sibling;var Gs=j(U,ut,Ft.value,Q);if(Gs===null){ut===null&&(ut=kt);break}e&&ut&&Gs.alternate===null&&n(U,ut),x=f(Gs,x,Ct),Gt===null?dt=Gs:Gt.sibling=Gs,Gt=Gs,ut=kt}if(Ft.done)return s(U,ut),Bt&&Gi(U,Ct),dt;if(ut===null){for(;!Ft.done;Ct++,Ft=P.next())Ft=K(U,Ft.value,Q),Ft!==null&&(x=f(Ft,x,Ct),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft);return Bt&&Gi(U,Ct),dt}for(ut=l(ut);!Ft.done;Ct++,Ft=P.next())Ft=q(ut,U,Ct,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?Ct:Ft.key),x=f(Ft,x,Ct),Gt===null?dt=Ft:Gt.sibling=Ft,Gt=Ft);return e&&ut.forEach(function(ES){return n(U,ES)}),Bt&&Gi(U,Ct),dt}function se(U,x,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var dt=P.key;x!==null;){if(x.key===dt){if(dt=P.type,dt===it){if(x.tag===7){s(U,x.sibling),Q=h(x,P.props.children),Q.return=U,U=Q;break t}}else if(x.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&kr(dt)===x.type){s(U,x.sibling),Q=h(x,P.props),Pl(Q,P),Q.return=U,U=Q;break t}s(U,x);break}else n(U,x);x=x.sibling}P.type===it?(Q=xr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=bu(P.type,P.key,P.props,null,U.mode,Q),Pl(Q,P),Q.return=U,U=Q)}return p(U);case W:t:{for(dt=P.key;x!==null;){if(x.key===dt)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){s(U,x.sibling),Q=h(x,P.children||[]),Q.return=U,U=Q;break t}else{s(U,x);break}else n(U,x);x=x.sibling}Q=Gh(P,U.mode,Q),Q.return=U,U=Q}return p(U);case A:return P=kr(P),se(U,x,P,Q)}if(_e(P))return ot(U,x,P,Q);if(k(P)){if(dt=k(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),gt(U,x,P,Q)}if(typeof P.then=="function")return se(U,x,xu(P),Q);if(P.$$typeof===yt)return se(U,x,Ru(U,P),Q);Du(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(s(U,x.sibling),Q=h(x,P),Q.return=U,U=Q):(s(U,x),Q=Hh(P,U.mode,Q),Q.return=U,U=Q),p(U)):s(U,x)}return function(U,x,P,Q){try{Ll=0;var dt=se(U,x,P,Q);return ba=null,dt}catch(ut){if(ut===Sa||ut===Cu)throw ut;var Gt=wn(29,ut,null,U.mode);return Gt.lanes=Q,Gt.return=U,Gt}finally{}}}var Lr=Hp(!0),Gp=Hp(!1),Is=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(e),Ip(e,null,s),n}return Tu(e,l,n,s),Su(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function jl(){if(af){var e=Ta;if(e!==null)throw e}}function Bl(e,n,s,l){af=!1;var h=e.updateQueue;Is=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Vt&j)===j:(l&j)===j){j!==0&&j===Ea&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;j=n;var se=s;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){K=ot.call(se,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,j=typeof ot=="function"?ot.call(se,K,j):ot,j==null)break t;K=b({},K,j);break t;case 2:Is=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vs|=p,e.lanes=p,e.memoizedState=K}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Aa=D(null),Ou=D(0);function Yp(e,n){e=es,nt(Ou,e),nt(Aa,n),es=e|n.baseLanes}function lf(){nt(Ou,es),nt(Aa,Aa.current)}function of(){es=Ou.current,Y(Aa),Y(Ou)}var Rn=D(null),qn=null;function xs(e){var n=e.alternate;nt(Te,Te.current&1),nt(Rn,e),qn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(qn=e)}function uf(e){nt(Te,Te.current),nt(Rn,e),qn===null&&(qn=e)}function Kp(e){e.tag===22?(nt(Te,Te.current),nt(Rn,e),qn===null&&(qn=e)):Ds()}function Ds(){nt(Te,Te.current),nt(Rn,Rn.current)}function In(e){Y(Rn),qn===e&&(qn=null),Y(Te)}var Te=D(0);function Mu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,It=null,ne=null,De=null,Vu=!1,wa=!1,Pr=!1,ku=0,ql=0,Ra=null,c1=0;function ge(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Yi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Rf,Pr=!1,f=s(l,h),Pr=!1,wa&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){H.H=Fl;var n=ne!==null&&ne.next!==null;if(Yi=0,De=ne=It=null,Vu=!1,ql=0,Ra=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&wu(e)&&(Oe=!0))}function $p(e,n,s,l){It=e;var h=0;do{if(wa&&(Ra=null),ql=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,De=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Og,f=n(s,l)}while(wa);return f}function h1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(It.flags|=1024),n}function ff(){var e=ku!==0;return ku=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Yi=0,De=ne=It=null,wa=!1,ql=ku=0,Ra=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=e:De=De.next=e,De}function Se(){if(ne===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=De===null?It.memoizedState:De.next;if(n!==null)De=n,ne=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},De===null?It.memoizedState=De=e:De=De.next=e}return De}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Ra===null&&(Ra=[]),e=jp(Ra,e,n),n=It,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Rf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===yt)return Ke(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=Se();return gf(n,ne,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Vt&K)===K:(Yi&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ea&&(G=!0);else if((Yi&j)===j){z=z.next,j===Ea&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,It.lanes|=j,Vs|=j;K=z.action,Pr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,It.lanes|=K,Vs|=K;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!An(f,e.memoizedState)&&(Oe=!0,G&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Zp(e,n,s){var l=It,h=Se(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!An((ne||h).memoizedState,s);if(p&&(h.memoizedState=s,Oe=!0),h=h.queue,Ef(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),le===null)throw Error(a(349));f||(Yi&127)!==0||Jp(l,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Uu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function ng(e){var n=Nr(e,2);n!==null&&vn(n,e,2)}function _f(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Pr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,gf(e,ne,typeof l=="function"?l:Ki)}function f1(e,n,s,l,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),I=H.S;I!==null&&I(p,E),rg(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(z){vf(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return vf(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(Bt){var s=le.formState;if(s!==null){t:{var l=It;if(Bt){if(ue){e:{for(var h=ue,f=Bn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Hn(h.nextSibling),l=h.data==="F!";break t}}ws(l)}l=!1}l&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,It,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,It,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=f1.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=Se();return hg(n,ne,e)}function hg(e,n,s){if(n=gf(e,n,og)[0],e=Pu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(p){throw p===Sa?Cu:p}else l=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Ia(9,{destroy:void 0},d1.bind(null,h,s),null)),[l,f,e]}function d1(e,n){e.action=n}function fg(e){var n=Se(),s=ne;if(s!==null)return hg(n,s,e);Se(),n=n.memoizedState,s=Se();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ia(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Uu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return Se().memoizedState}function zu(e,n,s,l){var h=cn();It.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,l===void 0?null:l)}function ju(e,n,s,l){var h=Se();l=l===void 0?null:l;var f=h.memoizedState.inst;ne!==null&&l!==null&&cf(l,ne.memoizedState.deps)?h.memoizedState=Ia(n,f,s,l):(It.flags|=e,h.memoizedState=Ia(1|n,f,s,l))}function mg(e,n){zu(8390656,8,e,n)}function Ef(e,n){ju(2048,8,e,n)}function m1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Uu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=Se().memoizedState;return m1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return ju(4,2,e,n)}function yg(e,n){return ju(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,ju(4,4,_g.bind(null,n,e),s)}function Tf(){}function Eg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Pr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l}function Sf(e,n,s){return s===void 0||(Yi&1073741824)!==0&&(Vt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Sy(),It.lanes|=e,Vs|=e,s)}function Sg(e,n,s,l){return An(s,n)?s:Aa.current!==null?(e=Sf(e,s,l),An(e,n)||(Oe=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Vt&261930)===0?(Oe=!0,e.memoizedState=s):(e=Sy(),It.lanes|=e,Vs|=e,n)}function bg(e,n,s,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,wf(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=u1(I,l);Gl(e,n,G,xn(e))}else Gl(e,n,l,xn(e))}catch(K){Gl(e,n,{then:function(){},status:"rejected",reason:K},xn())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function p1(){}function bf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;bg(e,h,n,ft,s===null?p1:function(){return wg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},xn())}function Af(){return Ke(lo)}function Rg(){return Se().memoizedState}function Ig(){return Se().memoizedState}function g1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=xn();e=Cs(s);var l=Ns(n,e,s);l!==null&&(vn(l,n,s),zl(l,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function y1(e,n,s){var l=xn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Ng(n,s):(s=Bh(e,n,s,l),s!==null&&(vn(s,e,l),xg(s,n,l)))}function Cg(e,n,s){var l=xn();Gl(e,n,s,l)}function Gl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,p))return Tu(e,n,h,0),le===null&&Eu(),!1}catch{}finally{}if(s=Bh(e,n,h,l),s!==null)return vn(s,e,l),xg(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&vn(n,e,2)}function Bu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Ng(e,n){wa=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Fl={readContext:Ke,use:Lu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Fl.useEffectEvent=ge;var Dg={readContext:Ke,use:Lu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var l=e();if(Pr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=cn();if(s!==void 0){var h=s(n);if(Pr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=y1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cg.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=cn();return Sf(s,e,n)},useTransition:function(){var e=_f(!1);return e=bg.bind(null,It,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=cn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(Vt&127)!==0||Jp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=cn(),n=le.identifierPrefix;if(Bt){var s=Ii,l=Ri;s=(l&~(1<<32-ve(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=c1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return cn().memoizedState=g1.bind(null,It)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Ke,use:Lu,useCallback:Eg,useContext:Ke,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Pu,useRef:dg,useState:function(){return Pu(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Se();return Sg(s,ne.memoizedState,e,n)},useTransition:function(){var e=Pu(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=Se();return ig(s,ne,e,n)},useMemoCache:pf,useCacheRefresh:Ig};Rf.useEffectEvent=pg;var Og={readContext:Ke,use:Lu,useCallback:Eg,useContext:Ke,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:yf,useRef:dg,useState:function(){return yf(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Se();return ne===null?Sf(s,e,n):Sg(s,ne.memoizedState,e,n)},useTransition:function(){var e=yf(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=Se();return ne!==null?ig(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ig};Og.useEffectEvent=pg;function If(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=xn(),h=Cs(l);h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(vn(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=xn(),h=Cs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ns(e,h,l),n!==null&&(vn(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=xn(),l=Cs(s);l.tag=2,n!=null&&(l.callback=n),n=Ns(e,l,s),n!==null&&(vn(n,e,s),zl(n,e,s))}};function Mg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,l)||!Dl(h,f):!0}function Vg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function zr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){vu(e)}function Ug(e){console.error(e)}function Lg(e){vu(e)}function qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(e,n)},s}function zg(e){return e=Cs(e),e.tag=3,e}function jg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function _1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?tc():s.alternate===null&&ye===0&&(ye=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),tc(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Vl(Pn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Vl(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Pn(l,s),h=Nf(e.stateNode,l,h),rf(e,h),ye!==4&&(ye=2)),!1;var f=Error(a(520),{cause:l});if(f=Pn(f,s),Wl===null?Wl=[f]:Wl.push(f),ye!==4&&(ye=2),n===null)return!0;l=Pn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),Oe=!1;function Xe(e,n,s,l){n.child=e===null?Gp(n,null,s,l):Lr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Mr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!Oe?(df(e,n,h),Xi(e,n,h)):(Bt&&E&&Fh(n),n.flags|=1,Xe(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(p,l)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Dl(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Df(e,n,s,l,h)}function Gg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):lf(),Kp(n);else return l=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Iu(n,f.cachePool),Yp(n,f),Ds(),n.memoizedState=null):(e!==null&&Iu(n,null),lf(),Ds());return Xe(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Iu(n,null),lf(),Kp(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function Hu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Lr(n,e.child,null,s),e=Hu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function v1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=Hu(n,l),n.lanes=536870912,Ql(null,e);if(uf(n),(e=ue)?(e=s_(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Ye=n,ue=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return Hu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||va(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(l=le,l!==null&&(p=dl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Nr(e,p),vn(l,e,p),xf;tc(),n=Qg(e,n,s)}else e=f.treeContext,ue=Hn(p.nextSibling),Ye=n,Bt=!0,As=null,Bn=!1,e!==null&&Op(n,e),n=Hu(n,l),n.flags|=4096;return n}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Mr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!Oe?(df(e,n,h),Xi(e,n,h)):(Bt&&l&&Fh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Mr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=ff(),e!==null&&!Oe?(df(e,n,f),Xi(e,n,f)):(Bt&&l&&Fh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function Kg(e,n,s,l,h){if(Mr(n),n.stateNode===null){var f=pa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ke(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ke(p):pa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(If(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Bl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zr(s,E);f.props=I;var z=f.context,G=s.contextType;p=pa,typeof G=="object"&&G!==null&&(p=Ke(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Vg(n,f,l,p),Is=!1;var j=n.memoizedState;f.state=j,Bl(n,l,f,h),jl(),z=n.memoizedState,E||j!==z||Is?(typeof K=="function"&&(If(n,s,K,l),z=n.memoizedState),(I=Is||Mg(n,s,I,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,G=zr(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,I=pa,typeof z=="object"&&z!==null&&(I=Ke(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==I)&&Vg(n,f,l,I),Is=!1,j=n.memoizedState,f.state=j,Bl(n,l,f,h),jl();var q=n.memoizedState;p!==K||j!==q||Is||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,l),q=n.memoizedState),(G=Is||Mg(n,s,G,l,j,q,I)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Gu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Xg(e,n,s,l){return Dr(),n.flags|=256,Xe(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Pp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?xs(n):Ds(),(e=ue)?(e=s_(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Ye=n,ue=null)):e=null,e===null)throw ws(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ds(),h=n.mode,E=Fu({mode:"hidden",children:E},h),l=xr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,Ql(null,l)):(xs(n),kf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),E=l.fallback,h=n.mode,l=Fu({mode:"visible",children:l.children},h),E=xr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Lr(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Ql(null,l));else if(xs(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Vl({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(Oe||va(e,n,s,!1),p=(s&e.childLanes)!==0,Oe||p){if(p=le,p!==null&&(l=dl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Nr(e,l),vn(p,e,l),xf;pd(E)||tc(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ue=Hn(E.nextSibling),Ye=n,Bt=!0,As=null,Bn=!1,e!==null&&Op(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(Ds(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Hi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=xr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(I=xe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,s),n.memoizedState=Of,Ql(e.child,l)):(xs(n),s=e.child,e=s.sibling,s=Hi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Lr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Te.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(Te,p),Xe(e,n,l,s),l=Bt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Mu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Hi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function E1(e,n,s){switch(n.tag){case 3:oe(n,n.stateNode.containerInfo),Rs(n,xe,e.memoizedState.cache),Dr();break;case 27:case 5:Z(n);break;case 4:oe(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(xs(n),e=Xi(e,n,s),e!==null?e.sibling:null);xs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(va(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Te,Te.current),l)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:Rs(n,xe,e.memoizedState.cache)}return Xi(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Oe=!1,E1(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&Dp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=zr(e,l),n.tag=1,n=Kg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=zr(l,n.pendingProps),Kg(e,n,l,h,s);case 3:t:{if(oe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Bl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Rs(n,xe,l),l!==f.cache&&Zh(n,[xe],s,!0),jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Pn(Error(a(424)),n),Vl(h),n=Xg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Hn(e.firstChild),Ye=n,Bt=!0,As=null,Bn=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Dr(),l===h){n=Xi(e,n,s);break t}Xe(e,n,l,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,l=lc(wt.current).createElement(s),l[Ie]=n,l[Be]=e,$e(l,s,e),Ce(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Z(n),e===null&&Bt&&(l=n.stateNode=l_(n.type,n.pendingProps,wt.current),Ye=n,Bn=!0,h=ue,zs(n.type)?(yd=h,ue=Hn(l.firstChild)):ue=h),Xe(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=l=ue)&&(l=$1(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Ye=n,ue=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||ws(n)),Z(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,h1,null,null,s),lo._currentValue=h),Gu(e,n),Xe(e,n,l,s),n.child;case 6:return e===null&&Bt&&((e=s=ue)&&(s=Z1(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Ye=n,ue=null,e=!0):e=!1),e||ws(n)),null;case 13:return $g(e,n,s);case 4:return oe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lr(n,null,l,s):Xe(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Xe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Mr(n),h=Ke(h),l=l(h),n.flags|=1,Xe(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return v1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Mr(n),l=Ke(xe),e===null?(h=tf(),h===null&&(h=le,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Rs(n,xe,h)):((e.lanes&s)!==0&&(sf(e,n),Bl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,xe,l)):(l=f.cache,Rs(n,xe,l),l!==h.cache&&Zh(n,[xe],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Ur=Nu,ef}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Ur=Nu,ef}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Da|=n)}function Yl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function T1(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(xe),Ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ce(n),ty(n,f)):(ce(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?($i(n),ce(n),ty(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(n),ce(n),zf(n,h,e,l,s)),null;case 27:if(st(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=rt.current,_a(n)?Mp(n):(e=l_(h,l,s),n.stateNode=e,$i(n))}return ce(n),null;case 5:if(st(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=rt.current,_a(n))Mp(n);else{var p=lc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ie]=n,f[Be]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch($e(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(n)}}return ce(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||ws(n,!0)}else e=lc(e).createTextNode(l),e[Ie]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),ce(n),null);case 4:return Ht(),e===null&&ld(n.stateNode.containerInfo),ce(n),null;case 10:return Qi(n.type),ce(n),null;case 19:if(Y(Te),l=n.memoizedState,l===null)return ce(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Mu(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return nt(Te,Te.current&1|2),Bt&&Gi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&on()>Zu&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Mu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return ce(n),null}else 2*on()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=on(),e.sibling=null,s=Te.current,nt(Te,h?s&1|2:s&1),Bt&&Gi(n,l.treeForkCount),e):(ce(n),null);case 22:case 23:return In(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(xe),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function S1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(xe),Ht(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return st(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Te),null;case 4:return Ht(),null;case 10:return Qi(n.type),null;case 22:case 23:return In(n),of(),e!==null&&Y(Vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(xe),null;case 25:return null;default:return null}}function ey(e,n){switch(Qh(n),n.tag){case 3:Qi(xe),Ht();break;case 26:case 27:case 5:st(n);break;case 4:Ht();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(Te);break;case 10:Qi(n.type);break;case 22:case 23:In(n),of(),e!==null&&Y(Vr);break;case 24:Qi(xe)}}function Kl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function Os(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Wt(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){Wt(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){Wt(e,e.return,l)}}}function iy(e,n,s){s.props=zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Wt(e,n,h)}}function Ci(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function jf(e,n,s){try{var l=e.stateNode;G1(l,e.type,s,n),l[Be]=n}catch(h){Wt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Yu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,l,s),n[Ie]=e,n[Be]=s}catch(f){Wt(e,e.return,f)}}var Zi=!1,Me=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,He=null;function b1(e,n){if(e=e.containerInfo,cd=mc,e=vp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(I=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===l&&(I=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},mc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=zr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Wt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),l&4&&Kl(5,s);break;case 1:if(Wi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Wt(s,s.return,p)}else{var h=zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Wt(s,s.return,p)}}l&64&&ny(s),l&512&&Xl(s,s.return);break;case 3:if(Wi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){Wt(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:Wi(e,s),n===null&&l&4&&sy(s),l&512&&Xl(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),l&4&&hy(e,s);break;case 13:Wi(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=O1.bind(null,s),J1(e,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Me,h=Zi;var f=Me;Zi=l,(Me=n)&&!f?ts(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Zi=h,Me=f}break;case 30:break;default:Wi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,pn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Me||Ci(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Ci(s,n);var l=de,h=pn;zs(s.type)&&(de=s.stateNode,pn=!1),Ji(e,n,s),so(s.stateNode),de=l,pn=h;break;case 5:Me||Ci(s,n);case 6:if(l=de,h=pn,de=null,Ji(e,n,s),de=l,pn=h,de!==null)if(pn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:de!==null&&(pn?(e=de,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):n_(de,s.stateNode));break;case 4:l=de,h=pn,de=s.stateNode.containerInfo,pn=!0,Ji(e,n,s),de=l,pn=h;break;case 0:case 11:case 14:case 15:Os(2,s,n),Me||Os(4,s,n),Ji(e,n,s);break;case 1:Me||(Ci(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Me=(l=Me)||s.memoizedState!==null,Ji(e,n,s),Me=l;break;default:Ji(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Wt(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Wt(n,n.return,s)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=A1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=M1.bind(null,e,l);l.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){de=E.stateNode,pn=!1;break t}break;case 5:de=E.stateNode,pn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(de===null)throw Error(a(160));cy(f,p,h),de=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var ni=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),l&4&&(Os(3,e,e.return),Kl(3,e),Os(5,e,e.return));break;case 1:gn(n,e),yn(e),l&512&&(Me||s===null||Ci(s,s.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ni;if(gn(n,e),yn(e),l&512&&(Me||s===null||Ci(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,l,s),f[Ie]=e,Ce(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ie]=e,Ce(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),yn(e),l&512&&(Me||s===null||Ci(s,s.return)),s!==null&&l&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),yn(e),l&512&&(Me||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(ot){Wt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(gn(n,e),yn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(cc=null,h=ni,ni=oc(n.containerInfo),gn(n,e),ni=h,yn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}Hf&&(Hf=!1,my(e));break;case 4:l=ni,ni=oc(e.stateNode.containerInfo),gn(n,e),yn(e),ni=l;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Zi,G=Me;if(Zi=z||h,Me=G||I,gn(n,e),Me=G,Zi=z,yn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Zi||Me||jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?i_(q,!0):i_(I.stateNode,!1)}catch(ot){Wt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Yu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(mn(p,""),s.flags&=-33);var E=Bf(e);Yu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Bf(e);qf(e,z,I);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),jr(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),jr(n);break;case 27:so(n.stateNode);case 26:case 5:Ci(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function ts(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),Kl(4,f);break;case 1:if(ts(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fp(I[h],E)}catch(z){Wt(l,l.return,z)}}s&&p&64&&ny(f),Xl(f,f.return);break;case 27:ay(f);case 26:case 5:ts(h,f,s),s&&l===null&&p&4&&sy(f),Xl(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&p&4&&hy(h,f);break;case 13:ts(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),Xl(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function ii(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,l),h&2048&&Kl(9,n);break;case 1:ii(e,n,s,l);break;case 3:ii(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){ii(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else ii(e,n,s,l);break;case 31:ii(e,n,s,l);break;case 13:ii(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,l):$l(e,n):f._visibility&2?ii(e,n,s,l):(f._visibility|=2,Ca(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:ii(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:ii(e,n,s,l)}}function Ca(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(f,p,E,I,h),Kl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ca(f,p,E,I,h):$l(f,p):(G._visibility|=2,Ca(f,p,E,I,h)),h&&z&2048&&Gf(p.alternate,p);break;case 24:Ca(f,p,E,I,h),h&&z&2048&&Ff(p.alternate,p);break;default:Ca(f,p,E,I,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Gf(l.alternate,l);break;case 24:$l(s,l),h&2048&&Ff(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Zl=8192;function Na(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&Zl&&e.memoizedState!==null&&cS(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var l=ni;ni=oc(e.stateNode.containerInfo),Na(e,n,s),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,Na(e,n,s),Zl=l):Na(e,n,s));break;default:Na(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):Jl(e);break;default:Jl(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function vy(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Os(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,He=l;else t:for(s=e;He!==null;){l=He;var h=l.sibling,f=l.return;if(uy(l),l===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var w1={getCacheForType:function(e){var n=Ke(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(xe).controller.signal}},R1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,le=null,xt=null,Vt=0,Jt=0,Cn=null,Ms=!1,xa=!1,Qf=!1,es=0,ye=0,Vs=0,Br=0,Yf=0,Nn=0,Da=0,Wl=null,_n=null,Kf=!1,$u=0,Ey=0,Zu=1/0,Ju=null,ks=null,Pe=0,Us=null,Oa=null,ns=0,Xf=0,$f=null,Ty=null,to=0,Zf=null;function xn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:H.T!==null?id():Wo()}function Sy(){if(Nn===0)if((Vt&536870912)===0||Bt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function vn(e,n,s){(e===le&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ls(e,Vt,Nn,!1)),pr(e,s),((Kt&2)===0||e!==le)&&(e===le&&((Kt&2)===0&&(Br|=s),ye===4&&Ls(e,Vt,Nn,!1)),Ni(e))}function by(e,n,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=l?N1(e,n):Wf(e,n,!0),f=l;do{if(h===0){xa&&!l&&Ls(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!I1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Wl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ma(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Ls(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,Nn,!Ms);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-on(),10<h)){if(Ls(l,n,Nn,!Ms),hi(l,0,!0)!==0)break t;ns=n,l.timeoutHandle=t_(Ay.bind(null,l,s,_n,Ju,Kf,n,Nn,Br,Da,Ms,f,"Throttled",-0,0),h);break t}Ay(l,s,_n,Ju,Kf,n,Nn,Br,Da,Ms,f,null,-0,0)}}break}while(!0);Ni(e)}function Ay(e,n,s,l,h,f,p,E,I,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},gy(n,f,K);var ot=(f&62914560)===f?$u-on():(f&4194048)===f?Ey-on():0;if(ot=hS(K,ot),ot!==null){ns=f,e.cancelPendingCommit=ot(Oy.bind(null,e,n,f,s,l,h,p,E,I,G,K,null,j,q)),Ls(e,f,p,!z);return}}Oy(e,n,f,s,l,h,p,E,I)}function I1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,s,l){n&=~Yf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&gr(e,s,n)}function Wu(){return(Kt&6)===0?(eo(0),!1):!0}function Jf(){if(xt!==null){if(Jt===0)var e=xt.return;else e=xt,Fi=Or=null,mf(e),ba=null,Ll=0,e=xt;for(;e!==null;)ey(e.alternate,e),e=e.return;xt=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Y1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ns=0,Jf(),le=e,xt=s=Hi(e.current,null),Vt=n,Jt=0,Cn=null,Ms=!1,xa=Yn(e,n),Qf=!1,Da=Nn=Yf=Br=Vs=ye=0,_n=Wl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ve(l),f=1<<h;n|=e[h],l&=~f}return es=n,Eu(),s}function wy(e,n){It=null,H.H=Fl,n===Sa||n===Cu?(n=Bp(),Jt=3):n===ef?(n=Bp(),Jt=4):Jt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,xt===null&&(ye=1,qu(e,Pn(n,e.current)))}function Ry(){var e=Rn.current;return e===null?!0:(Vt&4194048)===Vt?qn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?e===qn:!1}function Iy(){var e=H.H;return H.H=Fl,e===null?Fl:e}function Cy(){var e=H.A;return H.A=w1,e}function tc(){ye=4,Ms||(Vt&4194048)!==Vt&&Rn.current!==null||(xa=!0),(Vs&134217727)===0&&(Br&134217727)===0||le===null||Ls(le,Vt,Nn,!1)}function Wf(e,n,s){var l=Kt;Kt|=2;var h=Iy(),f=Cy();(le!==e||Vt!==n)&&(Ju=null,Ma(e,n)),n=!1;var p=ye;t:do try{if(Jt!==0&&xt!==null){var E=xt,I=Cn;switch(Jt){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Jt;if(Jt=0,Cn=null,Va(e,E,I,z),s&&xa){p=0;break t}break;default:z=Jt,Jt=0,Cn=null,Va(e,E,I,z)}}C1(),p=ye;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=Or=null,Kt=l,H.H=h,H.A=f,xt===null&&(le=null,Vt=0,Eu()),p}function C1(){for(;xt!==null;)Ny(xt)}function N1(e,n){var s=Kt;Kt|=2;var l=Iy(),h=Cy();le!==e||Vt!==n?(Ju=null,Zu=on()+500,Ma(e,n)):xa=Yn(e,n);t:do try{if(Jt!==0&&xt!==null){n=xt;var f=Cn;e:switch(Jt){case 1:Jt=0,Cn=null,Va(e,n,f,1);break;case 2:case 9:if(zp(f)){Jt=0,Cn=null,xy(n);break}n=function(){Jt!==2&&Jt!==9||le!==e||(Jt=7),Ni(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:zp(f)?(Jt=0,Cn=null,xy(n)):(Jt=0,Cn=null,Va(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?p_(p):E.stateNode.complete){Jt=0,Cn=null;var I=E.sibling;if(I!==null)xt=I;else{var z=E.return;z!==null?(xt=z,ec(z)):xt=null}break e}}Jt=0,Cn=null,Va(e,n,f,5);break;case 6:Jt=0,Cn=null,Va(e,n,f,6);break;case 8:Jf(),ye=6;break t;default:throw Error(a(462))}}x1();break}catch(G){wy(e,G)}while(!0);return Fi=Or=null,H.H=l,H.A=h,Kt=s,xt!==null?0:(le=null,Vt=0,Eu(),ye)}function x1(){for(;xt!==null&&!Ch();)Ny(xt)}function Ny(e){var n=Wg(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?ec(e):xt=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:mf(n);default:ey(s,n),n=xt=Cp(n,es),n=Wg(s,n,es)}e.memoizedProps=e.pendingProps,n===null?ec(e):xt=n}function Va(e,n,s,l){Fi=Or=null,mf(n),ba=null,Ll=0;var h=n.return;try{if(_1(e,h,n,s,Vt)){ye=1,qu(e,Pn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;ye=1,qu(e,Pn(s,e.current)),xt=null;return}n.flags&32768?(Bt||l===1?e=!0:xa||(Vt&536870912)!==0?e=!1:(Ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Ms);return}e=n.return;var s=T1(n.alternate,n,es);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);ye===0&&(ye=5)}function Dy(e,n){do{var s=S1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);ye=6,xt=null}function Oy(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do nc();while(Pe!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(e,s,f,p,E,I),e===le&&(xt=le=null,Vt=0),Oa=n,Us=e,ns=s,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,V1(ds,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=tt.p,tt.p=2,p=Kt,Kt|=4;try{b1(e,n,s)}finally{Kt=p,tt.p=h,H.T=l}}Pe=1,My(),Vy(),ky()}}function My(){if(Pe===1){Pe=0;var e=Us,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Kt;Kt|=4;try{dy(n,e);var f=hd,p=vp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,gt=Math.min(I.start,ot),se=I.end===void 0?gt:Math.min(I.end,ot);!q.extend&&gt>se&&(p=se,se=gt,gt=p);var U=yp(E,gt),x=yp(E,se);if(U&&x&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),gt>se?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}mc=!!cd,hd=cd=null}finally{Kt=h,tt.p=l,H.T=s}}e.current=n,Pe=2}}function Vy(){if(Pe===2){Pe=0;var e=Us,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Kt;Kt|=4;try{oy(e,n.alternate,n)}finally{Kt=h,tt.p=l,H.T=s}}Pe=3}}function ky(){if(Pe===4||Pe===3){Pe=0,Qo();var e=Us,n=Oa,s=ns,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Oa=Us=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),zi(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(ns&3)!==0&&nc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?to++:(to=0,Zf=e):to=0,eo(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function nc(){return My(),Vy(),ky(),Ly()}function Ly(){if(Pe!==5)return!1;var e=Us,n=Xf;Xf=0;var s=zi(ns),l=H.T,h=tt.p;try{tt.p=32>s?32:s,H.T=null,s=$f,$f=null;var f=Us,p=ns;if(Pe=0,Oa=Us=null,ns=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,_y(f.current),py(f,f.current,p,s),Kt=E,eo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{tt.p=h,H.T=l,Uy(e,n)}}function Py(e,n,s){n=Pn(s,n),n=Nf(e.stateNode,n,2),e=Ns(e,n,2),e!==null&&(pr(e,2),Ni(e))}function Wt(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){e=Pn(s,e),s=zg(2),l=Ns(n,s,2),l!==null&&(jg(s,l,n,e),pr(l,2),Ni(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new R1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=D1.bind(null,e,n,s),n.then(e,e))}function D1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Vt&s)===s&&(ye===4||ye===3&&(Vt&62914560)===Vt&&300>on()-$u?(Kt&2)===0&&Ma(e,0):Yf|=s,Da===Vt&&(Da=0)),Ni(e)}function zy(e,n){n===0&&(n=Jo()),e=Nr(e,n),e!==null&&(pr(e,n),Ni(e))}function O1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function M1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function V1(e,n){return Le(e,n)}var ic=null,ka=null,ed=!1,sc=!1,nd=!1,Ps=0;function Ni(e){e!==ka&&e.next===null&&(ka===null?ic=ka=e:ka=ka.next=e),sc=!0,ed||(ed=!0,U1())}function eo(e,n){if(!nd&&sc){nd=!0;do for(var s=!1,l=ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Vt,f=hi(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);nd=!1}}function k1(){jy()}function jy(){sc=ed=!1;var e=0;Ps!==0&&Q1()&&(e=Ps);for(var n=on(),s=null,l=ic;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?ic=h:s.next=h,h===null&&(ka=s)):(s=l,(e!==0||(f&3)!==0)&&(sc=!0)),l=h}Pe!==0&&Pe!==5||eo(e),Ps!==0&&(Ps=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ve(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=xh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=Vt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&fs(l),zi(s)){case 2:case 8:s=hl;break;case 32:s=ds;break;case 268435456:s=Yo;break;default:s=ds}return l=qy.bind(null,e),s=Le(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nc()&&e.callbackNode!==s)return null;var l=Vt;return l=hi(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(by(e,l,n),By(e,on()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(nc())return null;by(e,n,!0)}function U1(){K1(function(){(Kt&6)!==0?Le(cl,k1):jy()})}function id(){if(Ps===0){var e=Ea;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Ps=e}return Ps}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function L1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Be]||null).action),p=l.submitter;p&&(n=(n=p[Be]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Si("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var I=p?Fy(h,p):new FormData(h);bf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Fy(h,p):new FormData(h),bf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],P1=rd.toLowerCase(),z1=rd[0].toUpperCase()+rd.slice(1);ei(P1,"on"+z1)}ei(Sp,"onAnimationEnd"),ei(bp,"onAnimationIteration"),ei(Ap,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(e1,"onTransitionRun"),ei(n1,"onTransitionStart"),ei(i1,"onTransitionCancel"),ei(wp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=I}}}}function Dt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[rc]){e[rc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(j1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,ad("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(S_(n)){case 2:var h=mS;break;case 8:h=pS;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=pi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}vs(function(){var z=f,G=Vn(s),K=[];t:{var j=Rp.get(e);if(j!==void 0){var q=Si,ot=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":ot="focus",q=wr;break;case"focusout":ot="blur",q=wr;break;case"beforeblur":case"afterblur":q=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sp:case bp:case Ap:q=uu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Rl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qi;break;case"toggle":case"beforetoggle":q=Rt}var gt=(n&4)!==0,se=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var x=z,P;x!==null;){var Q=x;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Zn(x,U),Q!=null&&gt.push(io(x,Q,P))),se)break;x=x.return}0<gt.length&&(j=new q(j,ot,null,s,G),K.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==bl&&(ot=s.relatedTarget||s.fromElement)&&(pi(ot)||ot[di]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?pi(ot):null,ot!==null&&(se=c(ot),gt=ot.tag,ot!==se||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(gt=Il,Q="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qi,Q="onPointerLeave",U="onPointerEnter",x="pointer"),se=q==null?j:Sn(q),P=ot==null?j:Sn(ot),j=new gt(Q,x+"leave",q,s,G),j.target=se,j.relatedTarget=P,Q=null,pi(G)===z&&(gt=new gt(U,x+"enter",ot,s,G),gt.target=P,gt.relatedTarget=se,Q=gt),se=Q,q&&ot)e:{for(gt=B1,U=q,x=ot,P=0,Q=U;Q;Q=gt(Q))P++;Q=0;for(var dt=x;dt;dt=gt(dt))Q++;for(;0<P-Q;)U=gt(U),P--;for(;0<Q-P;)x=gt(x),Q--;for(;P--;){if(U===x||x!==null&&U===x.alternate){gt=U;break e}U=gt(U),x=gt(x)}gt=null}else gt=null;q!==null&&Ky(K,j,q,gt,!1),ot!==null&&se!==null&&Ky(K,se,ot,gt,!0)}}t:{if(j=z?Sn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Gt=hp;else if(up(j))if(fp)Gt=JT;else{Gt=$T;var ut=XT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(Gt=hp):Gt=ZT;if(Gt&&(Gt=Gt(e,z))){cp(K,Gt,s,G);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&El(j,"number",j.value)}switch(ut=z?Sn(z):window,e){case"focusin":(up(ut)||ut.contentEditable==="true")&&(fa=ut,Uh=z,Ol=null);break;case"focusout":Ol=Uh=fa=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ep(K,s,G);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":Ep(K,s,G)}var Ct;if(Yt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ha?Rr(e,s)&&(kt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(kt="onCompositionStart");kt&&(wi&&s.locale!=="ko"&&(ha||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ha&&(Ct=wl()):(Ti=G,Al="value"in Ti?Ti.value:Ti.textContent,ha=!0)),ut=ac(z,kt),0<ut.length&&(kt=new Ai(kt,e,null,s,G),K.push({event:kt,listeners:ut}),Ct?kt.data=Ct:(Ct=ca(s),Ct!==null&&(kt.data=Ct)))),(Ct=Un?FT(e,s):QT(e,s))&&(kt=ac(z,"onBeforeInput"),0<kt.length&&(ut=new Ai("onBeforeInput","beforeinput",null,s,G),K.push({event:ut,listeners:kt}),ut.data=Ct)),L1(K,e,z,s,G)}Qy(K,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&l.unshift(io(e,h,f)),h=Zn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function B1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Zn(s,f),z!=null&&p.unshift(io(s,z,I))):h||(z=Zn(s,f),z!=null&&p.push(io(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var q1=/\r\n?/g,H1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(H1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function ie(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(e,""+l);break;case"className":bn(e,"class",l);break;case"tabIndex":bn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){bn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=au.get(s)||s,na(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?mn(e,l):(typeof l=="number"||typeof l=="bigint")&&mn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):na(e,s,l)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,p,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),l&&ie(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ie(e,n,l,G,s,null)}}iu(e,f,E,I,z,p,h,!1);return;case"select":Dt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ie(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?ps(e,!!l,n,!1):s!=null&&ps(e,!!l,s,!0);return;case"textarea":Dt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,p,E,s,null)}gs(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(e,n,I,l,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Dt(no[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,l,s,null)}return;default:if(sa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&ud(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ie(e,n,E,l,s,null))}function G1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||ie(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&ie(e,n,j,q,l,K)}}ia(e,p,E,I,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||ie(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ie(e,n,h,f,l,I)}n=E,s=p,l=q,j!=null?ps(e,!!s,j,!1):!!l!=!!s&&(n!=null?ps(e,!!s,n,!0):ps(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,p,h,l,f)}su(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ie(e,n,ot,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ie(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&ie(e,n,gt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ie(e,n,z,j,l,q)}return;default:if(sa(n)){for(var se in s)j=s[se],s.hasOwnProperty(se)&&j!==void 0&&!l.hasOwnProperty(se)&&ud(e,n,se,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||ud(e,n,G,j,l,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&ie(e,n,U,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||ie(e,n,K,j,l,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&Zy(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function Q1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(X1)}:t_;function X1(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")so(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,so(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&so(e.ownerDocument.body);s=h}while(s);za(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function Z1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Gn=new Map,o_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=tt.d;tt.d={f:W1,r:tS,D:eS,C:nS,L:iS,m:sS,X:aS,S:rS,M:lS};function W1(){var e=is.f(),n=Wu();return e||n}function tS(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):is.r(e)}var Ua=typeof document>"u"?null:document;function u_(e,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$e(n,"link",e),Ce(n),l.head.appendChild(n)))}}function eS(e){is.D(e),u_("dns-prefetch",e,null)}function nS(e,n){is.C(e,n),u_("preconnect",e,n)}function iS(e,n,s){is.L(e,n,s);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Gn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ro(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),$e(n,"link",e),Ce(n),l.head.appendChild(n)))}}function sS(e,n){is.m(e,n);var s=Ua;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Gn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),$e(l,"link",e),Ce(l),s.head.appendChild(l)}}}function rS(e,n,s){is.S(e,n,s);var l=Ua;if(l&&e){var h=gi(l).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ro(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&_d(e,s);var I=p=l.createElement("link");Ce(I),$e(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function aS(e,n){is.X(e,n);var s=Ua;if(s&&e){var l=gi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),Ce(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function lS(e,n){is.M(e,n);var s=Ua;if(s&&e){var l=gi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),Ce(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=wt.current)?oc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=gi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=gi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ro(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||oS(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=gi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+dn(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function oS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",s),Ce(n),e.head.appendChild(n))}function Pa(e){return'[src="'+dn(e)+'"]'}function ao(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(l)return n.instance=l,Ce(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ce(l),$e(l,"style",h),uc(l,s.precedence,e),n.instance=l;case"stylesheet":h=La(s.href);var f=e.querySelector(ro(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;l=h_(s),(h=Gn.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),$e(f,"link",l),n.state.loading|=4,uc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,Ce(h),h):(l=s,(h=Gn.get(f))&&(l=b({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),$e(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uc(l,s.precedence,e));return n.instance}function uc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function d_(e,n,s){if(cc===null){var l=new Map,h=cc=new Map;h.set(s,l)}else h=cc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function uS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,l=h_(l),(h=Gn.get(h))&&_d(l,h),f=f.createElement("link"),Ce(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),$e(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function hS(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*F1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(fS,e),fc=null,hc.call(e))}function fS(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var l=s.get(null);else{s=new Map,fc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:yt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function dS(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,I,z,G,K){return e=new dS(e,n,s,p,I,z,G,K,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function y_(e){return e?(e=pa,e):pa}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ns(e,l,n),s!==null&&(vn(s,e,n),zl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&vn(n,e,67108864),Td(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=xn();n=yr(n);var s=Nr(e,n);s!==null&&vn(s,e,n),Td(e,n)}}var mc=!0;function mS(e,n,s,l){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,s,l)}finally{tt.p=f,H.T=h}}function pS(e,n,s,l){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,s,l)}finally{tt.p=f,H.T=h}}function Sd(e,n,s,l){if(mc){var h=bd(l);if(h===null)od(e,n,l,pc,s),b_(e,l);else if(yS(h,e,n,s,l))l.stopPropagation();else if(b_(e,l),n&4&&-1<gS.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ci(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-ve(p);E.entanglements[1]|=I,p&=~I}Ni(f),(Kt&6)===0&&(Zu=on()+500,eo(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&vn(E,f,2),Wu(),Td(f,2)}if(f=bd(l),f===null&&od(e,n,l,pc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function bd(e){return e=Vn(e),Ad(e)}var pc=null;function Ad(e){if(pc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case cl:return 2;case hl:return 8;case ds:case Nh:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var wd=!1,js=null,Bs=null,qs=null,oo=new Map,uo=new Map,Hs=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function yS(e,n,s,l,h){switch(n){case"focusin":return js=co(js,e,n,s,l,h),!0;case"dragenter":return Bs=co(Bs,e,n,s,l,h),!0;case"mouseover":return qs=co(qs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);bl=l,s.target.dispatchEvent(l),bl=null}else return n=Mn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){gc(e)&&s.delete(n)}function _S(){wd=!1,js!==null&&gc(js)&&(js=null),Bs!==null&&gc(Bs)&&(Bs=null),qs!==null&&gc(qs)&&(qs=null),oo.forEach(w_),uo.forEach(w_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var _c=null;function R_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=Mn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(e){function n(I){return yc(I,e)}js!==null&&yc(js,e),Bs!==null&&yc(Bs,e),qs!==null&&yc(qs,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Be]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Be]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}vc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=xn();__(s,l,e,n,null,null)},vc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),Wu(),n[di]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.1")throw Error(a(527,C_,"19.2.1"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var vS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Qn=Ec.inject(vS),Fe=Ec}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kg,f=Ug,p=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[di]=n.current,ld(e),new Rd(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,p=Ug,E=Lg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=g_(e,1,!0,n,s??null,l,h,I,f,p,E,I_),n.context=y_(null),s=n.current,l=xn(),l=yr(l),h=Cs(l),h.callback=null,Ns(s,h,l),s=l,n.current.lanes=s,pr(n,s),Ni(n),e[di]=n.current,ld(e),new vc(n)},fo.version="19.2.1",fo}var P_;function NS(){if(P_)return Nd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=CS(),Nd.exports}var xS=NS();const DS=()=>{};var z_={};const v0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},OS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(O=64)),a.push(i[S],i[b],i[O],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(v0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):OS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new MS;const O=c<<2|g>>4;if(a.push(O),y!==64){const F=g<<4&240|y>>2;if(a.push(F),b!==64){const W=y<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(r){const t=v0(r);return E0.encodeByteArray(t,!0)},zc=function(r){return VS(r).replace(/\./g,"")},T0=function(r){try{return E0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function kS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const US=()=>kS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&T0(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return DS()||US()||LS()||PS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>sh()?.emulatorHosts?.[r],zS=r=>{const t=S0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>sh()?.config,A0=r=>sh()?.[`_${r}`];class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w0(r){return(await fetch(r,{credentials:"include"})).ok}function BS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const Eo={};function qS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function HS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function R0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Eo[r]===t||Eo[r]||j_)return;Eo[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=qS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{j_=!0,d()},O}function S(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=HS(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Et=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const yt=O.element;g(yt),S(J,it);const Qt=y();v(Et,mt),yt.append(Et,W,J,Qt),document.body.appendChild(yt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function FS(){const r=sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $S(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class hs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=WS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?tb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new hs(o,g,a)}}function tb(r,t){return r.replace(eb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const eb=/\{\$([^}]+)}/g;function nb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Lo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ib(r,t){const i=new sb(r,t);return i.subscribe.bind(i)}class sb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function ln(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class ab{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new jS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ob(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(r){return r===qr?void 0:r}function ob(r){return r.instantiationMode==="EAGER"}class ub{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ab(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const cb={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},hb=Ut.INFO,fb={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},db=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=fb[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=hb,this._logHandler=db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const mb=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function pb(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gb(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,Yd=new WeakMap,C0=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function yb(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&I0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function _b(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||C0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function vb(r){Kd=r(Kd)}function Eb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return C0.set(a,t.sort?t.sort():[t]),Js(a)}:gb().includes(r)?function(...t){return r.apply(kd(this),t),Js(I0.get(this))}:function(...t){return Js(r.apply(kd(this),t))}}function Tb(r){return typeof r=="function"?Eb(r):(r instanceof IDBTransaction&&_b(r),mb(r,pb())?new Proxy(r,Kd):r)}function Js(r){if(r instanceof IDBRequest)return yb(r);if(Vd.has(r))return Vd.get(r);const t=Tb(r);return t!==r&&(Vd.set(r,t),Tm.set(t,r)),t}const kd=r=>Tm.get(r);function Sb(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Js(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Js(d.result),v.oldVersion,v.newVersion,Js(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const bb=["get","getKey","getAll","getAllKeys","count"],Ab=["put","add","delete","clear"],Ud=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=Ab.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bb.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Ud.set(t,c),c}vb(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class wb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Rb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Rb(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",F_="0.14.6";const as=new Em("@firebase/app"),Ib="@firebase/app-compat",Cb="@firebase/analytics-compat",Nb="@firebase/analytics",xb="@firebase/app-check-compat",Db="@firebase/app-check",Ob="@firebase/auth",Mb="@firebase/auth-compat",Vb="@firebase/database",kb="@firebase/data-connect",Ub="@firebase/database-compat",Lb="@firebase/functions",Pb="@firebase/functions-compat",zb="@firebase/installations",jb="@firebase/installations-compat",Bb="@firebase/messaging",qb="@firebase/messaging-compat",Hb="@firebase/performance",Gb="@firebase/performance-compat",Fb="@firebase/remote-config",Qb="@firebase/remote-config-compat",Yb="@firebase/storage",Kb="@firebase/storage-compat",Xb="@firebase/firestore",$b="@firebase/ai",Zb="@firebase/firestore-compat",Jb="firebase",Wb="12.6.0";const $d="[DEFAULT]",tA={[Xd]:"fire-core",[Ib]:"fire-core-compat",[Nb]:"fire-analytics",[Cb]:"fire-analytics-compat",[Db]:"fire-app-check",[xb]:"fire-app-check-compat",[Ob]:"fire-auth",[Mb]:"fire-auth-compat",[Vb]:"fire-rtdb",[kb]:"fire-data-connect",[Ub]:"fire-rtdb-compat",[Lb]:"fire-fn",[Pb]:"fire-fn-compat",[zb]:"fire-iid",[jb]:"fire-iid-compat",[Bb]:"fire-fcm",[qb]:"fire-fcm-compat",[Hb]:"fire-perf",[Gb]:"fire-perf-compat",[Fb]:"fire-rc",[Qb]:"fire-rc-compat",[Yb]:"fire-gcs",[Kb]:"fire-gcs-compat",[Xb]:"fire-fst",[Zb]:"fire-fst-compat",[$b]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};const jc=new Map,eA=new Map,Zd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(Zd.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of jc.values())Q_(i,r);for(const i of eA.values())Q_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ri(r){return r==null?!1:r.settings!==void 0}const nA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Uo("app","Firebase",nA);class iA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const sl=Wb;function N0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=b0()),!i)throw Ws.create("no-options");const c=jc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const d=new ub(o);for(const v of Zd.values())d.addComponent(v);const g=new iA(i,a,d);return jc.set(o,g),g}function x0(r=$d){const t=jc.get(r);if(!t&&r===$d&&b0())return N0();if(!t)throw Ws.create("no-app",{appName:r});return t}function tr(r,t,i){let a=tA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}$a(new Qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const sA="firebase-heartbeat-database",rA=1,Ro="firebase-heartbeat-store";let Ld=null;function D0(){return Ld||(Ld=Sb(sA,rA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function aA(r){try{const i=(await D0()).transaction(Ro),a=await i.objectStore(Ro).get(O0(r));return await i.done,a}catch(t){if(t instanceof hs)as.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});as.warn(i.message)}}}async function Y_(r,t){try{const a=(await D0()).transaction(Ro,"readwrite");await a.objectStore(Ro).put(t,O0(r)),await a.done}catch(i){if(i instanceof hs)as.warn(i.message);else{const a=Ws.create("idb-set",{originalErrorMessage:i?.message});as.warn(a.message)}}}function O0(r){return`${r.name}!${r.options.appId}`}const lA=1024,oA=30;class uA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>oA){const o=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=cA(this._heartbeatsCache.heartbeats),o=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return as.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function cA(r,t=lA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function fA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function dA(r){$a(new Qr("platform-logger",t=>new wb(t),"PRIVATE")),$a(new Qr("heartbeat",t=>new uA(t),"PRIVATE")),tr(Xd,F_,r),tr(Xd,F_,"esm2020"),tr("fire-js","")}dA("");var mA="firebase",pA="12.6.0";tr(mA,pA,"app");function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gA=M0,V0=new Uo("auth","Firebase",M0());const Bc=new Em("@firebase/auth");function yA(r,...t){Bc.logLevel<=Ut.WARN&&Bc.warn(`Auth (${sl}): ${r}`,...t)}function Nc(r,...t){Bc.logLevel<=Ut.ERROR&&Bc.error(`Auth (${sl}): ${r}`,...t)}function ls(r,...t){throw bm(r,...t)}function Di(r,...t){return bm(r,...t)}function k0(r,t,i){const a={...gA(),[t]:i};return new Uo("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return k0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return V0.create(r,...t)}function Tt(r,t,...i){if(!r)throw bm(t,...i)}function ss(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function os(r,t){r||ss(t)}function Jd(){return typeof self<"u"&&self.location?.href||""}function _A(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function vA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_A()||YS()||"connection"in navigator)?navigator.onLine:!0}function EA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Po{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=GS()||KS()}get(){return vA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class U0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bA=new Po(3e4,6e4);function rh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return L0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Lo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return QS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),U0.fetch()(await z0(r,r.config.apiHost,i,g),y)})}async function L0(r,t,i){r._canInitEmulator=!1;const a={...TA,...t};try{const o=new AA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Tc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw k0(r,S,y);ls(r,S)}}catch(o){if(o instanceof hs)throw o;ls(r,"network-request-failed",{message:String(o)})}}async function P0(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&ls(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function z0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return SA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class AA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),bA.get())})}}function Tc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Di(r,t,a);return o.customData._tokenResponse=i,o}async function wA(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function qc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function To(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function RA(r,t=!1){const i=ln(r),a=await i.getIdToken(t),o=wm(a);Tt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Pd(o.auth_time)),issuedAtTime:To(Pd(o.iat)),expirationTime:To(Pd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(i);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(r){const t=wm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hs&&IA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function IA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class CA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,qc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?j0(o.providerUserInfo):[],d=xA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function NA(r){const t=ln(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function j0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function DA(r,t){const i=await L0(r,{},async()=>{const a=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await z0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),U0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function OA(r,t){return rl(r,"POST","/v2/accounts:revokeToken",rh(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await DA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Tt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Fs(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new CA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return RA(this,t)}reload(){return NA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Io(this,wA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:F,providerData:W,stsTokenManager:it}=i;Tt(b&&it,t,"internal-error");const J=Fa.fromJSON(this.name,it);Tt(typeof b=="string",t,"internal-error"),Fs(a,t.name),Fs(o,t.name),Tt(typeof O=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(g,t.name),Fs(v,t.name),Fs(y,t.name),Fs(S,t.name);const mt=new ai({uid:b,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:S});return W&&Array.isArray(W)&&(mt.providerData=W.map(Et=>({...Et}))),v&&(mt._redirectEventId=v),mt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Tt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?j0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(a);const v=new ai({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const J_=new Map;function rs(r){os(r instanceof Function,"Expected a class definition");let t=J_.get(r);return t?(os(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,J_.set(r,t),t)}class B0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}B0.type="NONE";const W_=B0;function xc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,c),this.fullPersistenceKey=xc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(rs(W_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||rs(W_);const d=xc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const O=await qc(t,{idToken:S}).catch(()=>{});if(!O)break;b=await ai._fromGetAccountInfoResponse(t,O,S)}else b=ai._fromJSON(t,S);y!==c&&(g=b),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Qa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Qa(c,t,a))}}function tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y0(t))return"Blackberry";if(K0(t))return"Webos";if(H0(t))return"Safari";if((t.includes("chrome/")||G0(t))&&!t.includes("edge/"))return"Chrome";if(Q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function q0(r=an()){return/firefox\//i.test(r)}function H0(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G0(r=an()){return/crios\//i.test(r)}function F0(r=an()){return/iemobile/i.test(r)}function Q0(r=an()){return/android/i.test(r)}function Y0(r=an()){return/blackberry/i.test(r)}function K0(r=an()){return/webos/i.test(r)}function Rm(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MA(r=an()){return Rm(r)&&!!window.navigator?.standalone}function VA(){return XS()&&document.documentMode===10}function X0(r=an()){return Rm(r)||Q0(r)||K0(r)||Y0(r)||/windows phone/i.test(r)||F0(r)}function $0(r,t=[]){let i;switch(r){case"Browser":i=tv(an());break;case"Worker":i=`${tv(an())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class kA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function UA(r,t={}){return rl(r,"GET","/v2/passwordPolicy",rh(r,t))}const LA=6;class PA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class zA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new kA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=EA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(er(this));const i=t?ln(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UA(this),i=new PA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await OA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ah(r){return ln(r)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=ib(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jA(r){Im=r}function BA(r){return Im.loadJS(r)}function qA(){return Im.gapiScript}function HA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function GA(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return o;ls(o,"already-initialized")}return i.initialize({options:t})}function FA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function QA(r,t,i){const a=ah(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Z0(t),{host:d,port:g}=YA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Fr(y,a.config.emulator)&&Fr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,il(d)?(w0(`${c}//${d}${v}`),R0("Auth",!0)):KA()}function Z0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YA(r){const t=Z0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function KA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class J0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Ya(r,t){return P0(r,"POST","/v1/accounts:signInWithIdp",rh(r,t))}const XA="http://localhost";class Yr extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Yr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:XA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Lo(i)}return t}}class W0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zo extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends zo{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class Ks extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Xs extends zo{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends zo{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function $A(r,t){return P0(r,"POST","/v1/accounts:signUp",rh(r,t))}class sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ai._fromIdTokenResponse(t,a,o),d=iv(a);return new sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=iv(a);return new sr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function ZA(r){if(ri(r.app))return Promise.reject(er(r));const t=ah(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new sr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await $A(t,{returnSecureToken:!0}),a=await sr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Gc extends hs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Gc(t,i,a,o)}}function tE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,c,t,a):c})}async function JA(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return sr._forOperation(r,"link",a)}async function WA(r,t,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(er(a));const o="reauthenticate";try{const c=await Io(r,tE(a,o,t,r),i);Tt(c.idToken,a,"internal-error");const d=wm(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(r.uid===g,a,"user-mismatch"),sr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ls(a,"user-mismatch"),c}}async function tw(r,t,i=!1){if(ri(r.app))return Promise.reject(er(r));const a="signIn",o=await tE(r,a,t),c=await sr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function ew(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function nw(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function iw(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}function sw(r){return ln(r).signOut()}const Fc="__sak";class eE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const rw=1e3,aw=10;class nE extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);VA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,aw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}nE.type="LOCAL";const lw=nE;class iE extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}iE.type="SESSION";const sE=iE;function ow(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await ow(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Cm("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function cw(r){Oi().location.href=r}function rE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function dw(){return rE()?self:null}const aE="firebaseLocalStorageDb",mw=1,Qc="firebaseLocalStorage",lE="fbase_key";class jo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function pw(){const r=indexedDB.deleteDatabase(aE);return new jo(r).toPromise()}function tm(){const r=indexedDB.open(aE,mw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:lE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await pw(),t(await tm()))})})}async function sv(r,t,i){const a=oh(r,!0).put({[lE]:t,value:i});return new jo(a).toPromise()}async function gw(r,t){const i=oh(r,!1).get(t),a=await new jo(i).toPromise();return a===void 0?null:a.value}function rv(r,t){const i=oh(r,!0).delete(t);return new jo(i).toPromise()}const yw=800,_w=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_w)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await sv(t,Fc,"1"),await rv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>gw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=oh(o,!1).getAll();return new jo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const vw=oE;new Po(3e4,6e4);function Ew(r,t){return t?rs(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nm extends J0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Tw(r){return tw(r.auth,new Nm(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),WA(i,new Nm(r),r.bypassAuthState)}async function bw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),JA(i,new Nm(r),r.bypassAuthState)}class uE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Tw;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:ls(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Aw=new Po(2e3,1e4);class Ga extends uE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Aw.get())};t()}}Ga.currentPopupAction=null;const ww="pendingRedirect",Dc=new Map;class Rw extends uE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(r,t){const i=xw(t),a=Nw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Cw(r,t){Dc.set(r._key(),t)}function Nw(r){return rs(r._redirectPersistence)}function xw(r){return xc(ww,r.config.apiKey,r.name)}async function Dw(r,t,i=!1){if(ri(r.app))return Promise.reject(er(r));const a=ah(r),o=Ew(a,t),d=await new Rw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Ow=600*1e3;class Mw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!cE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ow&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function cE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Vw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cE(r);default:return!1}}async function kw(r,t={}){return rl(r,"GET","/v1/projects",t)}const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Pw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await kw(r);for(const i of t)try{if(zw(i))return}catch{}ls(r,"unauthorized-domain")}function zw(r){const t=Jd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(Uw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const jw=new Po(3e4,6e4);function lv(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Bw(r){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Di(r,"network-request-failed"))},timeout:jw.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const o=HA("iframefcb");return Oi()[o]=()=>{gapi.load?a():i(Di(r,"network-request-failed"))},BA(`${qA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function qw(r){return Oc=Oc||Bw(r),Oc}const Hw=new Po(5e3,15e3),Gw="__/auth/iframe",Fw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,Fw):`https://${r.config.authDomain}/${Gw}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=Yw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Lo(a).slice(1)}`}async function Xw(r){const t=await qw(r),i=Oi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Kw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(r,"network-request-failed"),g=Oi().setTimeout(()=>{c(d)},Hw.get());function v(){Oi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const $w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,Jw=600,Ww="_blank",t2="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,t,i,a=Zw,o=Jw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...$w,width:a.toString(),height:o.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=G0(y)?Ww:i),q0(y)&&(t=t||t2,v.scrollbars="yes");const S=Object.entries(v).reduce((O,[F,W])=>`${O}${F}=${W},`,"");if(MA(y)&&g!=="_self")return n2(t||"",g),new ov(null);const b=window.open(t||"",g,S);Tt(b,r,"popup-blocked");try{b.focus()}catch{}return new ov(b)}function n2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const i2="__/auth/handler",s2="emulator/auth/handler",r2=encodeURIComponent("fac");async function uv(r,t,i,a,o,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof W0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",nb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof zo){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await r._getAppCheckToken(),y=v?`#${r2}=${encodeURIComponent(v)}`:"";return`${a2(r)}?${Lo(g).slice(1)}${y}`}function a2({config:r}){return r.emulator?Am(r,s2):`https://${r.authDomain}/${i2}`}const zd="webStorageSupport";class l2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=Dw,this._overrideRedirectResult=Cw}async _openPopup(t,i,a,o){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,Jd(),o);return e2(t,c,Cm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await uv(t,i,a,Jd(),o);return cw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Xw(t),a=new Mw(t);return i.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return X0()||H0()||Rm()}}const o2=l2;var cv="@firebase/auth",hv="1.11.1";class u2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function c2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(r){$a(new Qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$0(r)},y=new zA(a,o,c,v);return FA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Qr("auth-internal",t=>{const i=ah(t.getProvider("auth").getImmediate());return(a=>new u2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(cv,hv,c2(r)),tr(cv,hv,"esm2020")}const f2=300,d2=A0("authIdTokenMaxAge")||f2;let fv=null;const m2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>d2)return;const o=i?.token;fv!==o&&(fv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function p2(r=x0()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=GA(r,{popupRedirectResolver:o2,persistence:[vw,lw,sE]}),a=A0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=m2(c.toString());nw(i,d,()=>d(i.currentUser)),ew(i,g=>d(g))}}const o=S0("auth");return o&&QA(i,`http://${o}`),i}function g2(){return document.getElementsByTagName("head")?.[0]??document}jA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Di("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",g2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,hE;(function(){var r;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,N,k){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return A.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],N=C.g[2];let k=C.g[3],w;w=A+(k^R&(N^k))+M[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=k+(N^A&(R^N))+M[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(R^k&(A^R))+M[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(A^N&(k^A))+M[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(k^R&(N^k))+M[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=k+(N^A&(R^N))+M[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(R^k&(A^R))+M[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(A^N&(k^A))+M[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(k^R&(N^k))+M[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=k+(N^A&(R^N))+M[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(R^k&(A^R))+M[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(A^N&(k^A))+M[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(k^R&(N^k))+M[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=k+(N^A&(R^N))+M[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(R^k&(A^R))+M[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(A^N&(k^A))+M[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(R^N))+M[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(A^R))+M[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(k^A))+M[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^A&(N^k))+M[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(R^N))+M[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(A^R))+M[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(k^A))+M[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^A&(N^k))+M[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(R^N))+M[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(A^R))+M[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(k^A))+M[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^A&(N^k))+M[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(R^N))+M[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(A^R))+M[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(k^A))+M[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^A&(N^k))+M[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(R^N^k)+M[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=k+(A^R^N)+M[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^R)+M[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^A)+M[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^k)+M[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=k+(A^R^N)+M[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^R)+M[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^A)+M[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^k)+M[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=k+(A^R^N)+M[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^R)+M[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^A)+M[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^k)+M[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=k+(A^R^N)+M[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^R)+M[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^A)+M[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(N^(R|~k))+M[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=k+(R^(A|~N))+M[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~R))+M[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~A))+M[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~k))+M[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=k+(R^(A|~N))+M[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~R))+M[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~A))+M[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~k))+M[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=k+(R^(A|~N))+M[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~R))+M[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~A))+M[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~k))+M[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=k+(R^(A|~N))+M[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~R))+M[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,M=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<A;)if(M[N++]=C.charCodeAt(k++),N==this.blockSize){o(this,M),N=0;break}}else for(;k<A;)if(M[N++]=C[k++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[A++]=this.g[R]>>>M&255;return C};function c(C,A){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let M=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;M&&k==A||(R[N]=k,M=!1)}this.g=R}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(y(-C));const A=[];let R=1;for(let M=0;C>=R;M++)A[M]=C/R|0,R*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return J(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let M=b;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),A);N<8?(N=y(Math.pow(A,N)),M=M.j(N).add(y(w))):(M=M.j(R),M=M.add(y(w)))}return M}var b=v(0),O=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(it(this))return"-"+J(this).toString(C);const A=y(Math.pow(C,6));var R=this;let M="";for(;;){const N=Qt(R,A).g;R=mt(R,N.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,W(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=mt(this,C),it(C)?-1:W(C)?0:1};function J(C){const A=C.g.length,R=[];for(let M=0;M<A;M++)R[M]=~C.g[M];return new d(R,~C.h).add(O)}r.abs=function(){return it(this)?J(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let N=0;N<=A;N++){let k=M+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,k&=65535,w&=65535,R[N]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function mt(C,A){return C.add(J(A))}r.j=function(C){if(W(this)||W(C))return b;if(it(this))return it(C)?J(this).j(J(C)):J(J(this).j(C));if(it(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const k=this.i(M)>>>16,w=this.i(M)&65535,ae=C.i(N)>>>16,_e=C.i(N)&65535;R[2*M+2*N]+=w*_e,Et(R,2*M+2*N),R[2*M+2*N+1]+=k*_e,Et(R,2*M+2*N+1),R[2*M+2*N+1]+=w*ae,Et(R,2*M+2*N+1),R[2*M+2*N+2]+=k*ae,Et(R,2*M+2*N+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function Et(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function yt(C,A){this.g=C,this.h=A}function Qt(C,A){if(W(A))throw Error("division by zero");if(W(C))return new yt(b,b);if(it(C))return A=Qt(J(C),A),new yt(J(A.g),J(A.h));if(it(A))return A=Qt(C,J(A)),new yt(J(A.g),A.h);if(C.g.length>30){if(it(C)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=A;M.l(C)<=0;)R=re(R),M=re(M);var N=zt(R,1),k=zt(M,1);for(M=zt(M,2),R=zt(R,2);!W(M);){var w=k.add(M);w.l(C)<=0&&(N=N.add(R),k=w),M=zt(M,1),R=zt(R,1)}return A=mt(C,N.j(A)),new yt(N,A)}for(N=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(R),w=k.j(A);it(w)||w.l(C)>0;)R-=M,k=y(R),w=k.j(A);W(k)&&(k=O),N=N.add(k),C=mt(C,w)}return new yt(N,C)}r.B=function(C){return Qt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&C.i(M);return new d(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|C.i(M);return new d(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^C.i(M);return new d(R,this.h^C.h)};function re(C){const A=C.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(R,C.h)}function zt(C,A){const R=A>>5;A%=32;const M=C.g.length-R,N=[];for(let k=0;k<M;k++)N[k]=A>0?C.i(k+R)>>>A|C.i(k+R+1)<<32-A:C.i(k+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,hE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,nr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fE,go,dE,Mc,em,mE,pE,gE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)et[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,et)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=yt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new it(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,zt=!1,C=new Et,A=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(R)}};function R(){for(var u;u=mt();){try{u.h.call(u.g)}catch(_){J(_)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ae,N),ae.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Nt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=wt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function vt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),oe={};function Ht(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ht(u,m[B],_,T,L);return null}return _=fn(_),u&&u[_e]?u.J(m,_,g(T)?!!T.capture:!1,L):Z(u,m,_,!1,T,L)}function Z(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Rt=Ae(u);if(Rt||(u[Ot]=Rt=new rt(u)),_=Rt.add(m,_,T,et,B),_.proxy)return _;if(T=st(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ht(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function st(){function u(_){return m.call(u.src,u.listener,_)}const m=te;return u}function Mt(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Mt(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=fn(_),u&&u[_e]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=wt(m,_,T,L),_>-1&&(ft(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,L)),(_=u>-1?m[u]:null)&&lt(_))}function lt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])vt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(ht(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ae(m))?(vt(_,u),_.h==0&&(_.src=null,m[Ot]=null)):ft(u)}}}function ht(u){return u in oe?oe[u]:oe[u]="on"+u}function te(u,m){if(u.da)u=!0;else{m=new ae(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&lt(u),u=_.call(T,m)}return u}function Ae(u){return u=u[Ot],u instanceof rt?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function fn(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function we(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}b(we,M),we.prototype[_e]=!0,we.prototype.removeEventListener=function(u,m,_,T){Mt(this,u,m,_,T)};function Le(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=fs(B,T,!0,m)&&L;if(B=m.g=u,L=fs(B,T,!0,m)&&L,L=fs(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=fs(B,T,!1,m)&&L}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ft(_[T]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},we.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function fs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const Rt=et.listener,Ee=et.ha||et.src;et.fa&&vt(u.i,et),L=Rt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Qo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Qo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){M.call(this),this.h=u,this.g={}}b(dr,M);var cl=[];function hl(u){jt(u.g,function(m,_){this.g.hasOwnProperty(_)&&lt(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),hl(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Nh=d.JSON.parse,Yo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Xo(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){N.call(this,"d")}b(Fe,N);function On(){N.call(this,"c")}b(On,N);var ve={},$o=null;function Wr(){return $o=$o||new we}ve.Ia="serverreachability";function Zo(u){N.call(this,ve.Ia,u)}b(Zo,N);function ui(u){const m=Wr();Le(m,new Zo(m))}ve.STAT_EVENT="statevent";function mr(u,m){N.call(this,ve.STAT_EVENT,u),this.stat=m}b(mr,N);function Re(u){const m=Wr();Le(m,new mr(m,u))}ve.Ja="timingevent";function ci(u,m){N.call(this,ve.Ja,u),this.size=m}b(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function xh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",Rt=B.split("&");for(let Yt=0;Yt<Rt.length;Yt++){var Ee=Rt[Yt].split("=");if(Ee.length>1){const fe=Ee[0];Ee=Ee[1];const Un=fe.split("_");et=Un.length>=2&&Un[1]=="type"?et+(fe+"="+Ee+"&"):et+(fe+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Jo(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function fi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,_)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ds(B)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function yr(){}b(yr,Ko),yr.prototype.g=function(){return new XMLHttpRequest},dl=new yr;function zi(u){return encodeURIComponent(String(u))}function Wo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Kn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ie={},Be={};function di(u,m,_){u.M=1,u.A=_r(Ne(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),mi(u),u.B=Ne(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Xn,u.g=mu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(let B=0;B<L.length;B++){const et=Ht(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Jn(this.g),Ee=this.g.ya(),Yt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Rt!=4||Ee==7||(Ee==8||Yt<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var _=Oh(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,Re(12),Sn(this),Mn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<_.length;)if(fe=eu(this,_),fe==Be){Rt==4&&(this.m=4,Re(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ie){this.m=4,Re(15),fi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),gi(this,fe);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||_.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,_,"[Invalid Chunked Response]"),Sn(this),Mn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Cl(et),et.P=!0,Re(11))}}else fi(this.i,this.l,_,null),gi(this,_);Rt==4&&Sn(this),this.o&&!this.K&&(Rt==4?cu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Sn(this),Mn(this)}}}catch{}finally{}};function Oh(u){if(!tu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let _="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Be:(_=Number(m.substring(_,T)),isNaN(_)?Ie:(T+=1,T+_>m.length?Be:(m=m.slice(T,T+_),u.C=T+_,m)))}Kn.prototype.cancel=function(){this.K=!0,Sn(this)};function mi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ui(),Re(17)),Sn(this),this.m=2,Mn(this)):ea(this,this.T-u)};function Mn(u){u.j.I==0||u.K||cu(u.j,u)}function Sn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||_i(_.h,u))){if(!u.L&&_i(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),Ts(_);else break t;wr(_),Re(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=hi(y(_.Va,_),6e3));yi(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ai(_,11)}else if((u.L||_.g==u)&&ua(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const fe=Yt[0];if(!(fe<=_.K))if(_.K=fe,Yt=Yt[1],_.I==2)if(Yt[0]=="c"){_.M=Yt[1],_.ba=Yt[2];const Un=Yt[3];Un!=null&&(_.ka=Un,_.j.info("VER="+_.ka));const wi=Yt[4];wi!=null&&(_.za=wi,_.j.info("SVER="+_.za));const Wn=Yt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ti=u.g;if(ti){const Rr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(gl(B,B.h),B.h=null))}if(T.G){const ca=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Zt(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=du(T,T.L?T.ba:null,T.W),et.L){yl(T.h,et);var Rt=et,Ee=T.O;Ee&&(Rt.H=Ee),Rt.D&&(pi(Rt),mi(Rt)),T.g=et}else ou(T);_.i.length>0&&bi(_)}else Yt[0]!="stop"&&Yt[0]!="close"||Ai(_,7);else _.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ai(_,7):Rl(_):Yt[0]!="noop"&&_.l&&_.l.qa(Yt),_.A=0)}}ui(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,vl(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),ms(this,m[4]),this.h=vi(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ia,!0),"@"),u.push(zi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vr(_,_.charAt(0)=="/"?El:iu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vr(_,su)),u.join("")},bn.prototype.resolve=function(u){const m=Ne(this);let _=!!u.j;_?qe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ms(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Rt=L[et++];Rt=="."?T&&et==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?vl(m,au(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ne(u){return new bn(u)}function qe(u,m,_){u.j=_?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,_){m instanceof gs?(u.i=m,ra(u.i,u.l)):(_||(m=vr(m,ps)),u.i=new gs(m,u.l))}function Zt(u,m,_){u.i.set(m,_)}function _r(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,iu=/[#\?:]/g,El=/[#\?]/g,ps=/[#\?@]/g,su=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=gs.prototype,r.add=function(u,m){mn(this),this.i=null,u=ys(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ru(u,m){mn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return mn(u),m=ys(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){mn(u);let _=[];if(typeof m=="string")Tl(u,m)&&(_=_.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return mn(this),this.i=null,u=ys(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){ru(u,m),_.length>0&&(u.i=null,u.g.set(ys(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=zi(_);_=Sl(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+zi(_[B])),u.push(et)}}return this.i=u.join("&")};function au(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(ru(this,T),sa(this,L,_))},u)),u.j=m}function $n(u,m){const _=new Yn;if(d.Image){const T=new Image;T.onload=S(Vn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Vn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Vn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Vn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bl(u,m){const _=new Yn,T=new AbortController,L=setTimeout(()=>{T.abort(),Vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Vn(_,"TestPingServer: ok",!0,m):Vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(_,"TestPingServer: error",!1,m)})}function Vn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function _s(){this.g=new Yo}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Ei,Ko),Ei.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Er,we),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Zn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},r.Na=function(u){this.g&&(this.response=u,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return jt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Tr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=kn(_),typeof u=="string"?_!=null&&zi(_):Zt(u,m,_))}function ee(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ee,we);var Ti=/^https?$/i,Al=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Al,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),ji(u)}function wl(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Le(this,"complete"),Le(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Le(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(nu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!Ti.test(et?et.toLowerCase():"")}_=T}if(_)Le(u,"complete"),Le(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wl(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Le(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Wo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Nt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Es.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Re(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),bi(this)};function Rl(u){if(la(u),u.I==3){var m=u.V++,_=Ne(u.J);if(Zt(_,"SID",u.M),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),Ar(u,_),m=new Kn(u,u.j,m),m.M=2,m.A=_r(Ne(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}fu(u)}function Ts(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function la(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function bi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||A(),zt||(re(),zt=!0),C.add(m,u),u.D=0}}function oa(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=lu(this,L,m),_=Ne(this.J),Zt(_,"RID",u),Zt(_,"CVER",22),this.G&&Zt(_,"X-HTTP-Session-Id",this.G),Ar(this,_),B&&(this.R?m="headers="+zi(kn(B))+"&"+m:this.u&&Tr(_,this.u,B)),gl(this.h,L),this.Ra&&Zt(_,"TYPE","init"),this.S?(Zt(_,"$req",m),Zt(_,"SID","null"),L.U=!0,di(L,_,null)):di(L,_,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var _;m?_=m.l:_=u.V++;const T=Ne(u.J);Zt(T,"SID",u.M),Zt(T,"RID",_),Zt(T,"AID",u.K),Ar(u,T),u.u&&u.o&&Tr(T,u.u,u.o),_=new Kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),gl(u.h,_),di(_,T,m)}function Ar(u,m){u.H&&jt(u.H,function(_,T){Zt(m,T,_)}),u.l&&jt({},function(_,T){Zt(m,T,_)})}function lu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Ee=["count="+_];Rt==-1?_>0?(Rt=L[0].g,Ee.push("ofs="+Rt)):Rt=0:Ee.push("ofs="+Rt);let Yt=!0;for(let fe=0;fe<_;fe++){var B=L[fe].g;const Un=L[fe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[fe].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var et=Un instanceof Map?Un:Object.entries(Un);for(const[wi,Wn]of et){let ti=Wn;g(Wn)&&(ti=ds(Wn)),Ee.push(B+wi+"="+encodeURIComponent(ti))}}catch(wi){throw Ee.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Un)}}if(Yt){et=Ee.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||A(),zt||(re(),zt=!0),C.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),hu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ts(this),uu(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=_r(Ne(m)),_.u=null,_.R=!0,ta(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Ts(this),wr(this),Re(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var _=null;if(u.g==m){ua(u),Cl(u),u.g=null;var T=2}else if(_i(u.h,m))_=m.G,yl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),Le(T,new ci(T,_)),bi(u)}else ou(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&wr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function hu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),_r(T),L?$n(T.toString(),_):bl(T.toString(),_)}else Re(2);u.I=0,u.l&&u.l.pa(m),fu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function du(u,m,_){var T=_ instanceof bn?Ne(_):new bn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new bn(null);T&&qe(B,T),m&&(B.g=m),L&&ms(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Zt(T,_,m),Zt(T,"VER",u.ka),Ar(u,T),T}function mu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new Ei({ab:_})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ss(){}Ss.prototype.g=function(u,m){return new un(u,m)};function un(u,m){we.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}b(un,we),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Rl(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ds(u),u=_);m.i.push(new Ce(m.Ya++,u)),m.I==3&&bi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,un.Z.N.call(this)};function gu(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(gu,Fe);function yu(){On.call(this),this.status=1}b(yu,On);function qi(u){this.g=u}b(qi,pu),qi.prototype.ra=function(){Le(this.g,"a")},qi.prototype.qa=function(u){Le(this.g,new gu(u))},qi.prototype.pa=function(u){Le(this.g,new yu)},qi.prototype.oa=function(){Le(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,gE=function(){return new Ss},pE=function(){return Wr()},mE=ve,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Mc=gr,fl.COMPLETE="complete",dE=fl,Xo.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",we.prototype.listen=we.prototype.J,go=Xo,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,fE=ee}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let al="12.3.0";const Kr=new Em("@firebase/firestore");function ja(){return Kr.logLevel}function at(r,...t){if(Kr.logLevel<=Ut.DEBUG){const i=t.map(xm);Kr.debug(`Firestore (${al}): ${r}`,...i)}}function us(r,...t){if(Kr.logLevel<=Ut.ERROR){const i=t.map(xm);Kr.error(`Firestore (${al}): ${r}`,...i)}}function Za(r,...t){if(Kr.logLevel<=Ut.WARN){const i=t.map(xm);Kr.warn(`Firestore (${al}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,yE(r,a,i)}function yE(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function $t(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||yE(t,o,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class _E{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class _2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class v2{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ir)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new _E(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class E2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=b2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return jd(o)===jd(c)?Lt(o,c):jd(o)?1:-1}return Lt(r.length,t.length)}const A2=55296,w2=57343;function jd(r){const t=r.charCodeAt(0);return t>=A2&&t<=w2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const yv="__name__";class xi{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=xi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=xi.isNumericId(t),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(t).compare(xi.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class me extends xi{construct(t,i,a){return new me(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends xi{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return R2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Je([yv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(me.fromString(t))}static fromName(t){return new pt(me.fromString(t).popFirst(5))}static empty(){return new pt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new me(t.slice()))}}function I2(r,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function C2(r,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!pt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function ke(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bo(r,t){if(!vE(r))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bo(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ke("string",he._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new he(0,0))}static max(){return new St(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function N2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new rr(o,pt.empty(),t)}function x2(r){return new rr(r.readTime,r.key,Co)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(St.min(),pt.empty(),Co)}static max(){return new rr(St.max(),pt.empty(),Co)}}function D2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==O2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function V2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Mm=-1;function ch(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function k2(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const EE="";function U2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=L2(r.get(i),t);return Tv(t)}function L2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case EE:i+="";break;default:i+=c}}return i}function Tv(r){return r+EE+""}function Sv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function hr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function TE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=o??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(t){return new bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new je(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if($t(!!r,39018),typeof r=="string"){let t=0;const i=P2.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function lr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const bE="server_timestamp",AE="__type__",wE="__previous_value__",RE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===bE}function hh(r){const t=r.mapValue.fields[wE];return Vm(t)?hh(t):t}function No(r){const t=ar(r.mapValue.fields[RE].timestampValue);return new he(t.seconds,t.nanos)}class z2{constructor(t,i,a,o,c,d,g,v,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Kc="(default)";class xo{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}const IE="__type__",j2="__max__",Ac={mapValue:{}},CE="__vector__",Xc="value";function or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:q2(r)?9007199254740991:B2(r)?10:11:_t(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=or(r);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ar(o.timestampValue),g=ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return lr(o.bytesValue).isEqual(lr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return be(o.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return be(o.integerValue)===be(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=be(o.doubleValue),g=be(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Sv(d)!==Sv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Li(d[v],g[v])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Do(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=or(r),a=or(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=be(c.integerValue||c.doubleValue),v=be(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(No(r),No(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=lr(c),v=lr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=Lt(g[y],v[y]);if(S!==0)return S}return Lt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Lt(be(c.latitude),be(d.latitude));return g!==0?g:Lt(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Xc]?.arrayValue,S=v[Xc]?.arrayValue,b=Lt(y?.values?.length||0,S?.values?.length||0);return b!==0?b:wv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const O=nm(v[b],S[b]);if(O!==0)return O;const F=Wa(g[v[b]],y[S[b]]);if(F!==0)return F}return Lt(v.length,S.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=ar(r),a=ar(t),o=Lt(i.seconds,a.seconds);return o!==0?o:Lt(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Lt(i.length,a.length)}function tl(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return lr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${im(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function Vc(r){switch(or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return hr(a.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function B2(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===CE}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return hr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function q2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===j2}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=Je.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=So(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){hr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Tn(So(this.value))}}function NE(r){const t=[];return hr(r.fields,((i,a)=>{const o=new Je([i]);if(kc(a)){const c=NE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Dn(t)}class rn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,o){return new rn(t,1,i,St.min(),a,o,0)}static newNoDocument(t,i){return new rn(t,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function H2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class xE{}class ze extends xE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new F2(t,i,a):i==="array-contains"?new K2(t,a):i==="in"?new X2(t,a):i==="not-in"?new $2(t,a):i==="array-contains-any"?new Z2(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Q2(t,a):new Y2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends xE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Pi(t,i)}matches(t){return DE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(r){return r.op==="and"}function OE(r){return G2(r)&&DE(r)}function G2(r){for(const t of r.filters)if(t instanceof Pi)return!1;return!0}function rm(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(OE(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function ME(r,t){return r instanceof ze?(function(a,o){return o instanceof ze&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(r,t):r instanceof Pi?(function(a,o){return o instanceof Pi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&ME(d,o.filters[g])),!0):!1})(r,t):void _t(19439)}function VE(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(r):"Filter"}class F2 extends ze{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Q2 extends ze{constructor(t,i){super(t,"in",i),this.keys=kE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Y2 extends ze{constructor(t,i){super(t,"not-in",i),this.keys=kE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function kE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class K2 extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Do(i.arrayValue,this.value)}}class X2 extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class $2 extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class Z2 extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Do(this.value.arrayValue,a)))}}class J2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new J2(r,t,i,a,o,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function Lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!H2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!ME(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function am(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(r,t,i,a,o,c,d,g){return new fh(r,t,i,a,o,c,d,g)}function dh(r){return new fh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tR(r){return r.collectionGroup!==null}function bo(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new je(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Zc(Je.keyField(),a))}return t.Ie}function Mi(r){const t=At(r);return t.Ee||(t.Ee=eR(t,bo(r))),t.Ee}function eR(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return Lm(Mi(r),Mi(t))&&r.limitType===t.limitType}function UE(r){return`${Um(Mi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>VE(o))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=Cv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,bo(a),o)||a.endAt&&!(function(d,g,v){const y=Cv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,bo(a),o))})(r,t)}function nR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(t,i)=>{let a=!1;for(const o of bo(r)){const c=iR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function iR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Wa(v,y):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const sR=new pe(pt.comparator);function cs(){return sR}const PE=new pe(pt.comparator);function yo(...r){let t=PE;for(const i of r)t=t.insert(i.key,i);return t}function zE(r){let t=PE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Ao()}function jE(){return Ao()}function Ao(){return new Zr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const rR=new pe(pt.comparator),aR=new je(pt.comparator);function Pt(...r){let t=aR;for(const i of r)t=t.add(i);return t}const lR=new je(Lt);function oR(){return lR}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function BE(r){return{integerValue:""+r}}function qE(r,t){return k2(t)?BE(t):Pm(r,t)}class gh{constructor(){this._=void 0}}function uR(r,t,i){return r instanceof Jc?(function(o,c){const d={fields:{[AE]:{stringValue:bE},[RE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=hh(c)),c&&(d.fields[wE]=c),{mapValue:d}})(i,t):r instanceof Oo?GE(r,t):r instanceof Mo?FE(r,t):(function(o,c){const d=HE(o,c),g=Ov(d)+Ov(o.Ae);return sm(d)&&sm(o.Ae)?BE(g):Pm(o.serializer,g)})(r,t)}function cR(r,t,i){return r instanceof Oo?GE(r,t):r instanceof Mo?FE(r,t):i}function HE(r,t){return r instanceof Vo?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends gh{}class Oo extends gh{constructor(t){super(),this.elements=t}}function GE(r,t){const i=QE(t);for(const a of r.elements)i.some((o=>Li(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mo extends gh{constructor(t){super(),this.elements=t}}function FE(r,t){let i=QE(t);for(const a of r.elements)i=i.filter((o=>!Li(o,a)));return{arrayValue:{values:i}}}class Vo extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return be(r.integerValue||r.doubleValue)}function QE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hR{constructor(t,i){this.field=t,this.transform=i}}function fR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Oo&&o instanceof Oo||a instanceof Mo&&o instanceof Mo?Ja(a.elements,o.elements,Li):a instanceof Vo&&o instanceof Vo?Li(a.Ae,o.Ae):a instanceof Jc&&o instanceof Jc})(r.transform,t.transform)}class dR{constructor(t,i){this.version=t,this.transformResults=i}}class oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function YE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zm(r.key,oi.none()):new qo(r.key,r.data,oi.none());{const i=r.data,a=Tn.empty();let o=new je(Je.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new fr(r.key,a,new Dn(o.toArray()),oi.none())}}function mR(r,t,i){r instanceof qo?(function(o,c,d){const g=o.value.clone(),v=Vv(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof fr?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(KE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(r,t,i,a){return r instanceof qo?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),S=kv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof fr?(function(c,d,g,v){if(!Uc(c.precondition,d))return g;const y=kv(c.fieldTransforms,v,d),S=d.data;return S.setAll(KE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function pR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=HE(a.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>fR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class qo extends yh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fr extends yh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,cR(d,g,i[o]))}return a}function kv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,uR(c,d,t))}return a}class zm extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gR extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&mR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=jE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=YE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class jm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return rR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new jm(t,i,a,o)}}class _R{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ve,qt;function ER(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function XE(r){if(r===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ve.OK:return $.OK;case Ve.CANCELLED:return $.CANCELLED;case Ve.UNKNOWN:return $.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return $.INTERNAL;case Ve.UNAVAILABLE:return $.UNAVAILABLE;case Ve.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ve.NOT_FOUND:return $.NOT_FOUND;case Ve.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ve.ABORTED:return $.ABORTED;case Ve.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ve.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function TR(){return new TextEncoder}const SR=new nr([4294967295,4294967295],0);function Uv(r){const t=TR().encode(r),i=new hE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,a],0),new nr([o,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(nr.fromNumber(a)));return o.compare(SR)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(St.min(),o,new pe(Lt),cs(),Pt())}}class Ho{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ho(a,i,Pt(),Pt(),Pt())}}class Lc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class $E{constructor(t,i){this.targetId=t,this.Ce=i}}class ZE{constructor(t,i,a=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t(38017,{changeType:c})}})),new Ho(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=wc(),this.He=wc(),this.Ye=new pe(Lt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(am(c))if(a===0){const d=new pt(c.path);this.et(i,d,rn.newNoDocument(d,St.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=lr(a).toUint8Array()}catch(v){if(v instanceof SE)return Za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Bm(d,o,c)}catch(v){return Za(v instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const v=new pt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,rn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new _h(t,i,this.Ye,this.je,a);return this.je=cs(),this.Je=wc(),this.He=wc(),this.Ye=new pe(Lt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Lt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Lt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new pe(pt.comparator)}function zv(){return new pe(pt.comparator)}const AR={asc:"ASCENDING",desc:"DESCENDING"},wR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RR={and:"AND",or:"OR"};class IR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CR(r,t){return Wc(r,t.toTimestamp())}function Vi(r){return $t(!!r,49232),St.fromTimestamp((function(i){const a=ar(i);return new he(a.seconds,a.nanos)})(r))}function qm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(o){return new me(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function WE(r){const t=me.fromString(r);return $t(sT(t),10190,{key:t.toString()}),t}function cm(r,t){return qm(r.databaseId,t.path)}function Bd(r,t){const i=WE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(eT(i))}function tT(r,t){return qm(r.databaseId,t)}function NR(r){const t=WE(r);return t.length===4?me.emptyPath():eT(t)}function hm(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eT(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function xR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?($t(S===void 0||typeof S=="string",58123),We.fromBase64String(S||"")):($t(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),We.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?$.UNKNOWN:XE(y.code);return new ct(S,y.message||"")})(d);i=new ZE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):St.min(),g=new Tn({mapValue:{fields:a.document.fields}}),v=rn.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Lc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?Vi(a.readTime):St.min(),d=rn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new vR(o,c),g=a.targetId;i=new $E(g,d)}}return i}function DR(r,t){let i;if(t instanceof qo)i={update:jv(r,t.key,t.value)};else if(t instanceof zm)i={delete:cm(r,t.key)};else if(t instanceof fr)i={update:jv(r,t.key,t.data),updateMask:jR(t.fieldMask)};else{if(!(t instanceof gR))return _t(16599,{Vt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:CR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function OR(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Vi(o.updateTime):Vi(c);return d.isEqual(St.min())&&(d=Vi(c)),new dR(d,o.transformResults||[])})(i,t)))):[]}function MR(r,t){return{documents:[tT(r,t.path)]}}function VR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tT(r,o);const c=(function(y){if(y.length!==0)return iT(Pi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(O){return{field:qa(O.field),direction:LR(O.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function kR(r){let t=NR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$t(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const O=nT(b);return O instanceof Pi&&OE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(W){return new Zc(Ha(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,ch(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(b){const O=!!b.before,F=b.values||[];return new $c(F,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const O=!b.before,F=b.values||[];return new $c(F,O)})(i.endAt)),W2(t,o,d,c,g,"F",v,y)}function UR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return ze.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Pi.create(i.compositeFilter.filters.map((a=>nT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function LR(r){return AR[r]}function PR(r){return wR[r]}function zR(r){return RR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Je.fromServerFormat(r.fieldPath)}function iT(r){return r instanceof ze?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:PR(i.op),value:i.value}}})(r):r instanceof Pi?(function(i){const a=i.getFilters().map((o=>iT(o)));return a.length===1?a[0]:{compositeFilter:{op:zR(i.op),filters:a}}})(r):_t(54877,{filter:r})}function jR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function sT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zs{constructor(t,i,a,o,c=St.min(),d=St.min(),g=We.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class BR{constructor(t){this.yt=t}}function qR(r){const t=kR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class HR{constructor(){this.Cn=new GR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class GR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new je(me.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new je(me.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(rT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const qv="LruGarbageCollector",FR=1048576;function Hv([r,t],[i,a]){const o=Lt(r,i);return o===0?Lt(t,a):o}class QR{constructor(t){this.Ir=t,this.buffer=new je(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?at(qv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class KR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new QR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ja()<=Ut.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function XR(r,t){return new KR(r,t)}class $R{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ZR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class JR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&wo(a.mutation,o,Dn.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const o=Hr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=cs();const d=Ao(),g=(function(){return Ao()})();return i.forEach(((v,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof fr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),wo(S.mutation,y,S.mutation.getFieldMask(),he.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new ZR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new pe(((d,g)=>d-g)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||Dn.empty();S=g.applyToLocalView(y,S),a.set(v,S);const b=(o.get(g.batchId)||Pt()).add(v);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,b=jE();S.forEach((O=>{if(!c.has(O)){const F=YE(i.get(O),a.get(O));F!==null&&b.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Hr());let g=Co,v=c;return d.next((y=>X.forEach(y,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Pt()))).next((S=>({batchId:g,changes:zE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(v=>{const y=(function(b,O){return new fh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((S=>{S.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,rn.newInvalidDocument(S)))}));let g=yo();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&wo(S.mutation,y,Dn.empty(),he.now()),ph(i,y)&&(g=g.insert(v,y))})),g}))}}class WR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:qR(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),X.resolve()}}class tI{constructor(){this.overlays=new pe(pt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Hr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new pe(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Hr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Hr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return X.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _R(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class eI{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new me([])),a=new Ge(i,t),o=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new me([])),a=new Ge(i,t),o=new Ge(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Lt(t.Yr,i.Yr)}static Kr(t,i){return Lt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class nI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ge(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Lt);return i.forEach((o=>{const c=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new pt(c),0);let g=new je(Lt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ge(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iI{constructor(t){this.ri=t,this.docs=(function(){return new pe(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=cs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=cs();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||D2(x2(S),a)<=0||(o.has(S.key)||ph(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){_t(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sI(this)}getSize(t){return X.resolve(this.size)}}class sI extends $R{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rI{constructor(t){this.persistence=t,this.si=new Zr((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class aT{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=t(this),this.Pi=new rI(this),this.indexManager=new HR,this.remoteDocumentCache=(function(o){return new iI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new BR(i),this.Ii=new WR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new nI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new aI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class aI extends M2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=pt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Zr((a=>U2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=XR(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Pt(),o=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(t,i.fromCache,a,o)}}class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class oI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $S()?8:V2(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(ja()<=Ut.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Ut.DEBUG&&at("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ja()<=Ut.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}ys(t,i){if(Dv(i))return X.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return Dv(i)||o.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ja()<=Ut.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.vs(t,d,i,N2(o,Co)).next((g=>g)))}))}Ds(t,i){let a=new je(LE(t));return i.forEach(((o,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return ja()<=Ut.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",uI=3e8;class cI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new pe(Lt),this.xs=new Zr((c=>Um(c)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hI(r,t,i,a){return new cI(r,t,i,a)}async function lT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Pt();for(const y of o){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function fI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const b=y.batch,O=b.keys();let F=X.resolve();return O.forEach((W=>{F=F.next((()=>S.getEntry(v,W))).next((it=>{const J=y.docVersions.get(W);$t(J!==null,48541),it.version.compareTo(J)<0&&(b.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),S.addEntry(it)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Pt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function oT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dI(r,t){const i=At(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((S,b)=>{const O=o.get(b);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,b))));let F=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(We.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),o=o.insert(b,F),(function(it,J,mt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=uI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(O,F,S)&&g.push(i.Pi.updateTargetData(c,F))}));let v=cs(),y=Pt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(mI(c,d,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!a.isEqual(St.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function mI(r,t,i){let a=Pt(),o=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=cs();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function pI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function gI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Zs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=At(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;at(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Gv(r,t,i){const a=At(r);let o=St.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const b=At(v),O=b.xs.get(S);return O!==void 0?X.resolve(b.Ms.get(O)):b.Pi.getTargetData(y,S)})(a,d,Mi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:Pt()))).next((g=>(yI(a,nR(t),g),{documents:g,Qs:c})))))}function yI(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=oR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _I{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vI{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function dm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const qd="RestConnection",EI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=dm(),g=this.zo(t,i.toUriEncodedString());at(qd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),S=il(y);return this.Jo(t,g,v,a,S).then((b=>(at(qd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Za(qd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=EI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class SI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class bI extends TI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=dm();return new Promise(((g,v)=>{const y=new fE;y.setWithCredentials(!0),y.listenOnce(dE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Mc.NO_ERROR:const b=y.getResponseJson();at(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Mc.TIMEOUT:at(nn,`RPC '${t}' ${d} timed out`),v(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const O=y.getStatus();if(at(nn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const it=(function(mt){const Et=mt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(W.status);v(new ct(it,W.message))}else v(new ct($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ct($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(nn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);at(nn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gE(),g=pE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=c.join("");at(nn,`Creating RPC '${t}' stream ${o}: ${S}`,v);const b=d.createWebChannel(S,v);this.I_(b);let O=!1,F=!1;const W=new SI({Yo:J=>{F?at(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(O||(at(nn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),O=!0),at(nn,`RPC '${t}' stream ${o} sending:`,J),b.send(J))},Zo:()=>b.close()}),it=(J,mt,Et)=>{J.listen(mt,(yt=>{try{Et(yt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return it(b,go.EventType.OPEN,(()=>{F||(at(nn,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),it(b,go.EventType.CLOSE,(()=>{F||(F=!0,at(nn,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(b))})),it(b,go.EventType.ERROR,(J=>{F||(F=!0,Za(nn,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),it(b,go.EventType.MESSAGE,(J=>{if(!F){const mt=J.data[0];$t(!!mt,16349);const Et=mt,yt=Et?.error||Et[0]?.error;if(yt){at(nn,`RPC '${t}' stream ${o} received error:`,yt);const Qt=yt.status;let re=(function(A){const R=Ve[A];if(R!==void 0)return XE(R)})(Qt),zt=yt.message;re===void 0&&(re=$.INTERNAL,zt="Unknown error status: "+Qt+" with message "+yt.message),F=!0,W.a_(new ct(re,zt)),b.close()}else at(nn,`RPC '${t}' stream ${o} received:`,mt),W.u_(mt)}})),it(g,mE.STAT_EVENT,(J=>{J.stat===em.PROXY?at(nn,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===em.NOPROXY&&at(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function vh(r){return new IR(r,!0)}class uT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class cT{constructor(t,i,a,o,c,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AI extends cT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Vi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=am(v)?{documents:MR(c,v)}:{query:VR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=JE(c,d.resumeToken);const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=om(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=UR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class wI extends cT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=OR(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>DR(this.serializer,a)))};this.q_(i)}}class RI{}class II extends RI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,um(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class NI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Jr(this)&&(at(Xr,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await Go(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Ra=new CI(a,o)}}async function Eh(r){if(Jr(r))for(const t of r.da)await t(!0)}async function Go(r){for(const t of r.da)await t(!1)}function hT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):ul(i).O_()&&Km(i,t))}function Ym(r,t){const i=At(r),a=ul(i);i.Ia.delete(t),a.O_()&&fT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Jr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Y_(t)}function fT(r,t){r.Va.Ue(t),ul(r).Z_(t)}function Xm(r){r.Va=new bR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Ra.ua()}function $m(r){return Jr(r)&&!ul(r).x_()&&r.Ia.size>0}function Jr(r){return At(r).Ea.size===0}function dT(r){r.Va=void 0}async function xI(r){r.Ra.set("Online")}async function DI(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function OI(r,t){dT(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function MI(r,t,i){if(r.Ra.set("Online"),t instanceof ZE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){at(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof $E?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await oT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(We.EMPTY_BYTE_STRING,S.snapshotVersion)),fT(c,v);const b=new Zs(S.target,v,y,S.sequenceNumber);Km(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Xr,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await Go(r),r.Ra.set("Offline"),i||(i=()=>oT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Xr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function mT(r,t){return t().catch((i=>eh(r,i,t)))}async function Th(r){const t=At(r),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;VI(t);)try{const o=await pI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,kI(t,o)}catch(o){await eh(t,o)}pT(t)&&gT(t)}function VI(r){return Jr(r)&&r.Ta.length<10}function kI(r,t){r.Ta.push(t);const i=ur(r);i.O_()&&i.X_&&i.ea(t.mutations)}function pT(r){return Jr(r)&&!ur(r).x_()&&r.Ta.length>0}function gT(r){ur(r).start()}async function UI(r){ur(r).ra()}async function LI(r){const t=ur(r);for(const i of r.Ta)t.ea(i.mutations)}async function PI(r,t,i){const a=r.Ta.shift(),o=jm.from(a,t,i);await mT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Th(r)}async function zI(r,t){t&&ur(r).X_&&await(async function(a,o){if((function(d){return ER(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();ur(a).B_(),await mT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Th(a)}})(r,t),pT(r)&&gT(r)}async function Xv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Xr,"RemoteStore received new credentials");const a=Jr(i);i.Ea.add(3),await Go(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function jI(r,t){const i=At(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Go(i),i.Ra.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new AI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:xI.bind(null,r),t_:DI.bind(null,r),r_:OI.bind(null,r),H_:MI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),dT(r))}))),r.ma}function ur(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new wI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:UI.bind(null,r),r_:zI.bind(null,r),ta:LI.bind(null,r),na:PI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Xr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Zm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(us("AsyncQueue",`${t}: ${r}`),ol(r))return new ct($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new pe(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new nl(t,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class BI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qI{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Zv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Zv(){return new Zr((r=>UE(r)),mh)}async function yT(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new BI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function _T(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HI(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function GI(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var mm,Jv;(Jv=mm||(mm={})).Ma="default",Jv.Cache="cache";class vT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class ET{constructor(t){this.key=t}}class TT{constructor(t){this.key=t}}class FI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=LE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,b)=>{const O=o.get(S),F=ph(this.query,b)?b:null,W=!!O&&this.mutatedKeys.has(O.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;O&&F?O.data.isEqual(F.data)?W!==it&&(a.track({type:3,doc:F}),J=!0):this.su(O,F)||(a.track({type:2,doc:F}),J=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!O&&F?(a.track({type:0,doc:F}),J=!0):O&&!F&&(a.track({type:1,doc:O}),J=!0,(v||y)&&(g=!0)),J&&(F?(d=d.add(F),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(F,W){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return it(F)-it(W)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new TT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ET(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class QI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class YI{constructor(t){this.key=t,this.hu=!1}}class KI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((g=>UE(g)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(pt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(r,t,i=!0){const a=IT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ST(a,t,i,!0),o}async function $I(r,t){const i=IT(r);await ST(i,t,!0,!1)}async function ST(r,t,i,a){const o=await gI(r.localStore,Mi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ZI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&hT(r.remoteStore,o),g}async function ZI(r,t,i,a,o){r.pu=(b,O,F)=>(async function(it,J,mt,Et){let yt=J.view.ru(mt);yt.Cs&&(yt=await Gv(it.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,yt))));const Qt=Et&&Et.targetChanges.get(J.targetId),re=Et&&Et.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(yt,it.isPrimaryClient,Qt,re);return t0(it,J.targetId,zt.au),zt.snapshot})(r,b,O,F);const c=await Gv(r.localStore,t,!0),d=new FI(t,c.Qs),g=d.ru(c.documents),v=Ho.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);t0(r,i,y.au);const S=new QI(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function JI(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(ll)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function WI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function tC(r,t,i){const a=lC(r);try{const o=await(function(d,g){const v=At(d),y=he.now(),S=g.reduce(((F,W)=>F.add(W.key)),Pt());let b,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=cs(),it=Pt();return v.Ns.getEntries(F,S).next((J=>{W=J,W.forEach(((mt,Et)=>{Et.isValidDocument()||(it=it.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,W))).next((J=>{b=J;const mt=[];for(const Et of g){const yt=pR(Et,b.get(Et.key).overlayedDocument);yt!=null&&mt.push(new fr(Et.key,yt,NE(yt.value.mapValue),oi.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,mt,g)})).next((J=>{O=J;const mt=J.applyToLocalDocumentSet(b,it);return v.documentOverlayCache.saveOverlays(F,J.batchId,mt)}))})).then((()=>({batchId:O.batchId,changes:zE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new pe(Lt)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Fo(a,o.changes),await Th(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function bT(r,t){const i=At(r);try{const a=await dI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await Fo(i,a,t)}catch(a){await ll(a)}}function Wv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=At(d);v.onlineState=g;let y=!1;v.queries.forEach(((S,b)=>{for(const O of b.Sa)O.va(g)&&(y=!0)})),y&&Wm(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new pe(pt.comparator);d=d.insert(c,rn.newNoDocument(c,St.min()));const g=Pt().add(c),v=new _h(St.min(),new Map,new pe(Lt),d,g);await bT(a,v),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await fm(a.localStore,t,!1).then((()=>pm(a,t,i))).catch(ll)}async function nC(r,t){const i=At(r),a=t.batch.batchId;try{const o=await fI(i.localStore,t);wT(i,a,null),AT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fo(i,o)}catch(o){await ll(o)}}async function iC(r,t,i){const a=At(r);try{const o=await(function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((b=>($t(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);wT(a,t,i),AT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fo(a,o)}catch(o){await ll(o)}}function AT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function wT(r,t,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function pm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||RT(r,a)}))}function RT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ep(r))}function t0(r,t,i){for(const a of i)a instanceof ET?(r.Ru.addReference(a.key,t),sC(r,a)):a instanceof TT?(at(tp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||RT(r,a.key)):_t(19791,{wu:a})}function sC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(tp,"New document in limbo: "+i),r.Eu.add(a),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(me.fromString(t)),a=r.fu.next();r.Au.set(a,new YI(i)),r.du=r.du.insert(i,a),hT(r.remoteStore,new Zs(Mi(dh(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Fm.As(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const S=At(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(O=>X.forEach(O.Es,(F=>S.persistence.referenceDelegate.addReference(b,O.targetId,F))).next((()=>X.forEach(O.ds,(F=>S.persistence.referenceDelegate.removeReference(b,O.targetId,F)))))))))}catch(b){if(!ol(b))throw b;at(Qm,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const F=S.Ms.get(O),W=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(O,it)}}})(a.localStore,c))}async function rC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(tp,"User change. New user:",t.toKey());const a=await lT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fo(i,a.Ls)}}function aC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let o=Pt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function IT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eC.bind(null,t),t.Pu.H_=HI.bind(null,t.eventManager),t.Pu.yu=GI.bind(null,t.eventManager),t}function lC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hI(this.persistence,new oI,t.initialUser,this.serializer)}Cu(t){return new aT(Gm.mi,this.serializer)}Du(t){return new _I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class oC extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new YR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new aT((a=>th.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rC.bind(null,this.syncEngine),await jI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qI})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=(function(c){return new bI(c)})(t.databaseInfo);return(function(c,d,g,v){return new II(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new NI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new vI})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,S){const b=new KI(o,c,d,g,v,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Xr,"RemoteStore shutting down."),a.Ea.add(5),await Go(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class CT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class uC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await lT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await cC(r);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Xv(t.remoteStore,o))),r._onlineComponents=t}async function cC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new nh)}}else at(cr,"Using default OfflineComponentProvider"),await Gd(r,new oC(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await e0(r,new gm))),r._onlineComponents}function hC(r){return NT(r).then((t=>t.syncEngine))}async function ym(r){const t=await NT(r),i=t.eventManager;return i.onListen=XI.bind(null,t.syncEngine),i.onUnlisten=JI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$I.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WI.bind(null,t.syncEngine),i}function fC(r,t,i={}){const a=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const S=new CT({next:O=>{S.Nu(),d.enqueueAndForget((()=>_T(c,b)));const F=O.docs.has(g);!F&&O.fromCache?y.reject(new ct($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&v&&v.source==="server"?y.reject(new ct($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new vT(dh(g.path),S,{includeMetadataChanges:!0,qa:!0});return yT(c,b)})(await ym(r),r.asyncQueue,t,i,a))),a.promise}function xT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const DT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FR)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class np{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new y2;switch(a.type){case"firstParty":return new T2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(at("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function dC(r,t,i,a={}){r=li(r,np);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(w0(`https://${g}`),R0("Firestore",!0)),c.host!==DT&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Fr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=sn.MOCK_USER;else{y=BS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new sn(b)}r._authCredentials=new _2(new _E(y,S))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bo(i,Ue._jsonSchema))return new Ue(t,a||null,new pt(me.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:ke("string",Ue._jsonSchemaVersion),referencePath:ke("string")};class ko extends Sh{constructor(t,i,a){super(t,i,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new pt(t))}withConverter(t){return new ko(this.firestore,t,this._path)}}function Ic(r,t,...i){if(r=ln(r),arguments.length===1&&(t=Dm.newId()),I2("doc","path",t),r instanceof np){const a=me.fromString(t,...i);return _v(a),new Ue(r,null,new pt(a))}{if(!(r instanceof Ue||r instanceof ko))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return _v(a),new Ue(r.firestore,r instanceof ko?r.converter:null,new pt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;at(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class $r extends np{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new a0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function mC(r,t){const i=typeof r=="object"?r:x0(),a=typeof r=="string"?r:Kc,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zS("firestore");c&&dC(o,...c)}return o}function ip(r){if(r._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pC(r),r._firestoreClient}function pC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new z2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,xT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new uC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bo(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:ke("string",Fn._jsonSchemaVersion),bytes:ke("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ah{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Bo(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:ke("string",ki._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bo(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:ke("string",Ui._jsonSchemaVersion),vectorValues:ke("object")};const gC=/^__.*__$/;class yC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new qo(t,this.data,i,this.fieldTransforms)}}class OT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function MT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class sp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(MT(this.Ac)&&gC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _C{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}Cc(t,i,a,o=!1){return new sp({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VT(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new _C(r._databaseId,!!t.ignoreUndefinedProperties,i)}function vC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);ap("Data must be an object, but it was:",d,a);const g=kT(a,d);let v,y;if(c.merge)v=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const O=_m(t,b,i);if(!d.contains(O))throw new ct($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);LT(S,O)||S.push(O)}v=new Dn(S),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new yC(new Tn(g),v,y)}class wh extends Ah{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}class rp extends Ah{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Vo(t.serializer,qE(t.serializer,this.Fc));return new hR(t.path,i)}isEqual(t){return t instanceof rp&&this.Fc===t.Fc}}function EC(r,t,i,a){const o=r.Cc(1,t,i);ap("Data must be an object, but it was:",o,a);const c=[],d=Tn.empty();hr(a,((v,y)=>{const S=lp(t,v,i);y=ln(y);const b=o.yc(S);if(y instanceof wh)c.push(S);else{const O=Rh(y,b);O!=null&&(c.push(S),d.set(S,O))}}));const g=new Dn(c);return new OT(d,g,o.fieldTransforms)}function TC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[_m(t,a,i)],v=[o];if(c.length%2!=0)throw new ct($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(_m(t,c[O])),v.push(c[O+1]);const y=[],S=Tn.empty();for(let O=g.length-1;O>=0;--O)if(!LT(y,g[O])){const F=g[O];let W=v[O];W=ln(W);const it=d.yc(F);if(W instanceof wh)y.push(F);else{const J=Rh(W,it);J!=null&&(y.push(F),S.set(F,J))}}const b=new Dn(y);return new OT(S,b,d.fieldTransforms)}function Rh(r,t){if(UT(r=ln(r)))return ap("Unsupported field value:",t,r),kT(r,t);if(r instanceof Ah)return(function(a,o){if(!MT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=Rh(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return qE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:Wc(o.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:JE(o.serializer,a._byteString)};if(a instanceof Ue){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,g){return{mapValue:{fields:{[IE]:{stringValue:CE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Pm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Om(a)}`)})(r,t)}function kT(r,t){const i={};return TE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(r,((a,o)=>{const c=Rh(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ki||r instanceof Fn||r instanceof Ue||r instanceof Ah||r instanceof Ui)}function ap(r,t,i){if(!UT(i)||!vE(i)){const a=Om(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function _m(r,t,i){if((t=ln(t))instanceof bh)return t._internalPath;if(typeof t=="string")return lp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const SC=new RegExp("[~\\*/\\[\\]]");function lp(r,t,i){if(t.search(SC)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ct($.INVALID_ARGUMENT,g+r+v)}function LT(r,t){return r.some((i=>i.isEqual(t)))}class PT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bC extends PT{data(){return super.data()}}function zT(r,t){return typeof t=="string"?lp(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function AC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wC{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new ki(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=ar(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=me.fromString(t);$t(sT(a),9688,{name:t});const o=new xo(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return o.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function RC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends PT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(zT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:ke("string",Gr._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Pc extends Gr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:IC(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function u0(r){r=li(r,Ue);const t=li(r.firestore,$r);return fC(ip(t),r._key).then((i=>BT(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:ke("string",Xa._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class jT extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function CC(r,t,i){r=li(r,Ue);const a=li(r.firestore,$r),o=RC(r.converter,t);return op(a,[vC(VT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,oi.none())])}function Fd(r,t,i,...a){r=li(r,Ue);const o=li(r.firestore,$r),c=VT(o);let d;return d=typeof(t=ln(t))=="string"||t instanceof bh?TC(c,"updateDoc",r._key,t,i,a):EC(c,"updateDoc",r._key,t),op(o,[d.toMutation(r._key,oi.exists(!0))])}function NC(r){return op(li(r.firestore,$r),[new zm(r._key,oi.none())])}function xC(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof Ue)d=li(r.firestore,$r),g=dh(r._key.path),c={next:v=>{t[a]&&t[a](BT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=li(r,Sh);d=li(v.firestore,$r),g=v._query;const y=new jT(d);c={next:S=>{t[a]&&t[a](new Xa(d,y,v,S))},error:t[a+1],complete:t[a+2]},AC(r._query)}return(function(y,S,b,O){const F=new CT(O),W=new vT(S,F,b);return y.asyncQueue.enqueueAndForget((async()=>yT(await ym(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>_T(await ym(y),W)))}})(ip(d),g,o,c)}function op(r,t){return(function(a,o){const c=new ir;return a.asyncQueue.enqueueAndForget((async()=>tC(await hC(a),o,c))),c.promise})(ip(r),t)}function BT(r,t,i){const a=i.docs.get(t._key),o=new jT(r);return new Gr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}function DC(r){return new rp("increment",r)}(function(t,i=!0){(function(o){al=o})(sl),$a(new Qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new $r(new v2(a.getProvider("auth-internal")),new S2(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),tr(mv,pv,t),tr(mv,pv,"esm2020")})();const OC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),c0=r=>{const t=MC(r);return t.charAt(0).toUpperCase()+t.slice(1)},qT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),VC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var kC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UC=Xt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Xt.createElement("svg",{ref:v,...kC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:qT("lucide",o),...!c&&!VC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>Xt.createElement(y,S)),...Array.isArray(c)?c:[c]]));const hn=(r,t)=>{const i=Xt.forwardRef(({className:a,...o},c)=>Xt.createElement(UC,{ref:c,iconNode:t,className:qT(`lucide-${OC(c0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=c0(r),i};const LC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PC=hn("arrow-right",LC);const zC=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],jC=hn("bomb",zC);const BC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qC=hn("circle-check-big",BC);const HC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],h0=hn("gift",HC);const GC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],f0=hn("hash",GC);const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QC=hn("info",FC);const YC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KC=hn("log-in",YC);const XC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],d0=hn("log-out",XC);const $C=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZC=hn("pen-line",$C);const JC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WC=hn("rotate-ccw",JC);const tN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],eN=hn("share-2",tN);const nN=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],m0=hn("shuffle",nN);const iN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],p0=hn("star",iN);const sN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rN=hn("triangle-alert",sN);const aN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lN=hn("users",aN),HT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Ih=HT.apiKey!=="_apiKey",GT=Ih?N0(HT):null,Cc=Ih?p2(GT):null,mo=Ih?mC(GT):null,Qd=r=>[...r].sort((t,i)=>t>i?1:-1),g0=[" +1 ()"," -1 ()"," +2 ()","",""," 1 ","",""," 3 "," -2 ()"," +3 ()",""],po=["","++","","","","","",""," 20 ","/"],y0=({message:r,onClose:t})=>(Xt.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),V.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%] pointer-events-none",children:V.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl border border-slate-600 flex items-center gap-2",children:[V.jsx(QC,{size:18,className:"text-blue-400 shrink-0"}),V.jsx("span",{className:"font-bold text-sm md:text-base",children:r})]})})),_0=Xt.memo(()=>{const r=Xt.useRef(null);return Xt.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.15)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.y>t.height&&(g.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),V.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Qs=({children:r,className:t=""})=>V.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),si=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},v={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return V.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${v[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},oN=({onFinish:r})=>{const[t,i]=Xt.useState(10);return Xt.useEffect(()=>{if(t<=0){r();return}const a=setTimeout(()=>i(o=>o-1),1e3);return()=>clearTimeout(a)},[t,r]),V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:V.jsxs("div",{className:"text-center animate-pulse",children:[V.jsx("div",{className:"text-yellow-400 text-4xl mb-4 font-bold",children:""}),V.jsx("div",{className:"text-[15rem] font-black text-white leading-none",children:t})]})})},uN=()=>{const[r,t]=Xt.useState(null),[i,a]=Xt.useState(""),[o,c]=Xt.useState(""),[d,g]=Xt.useState(null),[v,y]=Xt.useState(!1),[S,b]=Xt.useState(!0),[O,F]=Xt.useState(null),[W,it]=Xt.useState(""),[J,mt]=Xt.useState(""),[Et,yt]=Xt.useState(""),[Qt,re]=Xt.useState({}),[zt,C]=Xt.useState(" ..."),[A,R]=Xt.useState(!1),M=Xt.useRef(!1),N=d?.participantNumbers?.[r?.uid],k=Z=>{F(Z)};if(Xt.useMemo(()=>{const Z=d?.punishments?Object.values(d.punishments):[],st=Z.length===0?[...po]:Z;return Qd(st)},[d?.punishments]),!Ih)return V.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:V.jsxs("div",{className:"max-w-md",children:[V.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),V.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});Xt.useEffect(()=>{const Z=async()=>{try{await ZA(Cc)}catch(st){console.error(":",st)}};if(Cc){Z();const st=iw(Cc,Mt=>{t(Mt),b(!1)});return()=>st()}else b(!1)},[]),Xt.useEffect(()=>{if(r&&!v){const Z=localStorage.getItem("xmas_last_room_id");Z&&a(Z)}},[r]),Xt.useEffect(()=>{if(!r||!i||!mo)return;const Z=Ic(mo,"xmas_rooms",`room_${i}`),st=xC(Z,Mt=>{if(Mt.exists()){const lt=Mt.data();if(g(lt),lt.participants&&lt.participants[r.uid]){if(y(!0),c(lt.participants[r.uid]),lt.phase==="gift-entry"){const ht=lt.gifts?lt.gifts[r.uid]:"";ht&&yt(ht)}if(lt.phase==="rule-entry"){const ht=lt.rules.find(te=>te.uid===r.uid);ht&&ht.text&&it(ht.text)}if(lt.phase==="punishment-entry"){const ht=lt.punishments?lt.punishments[r.uid]:"";ht&&mt(ht)}}if(lt.isSpinning&&!M.current){M.current=!0,R(!1);const ht=setInterval(()=>{let Ae=lt.punishments?Object.values(lt.punishments):po;Ae=Qd(Ae),C(Ae[Math.floor(Math.random()*Ae.length)])},80),te=setTimeout(()=>{clearInterval(ht)},1e4);return window.spinInterval=ht,()=>{clearInterval(ht),clearTimeout(te)}}if(lt.finalPunishment&&!lt.isSpinning?(window.spinInterval&&clearInterval(window.spinInterval),R(!0),M.current=!1):lt.isSpinning===!1&&!lt.finalPunishment&&(R(!1),M.current=!1),lt.hostId===r.uid){const ht=Object.keys(lt.participants).length;lt.phase==="gift-entry"&&ht>1&&Object.keys(lt.gifts||{}).length===ht&&Nt("rule-entry",lt),lt.phase==="rule-entry"&&ht>1&&lt.rules.filter(Ae=>Ae.text&&Ae.text.trim()!=="").length===ht&&Nt("punishment-entry",lt),lt.phase==="punishment-entry"&&ht>1&&Object.keys(lt.punishments||{}).length===ht&&Nt("game-playing",lt),lt.phase==="voting"&&ht>1&&Object.keys(lt.votingStatus||{}).length===ht&&Nt("countdown",lt)}}else g(null)});return()=>st()},[r,i]);const w=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await sw(Cc),window.location.reload())},ae=async()=>{if(!confirm(""))return;const Z=Ic(mo,"xmas_rooms",`room_${i}`),st=await u0(Z);if(!st.exists()){localStorage.removeItem("xmas_last_room_id"),window.location.reload();return}const lt={...st.data().participants};delete lt[r.uid],Object.keys(lt).length===0?(await NC(Z),k(" ")):await Fd(Z,{participants:lt}),localStorage.removeItem("xmas_last_room_id"),window.location.reload()},_e=async()=>{const Z=i.toString().trim(),st=o.trim();if(!Z||!st){k("");return}a(Z),c(st);const Mt=Ic(mo,"xmas_rooms",`room_${Z}`);try{const lt=await u0(Mt);if(!lt.exists())await CC(Mt,{hostId:r.uid,phase:"entry",participants:{[r.uid]:st},participantNumbers:{},gifts:{},rules:[],punishments:{},currentRuleIndex:0,votingStatus:{},ratings:{},finalResults:null,finalPunishment:null,isSpinning:!1,createdAt:new Date().toISOString()});else{const ht=lt.data();if(ht.phase!=="entry"&&!ht.participants[r.uid]){k("");return}await Fd(Mt,{[`participants.${r.uid}`]:st})}localStorage.setItem("xmas_last_room_id",Z),y(!0)}catch{k("")}},H=()=>{const Z=` 
${window.location.href}
${i}`,st=document.createElement("textarea");st.value=Z,st.style.position="fixed",st.style.left="-9999px",document.body.appendChild(st),st.focus(),st.select();try{document.execCommand("copy"),k(" ")}catch{k("")}document.body.removeChild(st)},tt=async Z=>{if(!i)return;const st=Ic(mo,"xmas_rooms",`room_${i}`);await Fd(st,Z)},ft=()=>{const Z=g0[Math.floor(Math.random()*g0.length)];it(Z)},jt=()=>{const Z=po[Math.floor(Math.random()*po.length)];mt(Z)},Nt=async(Z,st=d)=>{if(!st)return;let Mt={phase:Z};if(Z==="gift-entry"&&st.phase==="entry"){const lt=Object.keys(st.participants),ht=lt.length,te=Array.from({length:ht},(tn,fn)=>fn+1);for(let tn=te.length-1;tn>0;tn--){const fn=Math.floor(Math.random()*(tn+1));[te[tn],te[fn]]=[te[fn],te[tn]]}const Ae={};lt.forEach((tn,fn)=>{Ae[tn]=te[fn]}),Mt.participantNumbers=Ae}if(Z==="rule-entry"){const ht=Object.keys(st.participants).map(te=>({uid:te,authorName:st.participants[te],text:""}));Mt.rules=ht}if(Z==="game-playing"){const lt=[...st.rules];for(let ht=lt.length-1;ht>0;ht--){const te=Math.floor(Math.random()*(ht+1));[lt[ht],lt[te]]=[lt[te],lt[ht]]}Mt.rules=lt,Mt.currentRuleIndex=0}if(Z==="result-entry"&&(Mt.resultMapping={}),Z==="voting"){const lt={};Object.keys(st.participants).forEach(ht=>{lt[ht]={giftName:"",ratings:{}}}),Mt.matchDetails=lt}if(Z==="result"){const lt=Object.keys(st.participants).map(ht=>{const te=st.ratings?st.ratings[ht]:{},Ae=Object.values(te||{}).reduce((tn,fn)=>tn+fn,0);return{uid:ht,name:st.participants[ht],giftName:st.gifts?st.gifts[ht]:"",totalScore:Ae}});Mt.finalResults=lt}await tt(Mt)},D=async()=>{Et.trim()&&(await tt({[`gifts.${r.uid}`]:Et}),k("..."))},Y=async()=>{if(!W.trim())return;const Z=d.rules.findIndex(Mt=>Mt.uid===r.uid);if(Z===-1)return;const st=[...d.rules];st[Z].text=W,await tt({rules:st}),k("...")},nt=async()=>{J.trim()&&(await tt({[`punishments.${r.uid}`]:J}),k("..."))},rt=async()=>{d.currentRuleIndex<d.rules.length-1?await tt({currentRuleIndex:DC(1)}):Nt("voting")},vt=(Z,st)=>{re(Mt=>({...Mt,[Z]:st}))},wt=async()=>{const Z={[`votingStatus.${r.uid}`]:!0};Object.keys(d.participants).forEach(st=>{if(st===r.uid)return;const Mt=Qt[st]||1;Z[`ratings.${st}.${r.uid}`]=Mt}),await tt(Z),k("...")},Ot=async()=>{try{await tt({isSpinning:!0,finalPunishment:null}),setTimeout(async()=>{let Z=Object.values(d.punishments||{});Z.length===0&&(Z=po),Z=Qd(Z);const st=Z[Math.floor(Math.random()*Z.length)];await tt({finalPunishment:st,isSpinning:!1})},3500)}catch{k(""),await tt({isSpinning:!1})}};if(S)return V.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!v)return V.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[V.jsx(_0,{}),O&&V.jsx(y0,{message:O,onClose:()=>F(null)}),V.jsxs(Qs,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[V.jsx("div",{className:"flex justify-center mb-6",children:V.jsx("div",{className:"p-5 bg-purple-500/20 rounded-full",children:V.jsx(h0,{size:64,className:"text-purple-300"})})}),V.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),V.jsx("p",{className:"text-slate-400 mb-10 text-base uppercase tracking-widest",children:"Party Online"}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"text-left",children:[V.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),V.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:Z=>c(Z.target.value)})]}),V.jsxs("div",{className:"text-left",children:[V.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),V.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:Z=>a(Z.target.value)})]}),V.jsxs(si,{onClick:_e,size:"lg",className:"w-full mt-6 shadow-purple-900/50 text-xl py-5",children:[V.jsx(KC,{size:24})," "]}),V.jsx("div",{className:"pt-8 border-t border-white/5",children:V.jsxs("button",{onClick:w,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[V.jsx(WC,{size:14}),"  ()"]})})]})]})]});if(!d)return V.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const oe=r.uid===d.hostId,Ht=Object.entries(d.participants).sort((Z,st)=>Z[0].localeCompare(st[0]));return V.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20 overflow-hidden",children:[V.jsx(_0,{}),O&&V.jsx(y0,{message:O,onClose:()=>F(null)}),d.phase==="countdown"&&V.jsx(oN,{onFinish:()=>oe&&Nt("result")}),V.jsx("div",{className:"bg-slate-900/95 backdrop-blur-xl border-b border-white/5 sticky top-0 z-50 shadow-lg px-4 py-2",children:V.jsxs("div",{className:"flex justify-between items-center gap-3",children:[V.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V.jsxs("div",{className:"bg-purple-600 px-2 py-0.5 rounded text-xs font-bold shadow shrink-0",children:["Room ",i]}),V.jsxs("div",{className:"flex flex-col min-w-0",children:[V.jsx("span",{className:"font-bold truncate max-w-[100px] text-slate-200 text-sm leading-none mb-0.5",children:o}),N&&V.jsxs("span",{className:"text-[10px] text-yellow-400 font-bold flex items-center gap-0.5",children:[V.jsx(f0,{size:8})," : ",N]})]})]}),V.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-1 bg-slate-800 px-2 py-1 rounded-full shrink-0",children:[V.jsx(lN,{size:12})," ",Ht.length]}),V.jsx("button",{onClick:ae,className:"shrink-0 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500/50 p-1.5 rounded-lg transition-colors",title:"",children:V.jsx(d0,{size:16})})]})}),V.jsxs("main",{className:`relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 ${d.phase==="punishment-reveal"?"h-screen p-0 m-0 max-w-none":"mt-4"}`,children:[d.phase==="entry"&&V.jsx("div",{className:"animate-fade-in space-y-8",children:V.jsxs(Qs,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[V.jsx("h2",{className:"text-3xl font-bold mb-3",children:""}),V.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"..."}),V.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:Ht.map(([Z,st])=>V.jsx("span",{className:"bg-slate-800 text-slate-200 px-5 py-3 rounded-2xl text-lg font-bold border border-slate-700",children:st},Z))}),V.jsx("div",{className:"mb-8",children:V.jsxs(si,{onClick:H,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40 py-4",children:[V.jsx(eN,{size:22})," "]})}),oe?V.jsxs(si,{onClick:()=>Nt("gift-entry"),size:"lg",className:"w-full shadow-emerald-900/50 text-2xl py-6",disabled:Ht.length<2,children:[" ",V.jsx(PC,{})]}):V.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})}),d.phase==="gift-entry"&&V.jsxs("div",{className:"animate-fade-in space-y-8",children:[N&&V.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 p-6 rounded-2xl text-center shadow-lg animate-fade-in-up",children:[V.jsx("p",{className:"text-yellow-200 text-sm mb-1 uppercase tracking-widest",children:"Your Number"}),V.jsxs("div",{className:"text-5xl font-black text-yellow-400 flex items-center justify-center gap-2",children:[V.jsx(f0,{size:40})," ",N]}),V.jsx("p",{className:"text-xs text-yellow-200/70 mt-2",children:""})]}),V.jsxs(Qs,{children:[V.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[V.jsx(h0,{className:"text-pink-400",size:28})," "]}),V.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),V.jsx("div",{className:"mb-6",children:V.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-pink-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[120px]",placeholder:"...",value:Et,onChange:Z=>yt(Z.target.value),disabled:d.gifts&&d.gifts[r.uid]})}),V.jsx(si,{onClick:D,className:"w-full text-xl py-5",disabled:!Et,children:d.gifts&&d.gifts[r.uid]?"...":""})]}),V.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.gifts||{}).length," / ",Ht.length]})]}),d.phase==="rule-entry"&&V.jsxs("div",{className:"animate-fade-in space-y-8",children:[V.jsxs(Qs,{children:[V.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[V.jsx(ZC,{className:"text-purple-400",size:28})," "]}),V.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),V.jsx("div",{className:"mb-6",children:V.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-purple-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:" +1 ...",value:W,onChange:Z=>it(Z.target.value),disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!==""})}),V.jsx("div",{className:"flex justify-end mb-8",children:V.jsxs("button",{onClick:ft,disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!=="",className:"text-sm text-purple-300 flex items-center gap-2 hover:text-white transition-colors bg-purple-500/10 px-4 py-2 rounded-full border border-purple-500/20",children:[V.jsx(m0,{size:16})," "]})}),V.jsx(si,{onClick:Y,className:"w-full text-xl py-5",disabled:!W,children:d.rules.find(Z=>Z.uid===r.uid)?.text!==""?"...":""})]}),V.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(Z=>Z.text).length," / ",Ht.length]})]}),d.phase==="punishment-entry"&&V.jsxs("div",{className:"animate-fade-in space-y-8",children:[V.jsxs(Qs,{children:[V.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[V.jsx(jC,{className:"text-red-500",size:28})," "]}),V.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),V.jsx("div",{className:"mb-6",children:V.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-red-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:J,onChange:Z=>mt(Z.target.value),disabled:d.punishments&&d.punishments[r.uid]})}),V.jsx("div",{className:"flex justify-end mb-8",children:V.jsxs("button",{onClick:jt,disabled:d.punishments&&d.punishments[r.uid],className:"text-sm text-red-300 flex items-center gap-2 hover:text-white transition-colors bg-red-500/10 px-4 py-2 rounded-full border border-red-500/20",children:[V.jsx(m0,{size:16})," "]})}),V.jsx(si,{onClick:nt,className:"w-full text-xl py-5 bg-red-600 hover:bg-red-500 shadow-red-900/50 border-none",disabled:!J,children:d.punishments&&d.punishments[r.uid]?"...":""})]}),V.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.punishments||{}).length," / ",Ht.length]})]}),d.phase==="game-playing"&&V.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[V.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full",children:[V.jsxs("div",{className:"flex justify-between text-sm mb-3 px-3",children:[V.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),V.jsxs("span",{children:["Total ",d.rules.length]})]}),V.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),V.jsxs(Qs,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[V.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),V.jsx("div",{className:"mb-8",children:V.jsxs("span",{className:"bg-slate-800 text-slate-300 px-5 py-2 rounded-full text-sm font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),V.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),oe&&V.jsx("div",{className:"mt-10 w-full",children:V.jsx(si,{onClick:rt,size:"lg",className:"w-full text-2xl py-6",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="voting"&&V.jsx("div",{className:"animate-fade-in space-y-6 pb-24",children:d.votingStatus&&d.votingStatus[r.uid]?V.jsxs(Qs,{className:"text-center py-12 border-t-4 border-t-green-500",children:[V.jsx(qC,{size:64,className:"text-green-400 mx-auto mb-4"}),V.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),V.jsx("p",{className:"text-slate-400",children:"..."}),V.jsxs("div",{className:"mt-6 text-sm text-slate-500",children:["",Object.keys(d.votingStatus||{}).length," / ",Ht.length]})]}):V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[V.jsx(rN,{className:"text-yellow-500 shrink-0 mt-1",size:24}),V.jsxs("div",{children:[V.jsx("h2",{className:"text-lg font-bold text-yellow-500",children:""}),V.jsxs("p",{className:"text-sm text-yellow-200/70 mt-1",children:["",V.jsx("br",{})," =  (10=)"]})]})]}),Ht.map(([Z,st])=>{if(Z===r.uid)return null;const Mt=d.gifts?d.gifts[Z]:"",lt=Qt[Z]||1;return V.jsxs(Qs,{className:"p-5 border border-white/5 relative overflow-hidden mb-4",children:[V.jsxs("div",{className:"flex justify-between items-start mb-4",children:[V.jsxs("div",{children:[V.jsxs("div",{className:"text-sm text-slate-400 mb-1",children:[st," "]}),V.jsx("div",{className:"text-xl font-bold text-white",children:Mt})]}),V.jsx("div",{className:"text-4xl font-black text-yellow-400",children:lt})]}),V.jsx("input",{type:"range",min:"1",max:"10",value:lt,onChange:ht=>vt(Z,parseInt(ht.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),V.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mt-2 px-1 font-bold",children:[V.jsx("span",{children:"1 ()"}),V.jsx("span",{children:"5 ()"}),V.jsx("span",{children:"10 ()"})]})]},Z)}),V.jsx("div",{className:"h-20"})," ",V.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:V.jsx(si,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:wt,children:" "})})]})}),d.phase==="result"&&V.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[V.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 py-2 text-center text-sm font-bold border-y border-yellow-500/30 animate-pulse",children:" ..."}),V.jsxs("div",{className:"text-center mb-10",children:[V.jsxs("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[V.jsx(p0,{fill:"currentColor",size:40}),"  ",V.jsx(p0,{fill:"currentColor",size:40})]}),V.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),(d.finalResults||[]).sort((Z,st)=>st.totalScore-Z.totalScore).slice(0,3).map((Z,st)=>V.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${st===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[st===0&&V.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),V.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${st===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":st===1?"bg-slate-500":"bg-amber-700"}`,children:["#",st+1]}),V.jsxs("div",{className:"flex-1 min-w-0",children:[V.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:Z.name}),V.jsx("div",{className:"text-base text-slate-400 truncate",children:Z.giftName})]}),V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-4xl font-black text-red-500",children:Z.totalScore}),V.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},Z.uid)),oe&&V.jsx("div",{className:"mt-12 text-center",children:V.jsx(si,{variant:"danger",size:"lg",onClick:()=>Nt("punishment-reveal"),className:"w-full max-w-md mx-auto text-2xl py-6 shadow-2xl animate-bounce",children:"  "})})]}),d.phase==="punishment-reveal"&&V.jsxs("div",{className:"animate-fade-in flex flex-col h-[calc(100vh-80px)] w-full max-w-md mx-auto relative overflow-hidden justify-center",children:[(()=>{const Z=(d.finalResults||[]).sort((st,Mt)=>Mt.totalScore-st.totalScore)[0];return Z?V.jsxs("div",{className:"shrink-0 text-center py-6 relative z-20",children:[V.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-[0.2em] mb-1",children:"The Loser is"}),V.jsxs("div",{className:"flex flex-col items-center gap-2",children:[V.jsx("h2",{className:"text-5xl font-black text-red-500 drop-shadow-[0_0_20px_rgba(239,68,68,0.8)] leading-none animate-pulse",children:Z.name}),V.jsxs("span",{className:"text-sm font-bold text-white bg-red-600 px-4 py-1 rounded-full shadow-lg",children:[Z.totalScore," "]})]})]}):null})(),V.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:V.jsxs("div",{className:"w-full bg-black/60 border-4 border-yellow-500/50 rounded-2xl p-8 relative overflow-hidden shadow-[0_0_30px_rgba(234,179,8,0.3)]",children:[V.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent animate-scan"}),V.jsx("p",{className:"text-center text-slate-400 text-xs uppercase mb-4 tracking-widest",children:"Punishment Protocol"}),V.jsx("div",{className:`text-center font-black text-3xl md:text-4xl leading-tight transition-all duration-100 ${d.isSpinning?"text-slate-300 blur-[0.5px]":"text-yellow-400 scale-110 drop-shadow-lg"}`,children:d.isSpinning?zt:d.finalPunishment||"..."})]})}),V.jsx("div",{className:"shrink-0 p-6 w-full relative z-30 pb-safe",children:V.jsxs("div",{className:"space-y-3",children:[oe&&!d.finalPunishment&&V.jsx(si,{variant:"neutral",size:"lg",onClick:Ot,className:"w-full text-xl py-4 shadow-lg shadow-blue-900/20",disabled:d.isSpinning,children:d.isSpinning?" ...":" "}),!oe&&!d.finalPunishment&&V.jsx("div",{className:"text-center text-slate-500 py-2 text-sm animate-pulse",children:"..."}),d.finalPunishment&&!d.isSpinning&&V.jsxs(si,{variant:"secondary",onClick:ae,className:"w-full bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white py-4 animate-fade-in",children:[V.jsx(d0,{size:20})," "]})]})})]})]}),V.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scan { 0% { left: -100%; } 100% { left: 100%; } }
        .animate-scan { animation: scan 2s linear infinite; }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .animate-fade-in-up { animation: fade-in-up 0.4s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .mask-gradient { mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
      `})]})};xS.createRoot(document.getElementById("root")).render(V.jsx(Xt.StrictMode,{children:V.jsx(uN,{})}));
