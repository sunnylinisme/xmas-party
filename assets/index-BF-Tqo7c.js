(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Rd={exports:{}},ho={};var N_;function mA(){if(N_)return ho;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var D_;function pA(){return D_||(D_=1,Rd.exports=mA()),Rd.exports}var z=pA(),Id={exports:{}},Tt={};var x_;function gA(){if(x_)return Tt;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Q(w){return w===null||typeof w!="object"?null:(w=O&&w[O]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,tt={};function dt(w,H,et){this.props=w,this.context=H,this.refs=tt,this.updater=et||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},dt.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function mt(){}mt.prototype=dt.prototype;function gt(w,H,et){this.props=w,this.context=H,this.refs=tt,this.updater=et||W}var qt=gt.prototype=new mt;qt.constructor=gt,st(qt,dt.prototype),qt.isPureReactComponent=!0;var Zt=Array.isArray;function Vt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(w,H,et){var rt=et.ref;return{$$typeof:r,type:w,key:H,ref:rt!==void 0?rt:null,props:et}}function M(w,H){return R(w.type,H,w.props)}function x(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function k(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(et){return H[et]})}var I=/\/+/g;function Wt(w,H){return typeof w=="object"&&w!==null&&w.key!=null?k(""+w.key):H.toString(36)}function he(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Vt,Vt):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function F(w,H,et,rt,vt){var wt=typeof w;(wt==="undefined"||wt==="boolean")&&(w=null);var Ut=!1;if(w===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(w.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=w._init,F(Ut(w._payload),H,et,rt,vt)}}if(Ut)return vt=vt(w),Ut=rt===""?"."+Wt(w,0):rt,Zt(vt)?(et="",Ut!=null&&(et=Ut.replace(I,"$&/")+"/"),F(vt,H,et,"",function(sr){return sr})):vt!=null&&(x(vt)&&(vt=M(vt,et+(vt.key==null||w&&w.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Ut)),H.push(vt)),1;Ut=0;var Ne=rt===""?".":rt+":";if(Zt(w))for(var se=0;se<w.length;se++)rt=w[se],wt=Ne+Wt(rt,se),Ut+=F(rt,H,et,wt,vt);else if(se=Q(w),typeof se=="function")for(w=se.call(w),se=0;!(rt=w.next()).done;)rt=rt.value,wt=Ne+Wt(rt,se++),Ut+=F(rt,H,et,wt,vt);else if(wt==="object"){if(typeof w.then=="function")return F(he(w),H,et,rt,vt);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(w,H,et){if(w==null)return w;var rt=[],vt=0;return F(w,rt,"","",function(wt){return H.call(et,wt,vt++)}),rt}function G(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(et){(w._status===0||w._status===-1)&&(w._status=1,w._result=et)},function(et){(w._status===0||w._status===-1)&&(w._status=2,w._result=et)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ht={map:nt,forEach:function(w,H,et){nt(w,function(){H.apply(this,arguments)},et)},count:function(w){var H=0;return nt(w,function(){H++}),H},toArray:function(w){return nt(w,function(H){return H})||[]},only:function(w){if(!x(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Tt.Activity=S,Tt.Children=ht,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return N.H.useMemoCache(w)}},Tt.cache=function(w){return function(){return w.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(w,H,et){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var rt=st({},w.props),vt=w.key;if(H!=null)for(wt in H.key!==void 0&&(vt=""+H.key),H)!b.call(H,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&H.ref===void 0||(rt[wt]=H[wt]);var wt=arguments.length-2;if(wt===1)rt.children=et;else if(1<wt){for(var Ut=Array(wt),Ne=0;Ne<wt;Ne++)Ut[Ne]=arguments[Ne+2];rt.children=Ut}return R(w.type,vt,rt)},Tt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Tt.createElement=function(w,H,et){var rt,vt={},wt=null;if(H!=null)for(rt in H.key!==void 0&&(wt=""+H.key),H)b.call(H,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=H[rt]);var Ut=arguments.length-2;if(Ut===1)vt.children=et;else if(1<Ut){for(var Ne=Array(Ut),se=0;se<Ut;se++)Ne[se]=arguments[se+2];vt.children=Ne}if(w&&w.defaultProps)for(rt in Ut=w.defaultProps,Ut)vt[rt]===void 0&&(vt[rt]=Ut[rt]);return R(w,wt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(w){return{$$typeof:g,render:w}},Tt.isValidElement=x,Tt.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:G}},Tt.memo=function(w,H){return{$$typeof:y,type:w,compare:H===void 0?null:H}},Tt.startTransition=function(w){var H=N.T,et={};N.T=et;try{var rt=w(),vt=N.S;vt!==null&&vt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Vt,J)}catch(wt){J(wt)}finally{H!==null&&et.types!==null&&(H.types=et.types),N.T=H}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(w){return N.H.use(w)},Tt.useActionState=function(w,H,et){return N.H.useActionState(w,H,et)},Tt.useCallback=function(w,H){return N.H.useCallback(w,H)},Tt.useContext=function(w){return N.H.useContext(w)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(w,H){return N.H.useDeferredValue(w,H)},Tt.useEffect=function(w,H){return N.H.useEffect(w,H)},Tt.useEffectEvent=function(w){return N.H.useEffectEvent(w)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(w,H,et){return N.H.useImperativeHandle(w,H,et)},Tt.useInsertionEffect=function(w,H){return N.H.useInsertionEffect(w,H)},Tt.useLayoutEffect=function(w,H){return N.H.useLayoutEffect(w,H)},Tt.useMemo=function(w,H){return N.H.useMemo(w,H)},Tt.useOptimistic=function(w,H){return N.H.useOptimistic(w,H)},Tt.useReducer=function(w,H,et){return N.H.useReducer(w,H,et)},Tt.useRef=function(w){return N.H.useRef(w)},Tt.useState=function(w){return N.H.useState(w)},Tt.useSyncExternalStore=function(w,H,et){return N.H.useSyncExternalStore(w,H,et)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.1",Tt}var O_;function _m(){return O_||(O_=1,Id.exports=gA()),Id.exports}var ne=_m(),Cd={exports:{}},fo={},Nd={exports:{}},Dd={};var M_;function yA(){return M_||(M_=1,(function(r){function t(F,nt){var G=F.length;F.push(nt);t:for(;0<G;){var J=G-1>>>1,ht=F[J];if(0<o(ht,nt))F[J]=nt,F[G]=ht,G=J;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],G=F.pop();if(G!==nt){F[0]=G;t:for(var J=0,ht=F.length,w=ht>>>1;J<w;){var H=2*(J+1)-1,et=F[H],rt=H+1,vt=F[rt];if(0>o(et,G))rt<ht&&0>o(vt,et)?(F[J]=vt,F[rt]=G,J=rt):(F[J]=et,F[H]=G,J=H);else if(rt<ht&&0>o(vt,G))F[J]=vt,F[rt]=G,J=rt;else break t}}return nt}function o(F,nt){var G=F.sortIndex-nt.sortIndex;return G!==0?G:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,O=3,Q=!1,W=!1,st=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=F)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Zt(F){if(st=!1,qt(F),!W)if(i(_)!==null)W=!0,Vt||(Vt=!0,k());else{var nt=i(y);nt!==null&&he(Zt,nt.startTime-F)}}var Vt=!1,N=-1,b=5,R=-1;function M(){return tt?!0:!(r.unstable_now()-R<b)}function x(){if(tt=!1,Vt){var F=r.unstable_now();R=F;var nt=!0;try{t:{W=!1,st&&(st=!1,mt(N),N=-1),Q=!0;var G=O;try{e:{for(qt(F),S=i(_);S!==null&&!(S.expirationTime>F&&M());){var J=S.callback;if(typeof J=="function"){S.callback=null,O=S.priorityLevel;var ht=J(S.expirationTime<=F);if(F=r.unstable_now(),typeof ht=="function"){S.callback=ht,qt(F),nt=!0;break e}S===i(_)&&a(_),qt(F)}else a(_);S=i(_)}if(S!==null)nt=!0;else{var w=i(y);w!==null&&he(Zt,w.startTime-F),nt=!1}}break t}finally{S=null,O=G,Q=!1}nt=void 0}}finally{nt?k():Vt=!1}}}var k;if(typeof gt=="function")k=function(){gt(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Wt=I.port2;I.port1.onmessage=x,k=function(){Wt.postMessage(null)}}else k=function(){dt(x,0)};function he(F,nt){N=dt(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var G=O;O=nt;try{return F()}finally{O=G}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=O;O=F;try{return nt()}finally{O=G}},r.unstable_scheduleCallback=function(F,nt,G){var J=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,F){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=G+ht,F={id:A++,callback:nt,priorityLevel:F,startTime:G,expirationTime:ht,sortIndex:-1},G>J?(F.sortIndex=G,t(y,F),i(_)===null&&F===i(y)&&(st?(mt(N),N=-1):st=!0,he(Zt,G-J))):(F.sortIndex=ht,t(_,F),W||Q||(W=!0,Vt||(Vt=!0,k()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var nt=O;return function(){var G=O;O=nt;try{return F.apply(this,arguments)}finally{O=G}}}})(Dd)),Dd}var V_;function _A(){return V_||(V_=1,Nd.exports=yA()),Nd.exports}var xd={exports:{}},Ye={};var k_;function vA(){if(k_)return Ye;k_=1;var r=_m();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ye.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.1",Ye}var U_;function EA(){if(U_)return xd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=vA(),xd.exports}var L_;function TA(){if(L_)return fo;L_=1;var r=_A(),t=_m(),i=EA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case dt:return"Profiler";case tt:return"StrictMode";case Zt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case gt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},J=[],ht=-1;function w(e){return{current:e}}function H(e){0>ht||(e.current=J[ht],J[ht]=null,ht--)}function et(e,n){ht++,J[ht]=e.current,e.current=n}var rt=w(null),vt=w(null),wt=w(null),Ut=w(null);function Ne(e,n){switch(et(wt,n),et(vt,e),et(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(rt),et(rt,e)}function se(){H(rt),H(vt),H(wt)}function sr(e){e.memoizedState!==null&&et(Ut,e);var n=rt.current,s=Wy(n,e.type);n!==s&&(et(vt,e),et(rt,s))}function Yr(e){vt.current===e&&(H(rt),H(vt)),Ut.current===e&&(H(Ut),lo._currentValue=G)}var Kr,Xr;function Wn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Xr}var ll=!1;function rr(e,n){if(!e||ll)return"";ll=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var j=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){j=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){j=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),P=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ll=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function ol(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Wn("Activity");default:return""}}function ul(e){try{var n="",s=null;do n+=ol(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Ko=r.unstable_requestPaint,We=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Ch=r.unstable_LowPriority,Xo=r.unstable_IdlePriority,$o=r.log,Zo=r.unstable_setDisableYieldValue,Pn=null,Pe=null;function Sn(e){if(typeof $o=="function"&&Zo(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:Wo,Jo=Math.log,$r=Math.LN2;function Wo(e){return e>>>=0,e===0?32:31-(Jo(e)/$r|0)|0}var ti=256,lr=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ei(l):(p&=E,p!==0?h=ei(p):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=l&~f,E!==0?h=ei(E):p!==0?h=ei(p):s||(s=l&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var Y=31-fe(s),X=1<<Y;E[Y]=0,C[Y]=-1;var j=P[Y];if(j!==null)for(P[Y]=null,Y=0;Y<j.length;Y++){var q=j[Y];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&ur(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-fe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function jn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,si="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,xh="__reactListeners$"+Bn,nu="__reactHandles$"+Bn,iu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Jr(e){delete e[ve],delete e[Ve],delete e[Zr],delete e[xh],delete e[nu]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[ve])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var ml=new Set,pl={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function su(e){return ye.call(_l,e)?!0:ye.call(yl,e)?!1:gl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function Wr(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=os(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function sn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?El(e,p,ke(n)):s!=null?El(e,p,ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function ru(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function El(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function us(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function cs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Al(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Sl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,hi=null;function dr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&hr(l)}break t;case"textarea":au(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&us(e,!!s.multiple,n,!1)}}}var ia=!1;function ds(e,n,s){if(ia)return e(n,s);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(fs!==null||hi!==null)&&(ec(),fs&&(n=fs,e=hi,hi=fs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{mr=!1}var fi=null,bl=null,pr=null;function wl(){if(pr)return pr;var e,n=bl,s=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return pr=h.slice(e,1<l?1-l:void 0)}function gr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Gn(){return!1}function ze(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Oi),ms=S({},Oi,{view:0,detail:0}),Rl=ze(ms),ps,sa,mi,ra=S({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ps=e.screenX-mi.screenX,sa=e.screenY-mi.screenY):sa=ps=0,mi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Il=ze(ra),yr=S({},ra,{dataTransfer:0}),uu=ze(yr),cu=S({},ms,{relatedTarget:0}),_r=ze(cu),Cl=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ze(Cl),aa=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=ze(aa),du=S({},Oi,{data:0}),pi=ze(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function gs(){return yu}var tn=S({},ms,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=ze(tn),vu=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(vu),u=S({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(u),v=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),it=S({},Oi,{newState:0,oldState:0}),St=ze(it),de=[9,13,27,32],jt=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var In=Rn&&"TextEvent"in window&&!re,gi=Rn&&(!jt||re&&8<re&&11>=re),Fn=" ",Qn=!1;function vr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function PT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function zT(e,n){if(oa)return e==="compositionend"||!jt&&vr(e,n)?(e=wl(),pr=bl=fi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jT[e.type]:n==="textarea"}function cp(e,n,s,l){fs?hi?hi.push(l):hi=[l]:fs=l,n=oc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function BT(e){Qy(e,0)}function Eu(e){var n=dn(e);if(hr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(Rn){var Oh;if(Rn){var Mh="oninput"in document;if(!Mh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Mh=typeof dp.oninput=="function"}Oh=Mh}else Oh=!1;fp=Oh&&(!document.documentMode||9<document.documentMode)}function mp(){Nl&&(Nl.detachEvent("onpropertychange",pp),Dl=Nl=null)}function pp(e){if(e.propertyName==="value"&&Eu(Dl)){var n=[];cp(n,Dl,e,wn(e)),ds(BT,n)}}function qT(e,n,s){e==="focusin"?(mp(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Dl)}function GT(e,n){if(e==="click")return Eu(n)}function FT(e,n){if(e==="input"||e==="change")return Eu(n)}function QT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:QT;function xl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var YT=Rn&&"documentMode"in document&&11>=document.documentMode,ua=null,kh=null,Ol=null,Uh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||ua==null||ua!==ci(l)||(l=ua,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&xl(Ol,l)||(Ol=l,l=oc(kh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ua)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Lh={},Tp={};Rn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Tr(e){if(Lh[e])return Lh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Lh[e]=n[s];return e}var Ap=Tr("animationend"),Sp=Tr("animationiteration"),bp=Tr("animationstart"),KT=Tr("transitionrun"),XT=Tr("transitionstart"),$T=Tr("transitioncancel"),wp=Tr("transitionend"),Rp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Yn(e,n){Rp.set(e,n),oi(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ha=0,zh=0;function Au(){for(var e=ha,n=zh=ha=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function Su(e,n,s,l){Cn[ha++]=e,Cn[ha++]=n,Cn[ha++]=s,Cn[ha++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,s,l){return Su(e,n,s,l),bu(e)}function Ar(e,n){return Su(e,null,null,n),bu(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<to)throw to=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function ZT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new ZT(e,n,s,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=nA(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,s,n,h),e.elementType=R,e.lanes=f,e;case st:return Sr(s.children,h,f,n);case tt:p=8,h|=24;break;case dt:return e=gn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Zt:return e=gn(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case Vt:return e=gn(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case mt:p=9;break t;case qt:p=11;break t;case N:p=14;break t;case b:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Sr(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function qh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Np(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Dp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ul(n)},Dp.set(e,n),n)}return{value:e,source:n,stack:ul(n)}}var da=[],ma=0,Ru=null,Ml=0,Dn=[],xn=0,ys=null,yi=1,_i="";function ki(e,n){da[ma++]=Ml,da[ma++]=Ru,Ru=e,Ml=n}function xp(e,n,s){Dn[xn++]=yi,Dn[xn++]=_i,Dn[xn++]=ys,ys=e;var l=yi;e=_i;var h=32-fe(l)-1;l&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,yi=1<<32-fe(n)+h|s<<h|l,_i=f+e}else yi=1<<f|s<<h|l,_i=e}function Gh(e){e.return!==null&&(ki(e,1),xp(e,1,0))}function Fh(e){for(;e===Ru;)Ru=da[--ma],da[ma]=null,Ml=da[--ma],da[ma]=null;for(;e===ys;)ys=Dn[--xn],Dn[xn]=null,_i=Dn[--xn],Dn[xn]=null,yi=Dn[--xn],Dn[xn]=null}function Op(e,n){Dn[xn++]=yi,Dn[xn++]=_i,Dn[xn++]=ys,yi=n.id,_i=n.overflow,ys=e}var je=null,te=null,kt=!1,_s=null,On=!1,Qh=Error(a(519));function vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Nn(n,e)),Qh}function Mp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ve]=e,n[Ve]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Ct(no[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),cs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||vs(e,!0)}function Vp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function pa(e){if(e!==je)return!1;if(!kt)return Vp(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&te&&vs(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=r_(e)}else n===27?(n=te,Ms(e.type)?(e=gd,gd=null,te=e):te=n):te=je?Vn(e.stateNode.nextSibling):null;return!0}function br(){te=je=null,kt=!1}function Yh(){var e=_s;return e!==null&&(un===null?un=e:un.push.apply(un,e),_s=null),e}function Vl(e){_s===null?_s=[e]:_s.push(e)}var Kh=w(null),wr=null,Ui=null;function Es(e,n,s){et(Kh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Kh.current,H(Kh)}function Xh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Xh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&$h(n,e,s,l),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return kp(wr,e)}function Cu(e,n){return wr===null&&Rr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return s}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},WT=r.unstable_scheduleCallback,t1=r.unstable_NormalPriority,Ae={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new JT,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&WT(t1,function(){e.controller.abort()})}var Ul=null,Jh=0,ya=0,_a=null;function e1(e,n){if(Ul===null){var s=Ul=[];Jh=0,ya=nd(),_a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(Up,Up),n}function Up(){if(--Jh===0&&Ul!==null){_a!==null&&(_a.status="fulfilled");var e=Ul;Ul=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=F.S;F.S=function(e,n){Ey=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(e,n),Lp!==null&&Lp(e,n)};var Ir=w(null);function Wh(){var e=Ir.current;return e!==null?e:Jt.pooledCache}function Nu(e,n){n===null?et(Ir,Ir.current):et(Ir,n.pool)}function Pp(){var e=Wh();return e===null?null:{parent:Ae._currentValue,pool:e}}var va=Error(a(460)),tf=Error(a(474)),Du=Error(a(542)),xu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Nr=n,va}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,va):s}}var Nr=null;function Bp(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function qp(e){if(e===va||e===Du)throw Error(a(483))}var Ea=null,Ll=0;function Ou(e){var n=Ll;return Ll+=1,Ea===null&&(Ea=[]),jp(Ea,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(V,D){if(e){var L=V.deletions;L===null?(V.deletions=[D],V.flags|=16):L.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Vi(V,D),V.index=0,V.sibling=null,V}function f(V,D,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<D?(V.flags|=67108866,D):L):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,L,K){return D===null||D.tag!==6?(D=qh(L,V.mode,K),D.return=V,D):(D=h(D,L),D.return=V,D)}function C(V,D,L,K){var ct=L.type;return ct===st?Y(V,D,L.props.children,K,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Cr(ct)===D.type)?(D=h(D,L.props),Pl(D,L),D.return=V,D):(D=wu(L.type,L.key,L.props,null,V.mode,K),Pl(D,L),D.return=V,D)}function P(V,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Hh(L,V.mode,K),D.return=V,D):(D=h(D,L.children||[]),D.return=V,D)}function Y(V,D,L,K,ct){return D===null||D.tag!==7?(D=Sr(L,V.mode,K,ct),D.return=V,D):(D=h(D,L),D.return=V,D)}function X(V,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=qh(""+D,V.mode,L),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return L=wu(D.type,D.key,D.props,null,V.mode,L),Pl(L,D),L.return=V,L;case W:return D=Hh(D,V.mode,L),D.return=V,D;case b:return D=Cr(D),X(V,D,L)}if(he(D)||k(D))return D=Sr(D,V.mode,L,null),D.return=V,D;if(typeof D.then=="function")return X(V,Ou(D),L);if(D.$$typeof===gt)return X(V,Cu(V,D),L);Mu(V,D)}return null}function j(V,D,L,K){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(V,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ct?C(V,D,L,K):null;case W:return L.key===ct?P(V,D,L,K):null;case b:return L=Cr(L),j(V,D,L,K)}if(he(L)||k(L))return ct!==null?null:Y(V,D,L,K,null);if(typeof L.then=="function")return j(V,D,Ou(L),K);if(L.$$typeof===gt)return j(V,D,Cu(V,L),K);Mu(V,L)}return null}function q(V,D,L,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(L)||null,E(D,V,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return V=V.get(K.key===null?L:K.key)||null,C(D,V,K,ct);case W:return V=V.get(K.key===null?L:K.key)||null,P(D,V,K,ct);case b:return K=Cr(K),q(V,D,L,K,ct)}if(he(K)||k(K))return V=V.get(L)||null,Y(D,V,K,ct,null);if(typeof K.then=="function")return q(V,D,L,Ou(K),ct);if(K.$$typeof===gt)return q(V,D,L,Cu(D,K),ct);Mu(D,K)}return null}function lt(V,D,L,K){for(var ct=null,Pt=null,ot=D,Rt=D=0,Dt=null;ot!==null&&Rt<L.length;Rt++){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var zt=j(V,ot,L[Rt],K);if(zt===null){ot===null&&(ot=Dt);break}e&&ot&&zt.alternate===null&&n(V,ot),D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,ot=Dt}if(Rt===L.length)return s(V,ot),kt&&ki(V,Rt),ct;if(ot===null){for(;Rt<L.length;Rt++)ot=X(V,L[Rt],K),ot!==null&&(D=f(ot,D,Rt),Pt===null?ct=ot:Pt.sibling=ot,Pt=ot);return kt&&ki(V,Rt),ct}for(ot=l(ot);Rt<L.length;Rt++)Dt=q(ot,V,Rt,L[Rt],K),Dt!==null&&(e&&Dt.alternate!==null&&ot.delete(Dt.key===null?Rt:Dt.key),D=f(Dt,D,Rt),Pt===null?ct=Dt:Pt.sibling=Dt,Pt=Dt);return e&&ot.forEach(function(Ps){return n(V,Ps)}),kt&&ki(V,Rt),ct}function pt(V,D,L,K){if(L==null)throw Error(a(151));for(var ct=null,Pt=null,ot=D,Rt=D=0,Dt=null,zt=L.next();ot!==null&&!zt.done;Rt++,zt=L.next()){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var Ps=j(V,ot,zt.value,K);if(Ps===null){ot===null&&(ot=Dt);break}e&&ot&&Ps.alternate===null&&n(V,ot),D=f(Ps,D,Rt),Pt===null?ct=Ps:Pt.sibling=Ps,Pt=Ps,ot=Dt}if(zt.done)return s(V,ot),kt&&ki(V,Rt),ct;if(ot===null){for(;!zt.done;Rt++,zt=L.next())zt=X(V,zt.value,K),zt!==null&&(D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return kt&&ki(V,Rt),ct}for(ot=l(ot);!zt.done;Rt++,zt=L.next())zt=q(ot,V,Rt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?Rt:zt.key),D=f(zt,D,Rt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(dA){return n(V,dA)}),kt&&ki(V,Rt),ct}function $t(V,D,L,K){if(typeof L=="object"&&L!==null&&L.type===st&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===st){if(D.tag===7){s(V,D.sibling),K=h(D,L.props.children),K.return=V,V=K;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Cr(ct)===D.type){s(V,D.sibling),K=h(D,L.props),Pl(K,L),K.return=V,V=K;break t}s(V,D);break}else n(V,D);D=D.sibling}L.type===st?(K=Sr(L.props.children,V.mode,K,L.key),K.return=V,V=K):(K=wu(L.type,L.key,L.props,null,V.mode,K),Pl(K,L),K.return=V,V=K)}return p(V);case W:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(V,D.sibling),K=h(D,L.children||[]),K.return=V,V=K;break t}else{s(V,D);break}else n(V,D);D=D.sibling}K=Hh(L,V.mode,K),K.return=V,V=K}return p(V);case b:return L=Cr(L),$t(V,D,L,K)}if(he(L))return lt(V,D,L,K);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),pt(V,D,L,K)}if(typeof L.then=="function")return $t(V,D,Ou(L),K);if(L.$$typeof===gt)return $t(V,D,Cu(V,L),K);Mu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(V,D.sibling),K=h(D,L),K.return=V,V=K):(s(V,D),K=qh(L,V.mode,K),K.return=V,V=K),p(V)):s(V,D)}return function(V,D,L,K){try{Ll=0;var ct=$t(V,D,L,K);return Ea=null,ct}catch(ot){if(ot===va||ot===Du)throw ot;var Pt=gn(29,ot,null,V.mode);return Pt.lanes=K,Pt.return=V,Pt}finally{}}}var Dr=Hp(!0),Gp=Hp(!1),Ts=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=bu(e),Ip(e,null,s),n}return Su(e,l,n,s),bu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function sf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function jl(){if(rf){var e=_a;if(e!==null)throw e}}function Bl(e,n,s,l){rf=!1;var h=e.updateQueue;Ts=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==p&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,Y=P=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(l&j)===j){j!==0&&j===ya&&(rf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var $t=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){X=lt.call($t,X,j);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call($t,X,j):lt,j==null)break t;X=S({},X,j);break t;case 2:Ts=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=q,C=X):Y=Y.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Cs|=p,e.lanes=p,e.memoizedState=X}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Ta=w(null),Vu=w(0);function Yp(e,n){e=Qi,et(Vu,e),et(Ta,n),Qi=e|n.baseLanes}function af(){et(Vu,Qi),et(Ta,Ta.current)}function lf(){Qi=Vu.current,H(Ta),H(Vu)}var yn=w(null),Mn=null;function bs(e){var n=e.alternate;et(me,me.current&1),et(yn,e),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=e)}function of(e){et(me,me.current),et(yn,e),Mn===null&&(Mn=e)}function Kp(e){e.tag===22?(et(me,me.current),et(yn,e),Mn===null&&(Mn=e)):ws()}function ws(){et(me,me.current),et(yn,yn.current)}function _n(e){H(yn),Mn===e&&(Mn=null),H(me)}var me=w(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,bt=null,Kt=null,Se=null,Uu=!1,Aa=!1,xr=!1,Lu=0,ql=0,Sa=null,i1=0;function ue(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function cf(e,n,s,l,h,f){return Pi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?xg:wf,xr=!1,f=s(l,h),xr=!1,Aa&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){F.H=Fl;var n=Kt!==null&&Kt.next!==null;if(Pi=0,Se=Kt=bt=null,Uu=!1,ql=0,Sa=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Iu(e)&&(be=!0))}function $p(e,n,s,l){bt=e;var h=0;do{if(Aa&&(Sa=null),ql=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Og,f=n(s,l)}while(Aa);return f}function s1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function hf(){var e=Lu!==0;return Lu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Pi=0,Se=Kt=bt=null,Aa=!1,ql=Lu=0,Sa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?bt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Se===null?bt.memoizedState:Se.next;if(n!==null)Se=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Se===null?bt.memoizedState=Se=e:Se=Se.next=e}return Se}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Sa===null&&(Sa=[]),e=jp(Sa,e,n),n=bt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?xg:wf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===gt)return Be(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=pe();return pf(n,Kt,e)}function pf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,P=n,Y=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Nt&X)===X:(Pi&X)===X){var j=P.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===ya&&(Y=!0);else if((Pi&j)===j){P=P.next,j===ya&&(Y=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=X,p=f):C=C.next=X,bt.lanes|=j,Cs|=j;X=P.action,xr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else j={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=j,p=f):C=C.next=j,bt.lanes|=X,Cs|=X;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=E,!pn(f,e.memoizedState)&&(be=!0,Y&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Zp(e,n,s){var l=bt,h=pe(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!pn((Kt||h).memoizedState,s);if(p&&(h.memoizedState=s,be=!0),h=h.queue,vf(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),Jt===null)throw Error(a(349));f||(Pi&127)!==0||Jp(l,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function ng(e){var n=Ar(e,2);n!==null&&cn(n,e,2)}function yf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),xr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,pf(e,Kt,typeof l=="function"?l:zi)}function r1(e,n,s,l,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,l),C=F.S;C!==null&&C(p,E),rg(e,n,E)}catch(P){_f(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(P){_f(e,n,P)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return _f(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function _f(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(kt){var s=Jt.formState;if(s!==null){t:{var l=bt;if(kt){if(te){e:{for(var h=te,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),l=h.data==="F!";break t}}vs(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,bt,l),l.dispatch=s,l=yf(!1),f=bf.bind(null,bt,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=r1.bind(null,bt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=pe();return hg(n,Kt,e)}function hg(e,n,s){if(n=pf(e,n,og)[0],e=ju(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(p){throw p===va?Du:p}else l=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,ba(9,{destroy:void 0},a1.bind(null,h,s),null)),[l,f,e]}function a1(e,n){e.action=n}function fg(e){var n=pe(),s=Kt;if(s!==null)return hg(n,s,e);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ba(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return pe().memoizedState}function Bu(e,n,s,l){var h=en();bt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,l===void 0?null:l)}function qu(e,n,s,l){var h=pe();l=l===void 0?null:l;var f=h.memoizedState.inst;Kt!==null&&l!==null&&uf(l,Kt.memoizedState.deps)?h.memoizedState=ba(n,f,s,l):(bt.flags|=e,h.memoizedState=ba(1|n,f,s,l))}function mg(e,n){Bu(8390656,8,e,n)}function vf(e,n){qu(2048,8,e,n)}function l1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Pu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=pe().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return qu(4,2,e,n)}function yg(e,n){return qu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,_g.bind(null,n,e),s)}function Ef(){}function Eg(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&uf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&uf(n,l[1]))return l[0];if(l=e(),xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function Tf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),bt.lanes|=e,Cs|=e,s)}function Ag(e,n,s,l){return pn(s,n)?s:Ta.current!==null?(e=Tf(e,s,l),pn(e,n)||(be=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=s):(e=Ay(),bt.lanes|=e,Cs|=e,n)}function Sg(e,n,s,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,bf(e,!1,n,s);try{var C=h(),P=F.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=n1(C,l);Gl(e,n,Y,Tn(e))}else Gl(e,n,l,Tn(e))}catch(X){Gl(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function o1(){}function Af(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=bg(e).queue;Sg(e,h,n,G,s===null?o1:function(){return wg(e),s(l)})}function bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:G},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=bg(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Tn())}function Sf(){return Be(lo)}function Rg(){return pe().memoizedState}function Ig(){return pe().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=As(s);var l=Ss(n,e,s);l!==null&&(cn(l,n,s),zl(l,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function c1(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Ng(n,s):(s=jh(e,n,s,l),s!==null&&(cn(s,e,l),Dg(s,n,l)))}function Cg(e,n,s){var l=Tn();Gl(e,n,s,l)}function Gl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Su(e,n,h,0),Jt===null&&Au(),!1}catch{}finally{}if(s=jh(e,n,h,l),s!==null)return cn(s,e,l),Dg(s,n,l),!0}return!1}function bf(e,n,s,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=jh(e,s,l,2),n!==null&&cn(n,e,2)}function Hu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Ng(e,n){Aa=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Fl={readContext:Be,use:zu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Fl.useEffectEvent=ue;var xg={readContext:Be,use:zu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var h=s(n);if(xr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=c1.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=Cg.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=en();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=Sg.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=bt,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Nt&127)!==0||Jp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=en(),n=Jt.identifierPrefix;if(kt){var s=_i,l=yi;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=i1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=u1.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:Be,use:zu,useCallback:Eg,useContext:Be,useEffect:vf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:ju,useRef:dg,useState:function(){return ju(zi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=pe();return Ag(s,Kt.memoizedState,e,n)},useTransition:function(){var e=ju(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Sf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=pe();return ig(s,Kt,e,n)},useMemoCache:mf,useCacheRefresh:Ig};wf.useEffectEvent=pg;var Og={readContext:Be,use:zu,useCallback:Eg,useContext:Be,useEffect:vf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:gf,useRef:dg,useState:function(){return gf(zi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=pe();return Kt===null?Tf(s,e,n):Ag(s,Kt.memoizedState,e,n)},useTransition:function(){var e=gf(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Sf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=pe();return Kt!==null?ig(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Ig};Og.useEffectEvent=pg;function Rf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(cn(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(cn(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=Ss(e,l,s),n!==null&&(cn(n,e,s),zl(n,e,s))}};function Mg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!xl(s,l)||!xl(h,f):!0}function Vg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){Tu(e)}function Ug(e){console.error(e)}function Lg(e){Tu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function zg(e){return e=As(e),e.tag=3,e}function jg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function h1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?nc():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wf(e,l,h)),!1;case 22:return s.flags|=65536,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wf(e,l,h)),!1}throw Error(a(435,s.tag))}return Wf(e,l,h),nc(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(e=Error(a(422),{cause:l}),Vl(Nn(e,s)))):(l!==Qh&&(n=Error(a(423),{cause:l}),Vl(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=Cf(e.stateNode,l,h),sf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),Wl===null?Wl=[f]:Wl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,l,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,l),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),be=!1;function qe(e,n,s,l){n.child=e===null?Gp(n,null,s,l):Dr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Rr(n),l=cf(e,n,s,p,f,h),E=hf(),e!==null&&!be?(ff(e,n,h),ji(e,n,h)):(kt&&E&&Gh(n),n.flags|=1,qe(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=wu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(p,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(xl(f,l)&&e.ref===n.ref)if(be=!1,n.pendingProps=l=f,Lf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Df(e,n,s,l,h)}function Gg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):af(),Kp(n);else return l=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Nu(n,f.cachePool),Yp(n,f),ws(),n.memoizedState=null):(e!==null&&Nu(n,null),af(),ws());return qe(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,l,h){var f=Wh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),af(),Kp(n),e!==null&&ga(e,n,l,!0),n.childLanes=h,null}function Fu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Dr(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function f1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Fu(n,l),n.lanes=536870912,Ql(null,e);if(of(n),(e=te)?(e=s_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw vs(n);return n.lanes=536870912,null}return Fu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ga(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(l=Jt,l!==null&&(p=dl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ar(e,p),cn(l,e,p),Nf;nc(),n=Qg(e,n,s)}else e=f.treeContext,te=Vn(p.nextSibling),je=n,kt=!0,_s=null,On=!1,e!==null&&Op(n,e),n=Fu(n,l),n.flags|=4096;return n}return e=Vi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Rr(n),s=cf(e,n,s,l,void 0,h),l=hf(),e!==null&&!be?(ff(e,n,h),ji(e,n,h)):(kt&&l&&Gh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Rr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=hf(),e!==null&&!be?(ff(e,n,f),ji(e,n,f)):(kt&&l&&Gh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Kg(e,n,s,l,h){if(Rr(n),n.stateNode===null){var f=fa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ef(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Be(p):fa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Bl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Or(s,E);f.props=C;var P=f.context,Y=s.contextType;p=fa,typeof Y=="object"&&Y!==null&&(p=Be(Y));var X=s.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Vg(n,f,l,p),Ts=!1;var j=n.memoizedState;f.state=j,Bl(n,l,f,h),jl(),P=n.memoizedState,E||j!==P||Ts?(typeof X=="function"&&(Rf(n,s,X,l),P=n.memoizedState),(C=Ts||Mg(n,s,C,l,j,P,p))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,Y=Or(s,p),f.props=Y,X=n.pendingProps,j=f.context,P=s.contextType,C=fa,typeof P=="object"&&P!==null&&(C=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||j!==C)&&Vg(n,f,l,C),Ts=!1,j=n.memoizedState,f.state=j,Bl(n,l,f,h),jl();var q=n.memoizedState;p!==X||j!==q||Ts||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,l),q=n.memoizedState),(Y=Ts||Mg(n,s,Y,l,j,q,C)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Xg(e,n,s,l){return br(),n.flags|=256,qe(e,n,s,l),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Pp()}}function Mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?bs(n):ws(),(e=te)?(e=s_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ys!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw vs(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ws(),h=n.mode,E=Yu({mode:"hidden",children:E},h),l=Sr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,p,s),n.memoizedState=xf,Ql(null,l)):(bs(n),Vf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(bs(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(ws(),n.child=e.child,n.flags|=128,n=null):(ws(),E=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),E=Sr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Dr(n,e.child,null,s),l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,p,s),n.memoizedState=xf,n=Ql(null,l));else if(bs(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,Vl({value:l,source:null,stack:null}),n=kf(e,n,s)}else if(be||ga(e,n,s,!1),p=(s&e.childLanes)!==0,be||p){if(p=Jt,p!==null&&(l=dl(p,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ar(e,l),cn(p,e,l),Nf;md(E)||nc(),n=kf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=Vn(E.nextSibling),je=n,kt=!0,_s=null,On=!1,e!==null&&Op(n,e),n=Vf(n,l.children),n.flags|=4096);return n}return h?(ws(),E=l.fallback,h=n.mode,C=e.child,P=C.sibling,l=Vi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Mf(e,p,s),n.memoizedState=xf,Ql(e.child,l)):(bs(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return Dr(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xh(e.return,n,s)}function Uf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(me,p),qe(e,n,l,s),l=kt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,f,l);break;case"together":Uf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function d1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Es(n,Ae,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Es(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(bs(n),e=ji(e,n,s),e!==null?e.sibling:null);bs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ga(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(me,me.current),l)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:Es(n,Ae,e.memoizedState.cache)}return ji(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return be=!1,d1(e,n,s);be=(e.flags&131072)!==0}else be=!1,kt&&(n.flags&1048576)!==0&&xp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(l=Or(e,l),n.tag=1,n=Kg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Or(l,n.pendingProps),Kg(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Bl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Es(n,Ae,l),l!==f.cache&&$h(n,[Ae],s,!0),jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Vl(h),n=Xg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Vn(e.firstChild),je=n,kt=!0,_s=null,On=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(br(),l===h){n=ji(e,n,s);break t}qe(e,n,l,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,l=uc(wt.current).createElement(s),l[ve]=n,l[Ve]=e,He(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(l=n.stateNode=l_(n.type,n.pendingProps,wt.current),je=n,On=!0,h=te,Ms(n.type)?(gd=h,te=Vn(l.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=te)&&(l=H1(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,je=n,te=Vn(l.firstChild),On=!1,h=!0):h=!1),h||vs(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,hd(h,f)?l=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,s1,null,null,s),lo._currentValue=h),Qu(e,n),qe(e,n,l,s),n.child;case 6:return e===null&&kt&&((e=s=te)&&(s=G1(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||vs(n)),null;case 13:return $g(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Dr(n,null,l,s):qe(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Es(n,n.type,l.value),qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=Be(h),l=l(h),n.flags|=1,qe(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return f1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Rr(n),l=Be(Ae),e===null?(h=Wh(),h===null&&(h=Jt,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},ef(n),Es(n,Ae,h)):((e.lanes&s)!==0&&(nf(e,n),Bl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Es(n,Ae,l)):(l=f.cache,Es(n,Ae,l),l!==h.cache&&$h(n,[Ae],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Pf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Nr=xu,tf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Nr=xu,tf}function Ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Ca|=n)}function Yl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function m1(e,n,s){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(Ae),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),ty(n,f)):(ee(n),Pf(n,h,null,l,s))):f?f!==e.memoizedState?(Bi(n),ee(n),ty(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Bi(n),ee(n),Pf(n,h,e,l,s)),null;case 27:if(Yr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=rt.current,pa(n)?Mp(n):(e=l_(h,l,s),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Yr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=rt.current,pa(n))Mp(n);else{var p=uc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[ve]=n,f[Ve]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Bi(n)}}return ee(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Bi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||vs(n,!0)}else e=uc(e).createTextNode(l),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=pa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&ad(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(H(me),l=n.memoizedState,l===null)return ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return et(me,me.current&1|2),kt&&ki(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>Wu&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ku(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*We()-l.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,s=me.current,et(me,h?s&1|2:s&1),kt&&ki(n,l.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&H(Ir),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(Ae),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ae),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Yr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(me),null;case 4:return se(),null;case 10:return Li(n.type),null;case 22:case 23:return _n(n),lf(),e!==null&&H(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ae),null;case 25:return null;default:return null}}function ey(e,n){switch(Fh(n),n.tag){case 3:Li(Ae),se();break;case 26:case 27:case 5:Yr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:H(me);break;case 10:Li(n.type);break;case 22:case 23:_n(n),lf(),e!==null&&H(Ir);break;case 24:Li(Ae)}}function Kl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Rs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(Y){Qt(h,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){Qt(n,n.return,Y)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){Qt(e,e.return,l)}}}function iy(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Qt(e,n,h)}}function vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function zf(e,n,s){try{var l=e.stateNode;L1(l,e.type,s,n),l[Ve]=n}catch(h){Qt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ms(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ms(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Ms(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Xu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ms(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,s),n[ve]=e,n[Ve]=s}catch(f){Qt(e,e.return,f)}}var qi=!1,we=!1,qf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function g1(e,n){if(e=e.containerInfo,ud=gc,e=vp(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,P=0,Y=0,X=e,j=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||l!==0&&X.nodeType!==3||(C=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)j=X,X=q;for(;;){if(X===e)break e;if(j===s&&++P===h&&(E=p),j===f&&++Y===l&&(C=p),(q=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},gc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=Or(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),l&4&&Kl(5,s);break;case 1:if(Gi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(s,s.return,p)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(s,s.return,p)}}l&64&&ny(s),l&512&&Xl(s,s.return);break;case 3:if(Gi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){Qt(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:Gi(e,s),n===null&&l&4&&sy(s),l&512&&Xl(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),l&4&&hy(e,s);break;case 13:Gi(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=w1.bind(null,s),F1(e,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||we,h=qi;var f=we;qi=l,(we=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=h,we=f}break;case 30:break;default:Gi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Hi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var l=ae,h=an;Ms(s.type)&&(ae=s.stateNode,an=!1),Hi(e,n,s),so(s.stateNode),ae=l,an=h;break;case 5:we||vi(s,n);case 6:if(l=ae,h=an,ae=null,Hi(e,n,s),ae=l,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(an?(e=ae,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):n_(ae,s.stateNode));break;case 4:l=ae,h=an,ae=s.stateNode.containerInfo,an=!0,Hi(e,n,s),ae=l,an=h;break;case 0:case 11:case 14:case 15:Rs(2,s,n),we||Rs(4,s,n),Hi(e,n,s);break;case 1:we||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,Hi(e,n,s),we=l;break;default:Hi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Qt(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Qt(n,n.return,s)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=y1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=R1.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(a(160));cy(f,p,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Kn=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(Rs(3,e,e.return),Kl(3,e),Rs(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Kn;if(ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,s),f[ve]=e,Ee(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=e,Ee(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),s!==null&&l&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(lt){Qt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Qt(e,e.return,lt)}}break;case 3:if(fc=null,h=Kn,Kn=cc(n.containerInfo),ln(n,e),Kn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(lt){Qt(e,e.return,lt)}qf&&(qf=!1,my(e));break;case 4:l=Kn,Kn=cc(e.stateNode.containerInfo),ln(n,e),on(e),Kn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=qi,Y=we;if(qi=P||h,we=Y||C,ln(n,e),we=Y,qi=P,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||qi||we||Mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Qt(C,C.return,lt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Qt(C,C.return,lt)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?i_(q,!0):i_(C.stateNode,!1)}catch(lt){Qt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$u(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Xu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(rn(p,""),s.flags&=-33);var E=jf(e);Xu(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,P=jf(e);Bf(e,P,C);break;default:throw Error(a(161))}}catch(Y){Qt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Mr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Mr(n);break;case 27:so(n.stateNode);case 26:case 5:vi(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Kl(4,f);break;case 1:if(Fi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Fp(C[h],E)}catch(P){Qt(l,l.return,P)}}s&&p&64&&ny(f),Xl(f,f.return);break;case 27:ay(f);case 26:case 5:Fi(h,f,s),s&&l===null&&p&4&&sy(f),Xl(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&p&4&&hy(h,f);break;case 13:Fi(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Xl(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function Xn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,l),h&2048&&Kl(9,n);break;case 1:Xn(e,n,s,l);break;case 3:Xn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){Xn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Xn(e,n,s,l);break;case 31:Xn(e,n,s,l);break;case 13:Xn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,l):$l(e,n):f._visibility&2?Xn(e,n,s,l):(f._visibility|=2,wa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Xn(e,n,s,l),h&2048&&Gf(n.alternate,n);break;default:Xn(e,n,s,l)}}function wa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,C,h),Kl(8,p);break;case 23:break;case 22:var Y=p.stateNode;p.memoizedState!==null?Y._visibility&2?wa(f,p,E,C,h):$l(f,p):(Y._visibility|=2,wa(f,p,E,C,h)),h&&P&2048&&Hf(p.alternate,p);break;case 24:wa(f,p,E,C,h),h&&P&2048&&Gf(p.alternate,p);break;default:wa(f,p,E,C,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Hf(l.alternate,l);break;case 24:$l(s,l),h&2048&&Gf(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Zl=8192;function Ra(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&Zl&&e.memoizedState!==null&&iA(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var l=Kn;Kn=cc(e.stateNode.containerInfo),Ra(e,n,s),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,Ra(e,n,s),Zl=l):Ra(e,n,s));break;default:Ra(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Rs(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):Jl(e);break;default:Jl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function vy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(uy(l),l===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var _1={getCacheForType:function(e){var n=Be(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ae).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,It=null,Nt=0,Ft=0,vn=null,Is=!1,Ia=!1,Ff=!1,Qi=0,ce=0,Cs=0,Vr=0,Qf=0,En=0,Ca=0,Wl=null,un=null,Yf=!1,Ju=0,Ey=0,Wu=1/0,tc=null,Ns=null,xe=0,Ds=null,Na=null,Yi=0,Kf=0,Xf=null,Ty=null,to=0,$f=null;function Tn(){return(Bt&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?nd():eu()}function Ay(){if(En===0)if((Nt&536870912)===0||kt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Da(e,0),xs(e,Nt,En,!1)),or(e,s),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Vr|=s),ce===4&&xs(e,Nt,En,!1)),Ei(e))}function Sy(e,n,s){if((Bt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?A1(e,n):Jf(e,n,!0),f=l;do{if(h===0){Ia&&!l&&xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!E1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Wl;var C=E.current.memoizedState.isDehydrated;if(C&&(Da(E,p).flags|=256),p=Jf(E,p,!1),p!==2){if(Ff&&!C){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xs(l,n,En,!Is);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-We(),10<h)){if(xs(l,n,En,!Is),ni(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=t_(by.bind(null,l,s,un,tc,Yf,n,En,Vr,Ca,Is,f,"Throttled",-0,0),h);break t}by(l,s,un,tc,Yf,n,En,Vr,Ca,Is,f,null,-0,0)}}break}while(!0);Ei(e)}function by(e,n,s,l,h,f,p,E,C,P,Y,X,j,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},gy(n,f,X);var lt=(f&62914560)===f?Ju-We():(f&4194048)===f?Ey-We():0;if(lt=sA(X,lt),lt!==null){Yi=f,e.cancelPendingCommit=lt(Oy.bind(null,e,n,f,s,l,h,p,E,C,Y,X,null,j,q)),xs(e,f,p,!P);return}}Oy(e,n,f,s,l,h,p,E,C)}function E1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(e,n,s,l){n&=~Qf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&ur(e,s,n)}function ec(){return(Bt&6)===0?(eo(0),!1):!0}function Zf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ui=wr=null,df(e),Ea=null,Ll=0,e=It;for(;e!==null;)ey(e.alternate,e),e=e.return;It=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,j1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Zf(),Jt=e,It=s=Vi(e.current,null),Nt=n,Ft=0,vn=null,Is=!1,Ia=zn(e,n),Ff=!1,Ca=En=Qf=Vr=Cs=ce=0,un=Wl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-fe(l),f=1<<h;n|=e[h],l&=~f}return Qi=n,Au(),s}function wy(e,n){bt=null,F.H=Fl,n===va||n===Du?(n=Bp(),Ft=3):n===tf?(n=Bp(),Ft=4):Ft=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ce=1,Gu(e,Nn(n,e.current)))}function Ry(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function Iy(){var e=F.H;return F.H=Fl,e===null?Fl:e}function Cy(){var e=F.A;return F.A=_1,e}function nc(){ce=4,Is||(Nt&4194048)!==Nt&&yn.current!==null||(Ia=!0),(Cs&134217727)===0&&(Vr&134217727)===0||Jt===null||xs(Jt,Nt,En,!1)}function Jf(e,n,s){var l=Bt;Bt|=2;var h=Iy(),f=Cy();(Jt!==e||Nt!==n)&&(tc=null,Da(e,n)),n=!1;var p=ce;t:do try{if(Ft!==0&&It!==null){var E=It,C=vn;switch(Ft){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Ft;if(Ft=0,vn=null,xa(e,E,C,P),s&&Ia){p=0;break t}break;default:P=Ft,Ft=0,vn=null,xa(e,E,C,P)}}T1(),p=ce;break}catch(Y){wy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Ui=wr=null,Bt=l,F.H=h,F.A=f,It===null&&(Jt=null,Nt=0,Au()),p}function T1(){for(;It!==null;)Ny(It)}function A1(e,n){var s=Bt;Bt|=2;var l=Iy(),h=Cy();Jt!==e||Nt!==n?(tc=null,Wu=We()+500,Da(e,n)):Ia=zn(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(zp(f)){Ft=0,vn=null,Dy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),Ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:zp(f)?(Ft=0,vn=null,Dy(n)):(Ft=0,vn=null,xa(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?p_(p):E.stateNode.complete){Ft=0,vn=null;var C=E.sibling;if(C!==null)It=C;else{var P=E.return;P!==null?(It=P,ic(P)):It=null}break e}}Ft=0,vn=null,xa(e,n,f,5);break;case 6:Ft=0,vn=null,xa(e,n,f,6);break;case 8:Zf(),ce=6;break t;default:throw Error(a(462))}}S1();break}catch(Y){wy(e,Y)}while(!0);return Ui=wr=null,F.H=l,F.A=h,Bt=s,It!==null?0:(Jt=null,Nt=0,Au(),ce)}function S1(){for(;It!==null&&!Ih();)Ny(It)}function Ny(e){var n=Wg(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:df(n);default:ey(s,n),n=It=Cp(n,Qi),n=Wg(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function xa(e,n,s,l){Ui=wr=null,df(n),Ea=null,Ll=0;var h=n.return;try{if(h1(e,h,n,s,Nt)){ce=1,Gu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Gu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(kt||l===1?e=!0:Ia||(Nt&536870912)!==0?e=!1:(Is=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){xy(n,Is);return}e=n.return;var s=m1(n.alternate,n,Qi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function xy(e,n){do{var s=p1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ce=6,It=null}function Oy(e,n,s,l,h,f,p,E,C){e.cancelPendingCommit=null;do sc();while(xe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,s,f,p,E,C),e===Jt&&(It=Jt=null,Nt=0),Na=n,Ds=e,Yi=s,Kf=f,Xf=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(ls,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=nt.p,nt.p=2,p=Bt,Bt|=4;try{g1(e,n,s)}finally{Bt=p,nt.p=h,F.T=l}}xe=1,My(),Vy(),ky()}}function My(){if(xe===1){xe=0;var e=Ds,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{dy(n,e);var f=cd,p=vp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(C!==null&&Vh(E)){var P=C.start,Y=C.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(C.start,lt),$t=C.end===void 0?pt:Math.min(C.end,lt);!q.extend&&pt>$t&&(p=$t,$t=pt,pt=p);var V=yp(E,pt),D=yp(E,$t);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var L=X.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),pt>$t?(q.addRange(L),q.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),q.addRange(L))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}gc=!!ud,cd=ud=null}finally{Bt=h,nt.p=l,F.T=s}}e.current=n,xe=2}}function Vy(){if(xe===2){xe=0;var e=Ds,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{oy(e,n.alternate,n)}finally{Bt=h,nt.p=l,F.T=s}}xe=3}}function ky(){if(xe===4||xe===3){xe=0,Ko();var e=Ds,n=Na,s=Yi,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Na=Ds=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Di(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Yi&3)!==0&&sc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?to++:(to=0,$f=e):to=0,eo(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function sc(){return My(),Vy(),ky(),Ly()}function Ly(){if(xe!==5)return!1;var e=Ds,n=Kf;Kf=0;var s=Di(Yi),l=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Xf,Xf=null;var f=Ds,p=Yi;if(xe=0,Na=Ds=null,Yi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,_y(f.current),py(f,f.current,p,s),Bt=E,eo(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{nt.p=h,F.T=l,Uy(e,n)}}function Py(e,n,s){n=Nn(s,n),n=Cf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(or(e,2),Ei(e))}function Qt(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=Nn(s,e),s=zg(2),l=Ss(n,s,2),l!==null&&(jg(s,l,n,e),or(l,2),Ei(l));break}}n=n.return}}function Wf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new v1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=b1.bind(null,e,n,s),n.then(e,e))}function b1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-Ju?(Bt&2)===0&&Da(e,0):Qf|=s,Ca===Nt&&(Ca=0)),Ei(e)}function zy(e,n){n===0&&(n=tu()),e=Ar(e,n),e!==null&&(or(e,n),Ei(e))}function w1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function R1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function I1(e,n){return De(e,n)}var rc=null,Oa=null,td=!1,ac=!1,ed=!1,Os=0;function Ei(e){e!==Oa&&e.next===null&&(Oa===null?rc=Oa=e:Oa=Oa.next=e),ac=!0,td||(td=!0,N1())}function eo(e,n){if(!ed&&ac){ed=!0;do for(var s=!1,l=rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Nt,f=ni(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);ed=!1}}function C1(){jy()}function jy(){ac=td=!1;var e=0;Os!==0&&z1()&&(e=Os);for(var n=We(),s=null,l=rc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?rc=h:s.next=h,h===null&&(Oa=s)):(s=l,(e!==0||(f&3)!==0)&&(ac=!0)),l=h}xe!==0&&xe!==5||eo(e),Os!==0&&(Os=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Nt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&as(l),Di(s)){case 2:case 8:s=hl;break;case 32:s=ls;break;case 268435456:s=Xo;break;default:s=ls}return l=qy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&as(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var l=Nt;return l=ni(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),By(e,We()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(sc())return null;Sy(e,n,!0)}function N1(){B1(function(){(Bt&6)!==0?De(cl,C1):jy()})}function nd(){if(Os===0){var e=ya;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Os=e}return Os}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function D1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Ve]||null).action),p=l.submitter;p&&(n=(n=p[Ve]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var C=p?Fy(h,p):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Fy(h,p):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],x1=sd.toLowerCase(),O1=sd[0].toUpperCase()+sd.slice(1);Yn(x1,"on"+O1)}Yn(Ap,"onAnimationEnd"),Yn(Sp,"onAnimationIteration"),Yn(bp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(KT,"onTransitionRun"),Yn(XT,"onTransitionStart"),Yn($T,"onTransitionCancel"),Yn(wp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Y){Tu(Y)}h.currentTarget=null,f=C}}}}function Ct(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function rd(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[lc]){e[lc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(M1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,rd("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(A_(n)){case 2:var h=lA;break;case 8:h=oA;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ds(function(){var P=f,Y=wn(s),X=[];t:{var j=Rp.get(e);if(j!==void 0){var q=di,lt=e;switch(e){case"keypress":if(gr(s)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":lt="focus",q=_r;break;case"focusout":lt="blur",q=_r;break;case"beforeblur":case"afterblur":q=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ap:case Sp:case bp:q=hu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Rl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=St}var pt=(n&4)!==0,$t=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||V===null||(K=Hn(D,V),K!=null&&pt.push(io(D,K,L))),$t)break;D=D.return}0<pt.length&&(j=new q(j,lt,null,s,Y),X.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Sl&&(lt=s.relatedTarget||s.fromElement)&&(ai(lt)||lt[si]))break t;if((q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=P,lt=lt?ai(lt):null,lt!==null&&($t=c(lt),pt=lt.tag,lt!==$t||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(pt=Il,K="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Mi,K="onPointerLeave",V="onPointerEnter",D="pointer"),$t=q==null?j:dn(q),L=lt==null?j:dn(lt),j=new pt(K,D+"leave",q,s,Y),j.target=$t,j.relatedTarget=L,K=null,ai(Y)===P&&(pt=new pt(V,D+"enter",lt,s,Y),pt.target=L,pt.relatedTarget=$t,K=pt),$t=K,q&&lt)e:{for(pt=V1,V=q,D=lt,L=0,K=V;K;K=pt(K))L++;K=0;for(var ct=D;ct;ct=pt(ct))K++;for(;0<L-K;)V=pt(V),L--;for(;0<K-L;)D=pt(D),K--;for(;L--;){if(V===D||D!==null&&V===D.alternate){pt=V;break e}V=pt(V),D=pt(D)}pt=null}else pt=null;q!==null&&Ky(X,j,q,pt,!1),lt!==null&&$t!==null&&Ky(X,$t,lt,pt,!0)}}t:{if(j=P?dn(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Pt=hp;else if(up(j))if(fp)Pt=FT;else{Pt=HT;var ot=qT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ea(P.elementType)&&(Pt=hp):Pt=GT;if(Pt&&(Pt=Pt(e,P))){cp(X,Pt,s,Y);break t}ot&&ot(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&El(j,"number",j.value)}switch(ot=P?dn(P):window,e){case"focusin":(up(ot)||ot.contentEditable==="true")&&(ua=ot,kh=P,Ol=null);break;case"focusout":Ol=kh=ua=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Ep(X,s,Y);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Ep(X,s,Y)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else oa?vr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(gi&&s.locale!=="ko"&&(oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&oa&&(Rt=wl()):(fi=Y,bl="value"in fi?fi.value:fi.textContent,oa=!0)),ot=oc(P,Dt),0<ot.length&&(Dt=new pi(Dt,e,null,s,Y),X.push({event:Dt,listeners:ot}),Rt?Dt.data=Rt:(Rt=la(s),Rt!==null&&(Dt.data=Rt)))),(Rt=In?PT(e,s):zT(e,s))&&(Dt=oc(P,"onBeforeInput"),0<Dt.length&&(ot=new pi("onBeforeInput","beforeinput",null,s,Y),X.push({event:ot,listeners:Dt}),ot.data=Rt)),D1(X,e,P,s,Y)}Qy(X,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&l.unshift(io(e,h,f)),h=Hn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function V1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Hn(s,f),P!=null&&p.unshift(io(s,P,C))):h||(P=Hn(s,f),P!=null&&p.push(io(s,P,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var k1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(U1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function Xt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":Al(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,Wr(e,s,l))}}function od(e,n,s,l,h,f){switch(s){case"style":Al(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Wr(e,s,l)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,p,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=p=h=null,C=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":p=Y;break;case"checked":C=Y;break;case"defaultChecked":P=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Xt(e,n,l,Y,s,null)}}ru(e,f,E,C,P,p,h,!1);return;case"select":Ct("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Xt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?us(e,!!l,n,!1):s!=null&&us(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,p,E,s,null)}cs(e,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,C,l,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Ct(no[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,l,s,null)}return;default:if(ea(n)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&od(e,n,Y,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function L1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,P=null,Y=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,X)}}for(var j in l){var q=l[j];if(X=s[j],l.hasOwnProperty(j)&&(q!=null||X!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":Y=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&Xt(e,n,j,q,l,X)}}ta(e,p,E,C,P,Y,f,h);return;case"select":q=p=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&Xt(e,n,h,f,l,C)}n=E,s=p,l=q,j!=null?us(e,!!s,j,!1):!!l!=!!s&&(n!=null?us(e,!!s,n,!0):us(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,p,h,l,f)}au(e,j,q);return;case"option":for(var lt in s)if(j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Xt(e,n,lt,null,l,j)}for(C in l)if(j=l[C],q=s[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&Xt(e,n,pt,null,l,j);for(P in l)if(j=l[P],q=s[P],l.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,P,j,l,q)}return;default:if(ea(n)){for(var $t in s)j=s[$t],s.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&od(e,n,$t,void 0,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j===void 0&&q===void 0||od(e,n,Y,j,l,q);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&Xt(e,n,V,null,l,j);for(X in l)j=l[X],q=s[X],!l.hasOwnProperty(X)||j===q||j==null&&q==null||Xt(e,n,X,j,l,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],P=C.startTime;if(P>E)break;var Y=C.transferSize,X=C.initiatorType;Y&&Zy(X)&&(C=C.responseEnd,p+=Y*(C<E?1:(E-P)/(C-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function z1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(q1)}:t_;function q1(e){setTimeout(function(){throw e})}function Ms(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ua(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")so(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,so(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&so(e.ownerDocument.body);s=h}while(s);Ua(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function G1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var kn=new Map,o_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=nt.d;nt.d={f:Q1,r:Y1,D:K1,C:X1,L:$1,m:Z1,X:W1,S:J1,M:tA};function Q1(){var e=Ki.f(),n=ec();return e||n}function Y1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ki.r(e)}var Ma=typeof document>"u"?null:document;function u_(e,n,s){var l=Ma;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",e),Ee(n),l.head.appendChild(n)))}}function K1(e){Ki.D(e),u_("dns-prefetch",e,null)}function X1(e,n){Ki.C(e,n),u_("preconnect",e,n)}function $1(e,n,s){Ki.L(e,n,s);var l=Ma;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ro(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),He(n,"link",e),Ee(n),l.head.appendChild(n)))}}function Z1(e,n){Ki.m(e,n);var s=Ma;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),He(l,"link",e),Ee(l),s.head.appendChild(l)}}}function J1(e,n,s){Ki.S(e,n,s);var l=Ma;if(l&&e){var h=li(l).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ro(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&yd(e,s);var C=p=l.createElement("link");Ee(C),He(C,"link",e),C._p=new Promise(function(P,Y){C.onload=P,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function W1(e,n){Ki.X(e,n);var s=Ma;if(s&&e){var l=li(s).hoistableScripts,h=ka(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tA(e,n){Ki.M(e,n);var s=Ma;if(s&&e){var l=li(s).hoistableScripts,h=ka(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=wt.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=li(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ro(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||eA(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+sn(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function ka(e){return'[src="'+sn(e)+'"]'}function ao(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),He(l,"style",h),hc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Va(s.href);var f=e.querySelector(ro(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=h_(s),(h=kn.get(h))&&yd(l,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),He(f,"link",l),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,Ee(h),h):(l=s,(h=kn.get(f))&&(l=S({},s),_d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,s.precedence,e));return n.instance}function hc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function d_(e,n,s){if(fc===null){var l=new Map,h=fc=new Map;h.set(s,l)}else h=fc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function nA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(l.href),f=n.querySelector(ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,l=h_(l),(h=kn.get(h))&&yd(l,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),He(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function sA(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(rA,e),mc=null,dc.call(e))}function rA(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var l=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:gt,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function aA(e,n,s,l,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,C,P,Y,X){return e=new aA(e,n,s,p,C,P,Y,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ef(f),e}function y_(e){return e?(e=fa,e):fa}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ss(e,l,n),s!==null&&(cn(s,e,n),zl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&cn(n,e,67108864),Ed(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var s=Ar(e,n);s!==null&&cn(s,e,n),Ed(e,n)}}var gc=!0;function lA(e,n,s,l){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Td(e,n,s,l)}finally{nt.p=f,F.T=h}}function oA(e,n,s,l){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Td(e,n,s,l)}finally{nt.p=f,F.T=h}}function Td(e,n,s,l){if(gc){var h=Ad(l);if(h===null)ld(e,n,l,yc,s),S_(e,l);else if(cA(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<uA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-fe(p);E.entanglements[1]|=C,p&=~C}Ei(f),(Bt&6)===0&&(Wu=We()+500,eo(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&cn(E,f,2),ec(),Ed(f,2)}if(f=Ad(l),f===null&&ld(e,n,l,yc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ld(e,n,l,null,s)}}function Ad(e){return e=wn(e),Sd(e)}var yc=null;function Sd(e){if(yc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case cl:return 2;case hl:return 8;case ls:case Ch:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var bd=!1,Vs=null,ks=null,Us=null,oo=new Map,uo=new Map,Ls=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cA(e,n,s,l,h){switch(n){case"focusin":return Vs=co(Vs,e,n,s,l,h),!0;case"dragenter":return ks=co(ks,e,n,s,l,h),!0;case"mouseover":return Us=co(Us,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,s,l,h)),!0}return!1}function b_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,jn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Sl=l,s.target.dispatchEvent(l),Sl=null}else return n=bn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){_c(e)&&s.delete(n)}function hA(){bd=!1,Vs!==null&&_c(Vs)&&(Vs=null),ks!==null&&_c(ks)&&(ks=null),Us!==null&&_c(Us)&&(Us=null),oo.forEach(w_),uo.forEach(w_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var Ec=null;function R_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Sd(l||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ua(e){function n(C){return vc(C,e)}Vs!==null&&vc(Vs,e),ks!==null&&vc(ks,e),Us!==null&&vc(Us,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<Ls.length;s++){var l=Ls[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ls.length&&(s=Ls[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&Ls.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Ve]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Sd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}Tc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();__(s,l,e,n,null,null)},Tc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),ec(),n[si]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ls.length&&n!==0&&n<Ls[s].priority;s++);Ls.splice(s,0,e),s===0&&b_(e)}};var C_=t.version;if(C_!=="19.2.1")throw Error(a(527,C_,"19.2.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Pn=Ac.inject(fA),Pe=Ac}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kg,f=Ug,p=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[si]=n.current,ad(e),new wd(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,p=Ug,E=Lg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(e,1,!0,n,s??null,l,h,C,f,p,E,I_),n.context=y_(null),s=n.current,l=Tn(),l=cr(l),h=As(l),h.callback=null,Ss(s,h,l),s=l,n.current.lanes=s,or(n,s),Ei(n),e[si]=n.current,ad(e),new Tc(n)},fo.version="19.2.1",fo}var P_;function AA(){if(P_)return Cd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=TA(),Cd.exports}var SA=AA();const bA=()=>{};var z_={};const d0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},wA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(O=64)),a.push(i[A],i[S],i[O],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(d0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new RA;const O=c<<2|g>>4;if(a.push(O),y!==64){const Q=g<<4&240|y>>2;if(a.push(Q),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(r){const t=d0(r);return m0.encodeByteArray(t,!0)},jc=function(r){return IA(r).replace(/\./g,"")},p0=function(r){try{return m0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&p0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return bA()||NA()||DA()||xA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g0=r=>rh()?.emulatorHosts?.[r],OA=r=>{const t=g0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},y0=()=>rh()?.config,_0=r=>rh()?.[`_${r}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function VA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Eo={};function kA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function UA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function E0(r,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||Eo[r]===t||Eo[r]||j_)return;Eo[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=kA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{j_=!0,d()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=UA(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),dt=i("preprendIcon"),mt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const gt=O.element;g(gt),A(tt,st);const qt=y();_(mt,dt),gt.append(mt,W,tt,qt),document.body.appendChild(gt)}c?(W.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function PA(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const QA="FirebaseError";class rs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=QA,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?YA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new rs(o,g,a)}}function YA(r,t){return r.replace(KA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const KA=/\{\$([^}]+)}/g;function XA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Lo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $A(r,t){const i=new ZA(r,t);return i.subscribe.bind(i)}class ZA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function Je(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class WA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new MA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(r){return r===kr?void 0:r}function eS(r){return r.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const iS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},sS=xt.INFO,rS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},aS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=rS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const lS=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function oS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Fd=new WeakMap,A0=new WeakMap,Md=new WeakMap,Em=new WeakMap;function cS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Fs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&T0.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function hS(r){if(Fd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Fd.set(r,t)}let Qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Fd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fS(r){Qd=r(Qd)}function dS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return A0.set(a,t.sort?t.sort():[t]),Fs(a)}:uS().includes(r)?function(...t){return r.apply(Vd(this),t),Fs(T0.get(this))}:function(...t){return Fs(r.apply(Vd(this),t))}}function mS(r){return typeof r=="function"?dS(r):(r instanceof IDBTransaction&&hS(r),lS(r,oS())?new Proxy(r,Qd):r)}function Fs(r){if(r instanceof IDBRequest)return cS(r);if(Md.has(r))return Md.get(r);const t=mS(r);return t!==r&&(Md.set(r,t),Em.set(t,r)),t}const Vd=r=>Em.get(r);function pS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Fs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Fs(d.result),_.oldVersion,_.newVersion,Fs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],kd=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=yS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||gS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return kd.set(t,c),c}fS(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class _S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vS(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",F_="0.14.6";const Wi=new vm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",AS="@firebase/analytics",SS="@firebase/app-check-compat",bS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",NS="@firebase/database-compat",DS="@firebase/functions",xS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",US="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",GS="@firebase/firestore-compat",FS="firebase",QS="12.6.0";const Kd="[DEFAULT]",YS={[Yd]:"fire-core",[ES]:"fire-core-compat",[AS]:"fire-analytics",[TS]:"fire-analytics-compat",[bS]:"fire-app-check",[SS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[DS]:"fire-fn",[xS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[US]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};const Bc=new Map,KS=new Map,Xd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if(Xd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,r);for(const i of Bc.values())Q_(i,r);for(const i of KS.values())Q_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Uo("app","Firebase",XS);class $S{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const el=QS;function S0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=y0()),!i)throw Qs.create("no-options");const c=Bc.get(o);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new nS(o);for(const _ of Xd.values())d.addComponent(_);const g=new $S(i,a,d);return Bc.set(o,g),g}function b0(r=Kd){const t=Bc.get(r);if(!t&&r===Kd&&y0())return S0();if(!t)throw Qs.create("no-app",{appName:r});return t}function Ys(r,t,i){let a=YS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ya(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ZS="firebase-heartbeat-database",JS=1,Ro="firebase-heartbeat-store";let Ud=null;function w0(){return Ud||(Ud=pS(ZS,JS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function WS(r){try{const i=(await w0()).transaction(Ro),a=await i.objectStore(Ro).get(R0(r));return await i.done,a}catch(t){if(t instanceof rs)Wi.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function Y_(r,t){try{const a=(await w0()).transaction(Ro,"readwrite");await a.objectStore(Ro).put(t,R0(r)),await a.done}catch(i){if(i instanceof rs)Wi.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const tb=1024,eb=30;class nb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eb){const o=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=ib(this._heartbeatsCache.heartbeats),o=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function ib(r,t=tb){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function rb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function ab(r){Ya(new jr("platform-logger",t=>new _S(t),"PRIVATE")),Ya(new jr("heartbeat",t=>new nb(t),"PRIVATE")),Ys(Yd,F_,r),Ys(Yd,F_,"esm2020"),Ys("fire-js","")}ab("");var lb="firebase",ob="12.6.0";Ys(lb,ob,"app");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ub=I0,C0=new Uo("auth","Firebase",I0());const qc=new vm("@firebase/auth");function cb(r,...t){qc.logLevel<=xt.WARN&&qc.warn(`Auth (${el}): ${r}`,...t)}function Dc(r,...t){qc.logLevel<=xt.ERROR&&qc.error(`Auth (${el}): ${r}`,...t)}function ts(r,...t){throw Am(r,...t)}function Ai(r,...t){return Am(r,...t)}function N0(r,t,i){const a={...ub(),[t]:i};return new Uo("auth","Firebase",a).create(t,{appName:r.name})}function Ji(r){return N0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return C0.create(r,...t)}function _t(r,t,...i){if(!r)throw Am(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Dc(t),new Error(t)}function es(r,t){r||$i(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function hb(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function fb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hb()||jA()||"connection"in navigator)?navigator.onLine:!0}function db(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Po{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return fb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,t){es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gb=new Po(3e4,6e4);function zo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function nl(r,t,i,a,o={}){return x0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Lo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return zA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(await O0(r,r.config.apiHost,i,g),y)})}async function x0(r,t,i){r._canInitEmulator=!1;const a={...mb,...t};try{const o=new yb(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw N0(r,A,y);ts(r,A)}}catch(o){if(o instanceof rs)throw o;ts(r,"network-request-failed",{message:String(o)})}}async function bm(r,t,i,a,o={}){const c=await nl(r,t,i,a,o);return"mfaPendingCredential"in c&&ts(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function O0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,o):`${r.config.apiScheme}://${o}`;return pb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),gb.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ai(r,t,a);return o.customData._tokenResponse=i,o}async function _b(r,t){return nl(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return nl(r,"POST","/v1/accounts:lookup",t)}function To(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vb(r,t=!1){const i=Je(r),a=await i.getIdToken(t),o=wm(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Ld(o.auth_time)),issuedAtTime:To(Ld(o.iat)),expirationTime:To(Ld(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=p0(i);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(r){const t=wm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof rs&&Eb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Eb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Tb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,Hc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?M0(o.providerUserInfo):[],d=Sb(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=g?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Ab(r){const t=Je(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sb(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function M0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bb(r,t){const i=await x0(r,{},async()=>{const a=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await O0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(_.credentials="include"),D0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wb(r,t){return nl(r,"POST","/v2/accounts:revokeToken",zo(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await bb(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}function zs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vb(this,t)}reload(){return Ab(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Io(this,_b(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Q,providerData:W,stsTokenManager:st}=i;_t(S&&st,t,"internal-error");const tt=qa.fromJSON(this.name,st);_t(typeof S=="string",t,"internal-error"),zs(a,t.name),zs(o,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(g,t.name),zs(_,t.name),zs(y,t.name),zs(A,t.name);const dt=new $n({uid:S,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(dt.providerData=W.map(mt=>({...mt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new qa;o.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?M0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new qa;g.updateFromIdToken(a);const _=new $n({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const J_=new Map;function Zi(r){es(r instanceof Function,"Expected a class definition");let t=J_.get(r);return t?(es(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,J_.set(r,t),t)}class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V0.type="NONE";const W_=V0;function xc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,c),this.fullPersistenceKey=xc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Zi(W_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Zi(W_);const d=xc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const O=await Hc(t,{idToken:A}).catch(()=>{});if(!O)break;S=await $n._fromGetAccountInfoResponse(t,O,A)}else S=$n._fromJSON(t,A);y!==c&&(g=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ha(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(k0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(j0(t))return"Blackberry";if(B0(t))return"Webos";if(U0(t))return"Safari";if((t.includes("chrome/")||L0(t))&&!t.includes("edge/"))return"Chrome";if(z0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function k0(r=Ze()){return/firefox\//i.test(r)}function U0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L0(r=Ze()){return/crios\//i.test(r)}function P0(r=Ze()){return/iemobile/i.test(r)}function z0(r=Ze()){return/android/i.test(r)}function j0(r=Ze()){return/blackberry/i.test(r)}function B0(r=Ze()){return/webos/i.test(r)}function Rm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rb(r=Ze()){return Rm(r)&&!!window.navigator?.standalone}function Ib(){return qA()&&document.documentMode===10}function q0(r=Ze()){return Rm(r)||z0(r)||B0(r)||j0(r)||/windows phone/i.test(r)||P0(r)}function H0(r,t=[]){let i;switch(r){case"Browser":i=tv(Ze());break;case"Worker":i=`${tv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${el}/${a}`}class Cb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Nb(r,t={}){return nl(r,"GET","/v2/passwordPolicy",zo(r,t))}const Db=6;class xb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Db,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ob{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=db()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Ji(this));const i=t?Je(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nb(this),i=new xb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await wb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jo(r){return Je(r)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=$A(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mb(r){Im=r}function Vb(r){return Im.loadJS(r)}function kb(){return Im.gapiScript}function Ub(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Lb(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return o;ts(o,"already-initialized")}return i.initialize({options:t})}function Pb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function zb(r,t,i){const a=jo(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=G0(t),{host:d,port:g}=jb(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(zr(y,a.config.emulator)&&zr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,tl(d)?(v0(`${c}//${d}${_}`),E0("Auth",!0)):Bb()}function G0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function jb(r){const t=G0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Bb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class F0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Ga(r,t){return bm(r,"POST","/v1/accounts:signInWithIdp",zo(r,t))}const qb="http://localhost";class Br extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Br(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Lo(i)}return t}}class Q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bo extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends Bo{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Bo{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Bo{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function Hb(r,t){return bm(r,"POST","/v1/accounts:signUp",zo(r,t))}class ns{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await $n._fromIdTokenResponse(t,a,o),d=iv(a);return new ns({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=iv(a);return new ns({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Gb(r){if(Un(r.app))return Promise.reject(Ji(r));const t=jo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ns({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Hb(t,{returnSecureToken:!0}),a=await ns._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Fc extends rs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Fc(t,i,a,o)}}function Y0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function Fb(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ns._forOperation(r,"link",a)}async function Qb(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const c=await Io(r,Y0(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=wm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),ns._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ts(a,"user-mismatch"),c}}async function Yb(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a="signIn",o=await Y0(r,a,t),c=await ns._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function Kb(r,t){return bm(r,"POST","/v1/accounts:signInWithCustomToken",zo(r,t))}async function Xb(r,t){if(Un(r.app))return Promise.reject(Ji(r));const i=jo(r),a=await Kb(i,{token:t,returnSecureToken:!0}),o=await ns._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function $b(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function Zb(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function Jb(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}function Wb(r){return Je(r).signOut()}const Qc="__sak";class K0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const tw=1e3,ew=10;class X0 extends K0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Ib()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ew):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}X0.type="LOCAL";const nw=X0;class $0 extends K0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$0.type="SESSION";const Z0=$0;function iw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await iw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Cm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function rw(r){Si().location.href=r}function J0(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lw(){return navigator?.serviceWorker?.controller||null}function ow(){return J0()?self:null}const W0="firebaseLocalStorageDb",uw=1,Yc="firebaseLocalStorage",tE="fbase_key";class qo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function cw(){const r=indexedDB.deleteDatabase(W0);return new qo(r).toPromise()}function Jd(){const r=indexedDB.open(W0,uw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:tE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await cw(),t(await Jd()))})})}async function sv(r,t,i){const a=lh(r,!0).put({[tE]:t,value:i});return new qo(a).toPromise()}async function hw(r,t){const i=lh(r,!1).get(t),a=await new qo(i).toPromise();return a===void 0?null:a.value}function rv(r,t){const i=lh(r,!0).delete(t);return new qo(i).toPromise()}const fw=800,dw=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(ow()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aw(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await sv(t,Qc,"1"),await rv(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>hw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=lh(o,!1).getAll();return new qo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const mw=eE;new Po(3e4,6e4);function pw(r,t){return t?Zi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Nm extends F0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function gw(r){return Yb(r.auth,new Nm(r),r.bypassAuthState)}function yw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Qb(i,new Nm(r),r.bypassAuthState)}async function _w(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Fb(i,new Nm(r),r.bypassAuthState)}class nE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gw;case"linkViaPopup":case"linkViaRedirect":return _w;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:ts(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vw=new Po(2e3,1e4);class Ba extends nE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vw.get())};t()}}Ba.currentPopupAction=null;const Ew="pendingRedirect",Oc=new Map;class Tw extends nE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await Aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aw(r,t){const i=ww(t),a=bw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Sw(r,t){Oc.set(r._key(),t)}function bw(r){return Zi(r._redirectPersistence)}function ww(r){return xc(Ew,r.config.apiKey,r.name)}async function Rw(r,t,i=!1){if(Un(r.app))return Promise.reject(Ji(r));const a=jo(r),o=pw(a,t),d=await new Tw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Iw=600*1e3;class Cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Iw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Nw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(r);default:return!1}}async function Dw(r,t={}){return nl(r,"GET","/v1/projects",t)}const xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ow=/^https?/;async function Mw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Dw(r);for(const i of t)try{if(Vw(i))return}catch{}ts(r,"unauthorized-domain")}function Vw(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ow.test(i))return!1;if(xw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const kw=new Po(3e4,6e4);function lv(){const r=Si().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Uw(r){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Ai(r,"network-request-failed"))},timeout:kw.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const o=Ub("iframefcb");return Si()[o]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},Vb(`${kb()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function Lw(r){return Mc=Mc||Uw(r),Mc}const Pw=new Po(5e3,15e3),zw="__/auth/iframe",jw="emulator/auth/iframe",Bw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Sm(t,jw):`https://${r.config.authDomain}/${zw}`,a={apiKey:t.apiKey,appName:r.name,v:el},o=qw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Lo(a).slice(1)}`}async function Gw(r){const t=await Lw(r),i=Si().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Hw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),g=Si().setTimeout(()=>{c(d)},Pw.get());function _(){Si().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Fw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Yw=600,Kw="_blank",Xw="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $w(r,t,i,a=Qw,o=Yw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Fw,width:a.toString(),height:o.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(g=L0(y)?Kw:i),k0(y)&&(t=t||Xw,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[Q,W])=>`${O}${Q}=${W},`,"");if(Rb(y)&&g!=="_self")return Zw(t||"",g),new ov(null);const S=window.open(t||"",g,A);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new ov(S)}function Zw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Jw="__/auth/handler",Ww="emulator/auth/handler",t2=encodeURIComponent("fac");async function uv(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:el,eventId:o};if(t instanceof Q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Bo){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await r._getAppCheckToken(),y=_?`#${t2}=${encodeURIComponent(_)}`:"";return`${e2(r)}?${Lo(g).slice(1)}${y}`}function e2({config:r}){return r.emulator?Sm(r,Ww):`https://${r.authDomain}/${Jw}`}const Pd="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=Rw,this._overrideRedirectResult=Sw}async _openPopup(t,i,a,o){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,$d(),o);return $w(t,c,Cm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await uv(t,i,a,$d(),o);return rw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Gw(t),a=new Cw(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},o=>{const c=o?.[0]?.[Pd];c!==void 0&&i(!!c),ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Mw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return q0()||U0()||Rm()}}const i2=n2;var cv="@firebase/auth",hv="1.11.1";class s2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function r2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){Ya(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},y=new Ob(a,o,c,_);return Pb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new jr("auth-internal",t=>{const i=jo(t.getProvider("auth").getImmediate());return(a=>new s2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(cv,hv,r2(r)),Ys(cv,hv,"esm2020")}const l2=300,o2=_0("authIdTokenMaxAge")||l2;let fv=null;const u2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>o2)return;const o=i?.token;fv!==o&&(fv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=b0()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Lb(r,{popupRedirectResolver:i2,persistence:[mw,nw,Z0]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=u2(c.toString());Zb(i,d,()=>d(i.currentUser)),$b(i,g=>d(g))}}const o=g0("auth");return o&&zb(i,`http://${o}`),i}function h2(){return document.getElementsByTagName("head")?.[0]??document}Mb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ai("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",h2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,sE;(function(){var r;function t(N,b){function R(){}R.prototype=b.prototype,N.F=b.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,x,k){for(var I=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)I[Wt-2]=arguments[Wt];return b.prototype[x].apply(M,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;x<16;++x)M[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=N.g[0],R=N.g[1],x=N.g[2];let k=N.g[3],I;I=b+(k^R&(x^k))+M[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(x^k&(R^x))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(R^x^k)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(x^(R|~k))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,b){b===void 0&&(b=N.length);const R=b-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<b;){if(x==0)for(;k<=R;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<b;)if(M[x++]=N.charCodeAt(k++),x==this.blockSize){o(this,M),x=0;break}}else for(;k<b;)if(M[x++]=N[k++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=b},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[b++]=this.g[R]>>>M&255;return N};function c(N,b){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=b(N)}function d(N,b){this.h=b;const R=[];let M=!0;for(let x=N.length-1;x>=0;x--){const k=N[x]|0;M&&k==b||(R[x]=k,M=!1)}this.g=R}var g={};function _(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return tt(y(-N));const b=[];let R=1;for(let M=0;N>=R;M++)b[M]=N/R|0,R*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return tt(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=S;for(let k=0;k<N.length;k+=8){var x=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+x),b);x<8?(x=y(Math.pow(b,x)),M=M.j(x).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var S=_(0),O=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(st(this))return-tt(this).m();let N=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(st(this))return"-"+tt(this).toString(N);const b=y(Math.pow(N,6));var R=this;let M="";for(;;){const x=qt(R,b).g;R=dt(R,x.j(b));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=x,W(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=dt(this,N),st(N)?-1:W(N)?0:1};function tt(N){const b=N.g.length,R=[];for(let M=0;M<b;M++)R[M]=~N.g[M];return new d(R,~N.h).add(O)}r.abs=function(){return st(this)?tt(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let x=0;x<=b;x++){let k=M+(this.i(x)&65535)+(N.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);M=I>>>16,k&=65535,I&=65535,R[x]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(N,b){return N.add(tt(b))}r.j=function(N){if(W(this)||W(N))return S;if(st(this))return st(N)?tt(this).j(tt(N)):tt(tt(this).j(N));if(st(N))return tt(this.j(tt(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const b=this.g.length+N.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<N.g.length;x++){const k=this.i(M)>>>16,I=this.i(M)&65535,Wt=N.i(x)>>>16,he=N.i(x)&65535;R[2*M+2*x]+=I*he,mt(R,2*M+2*x),R[2*M+2*x+1]+=k*he,mt(R,2*M+2*x+1),R[2*M+2*x+1]+=I*Wt,mt(R,2*M+2*x+1),R[2*M+2*x+2]+=k*Wt,mt(R,2*M+2*x+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new d(R,0)};function mt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function gt(N,b){this.g=N,this.h=b}function qt(N,b){if(W(b))throw Error("division by zero");if(W(N))return new gt(S,S);if(st(N))return b=qt(tt(N),b),new gt(tt(b.g),tt(b.h));if(st(b))return b=qt(N,tt(b)),new gt(tt(b.g),b.h);if(N.g.length>30){if(st(N)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=b;M.l(N)<=0;)R=Zt(R),M=Zt(M);var x=Vt(R,1),k=Vt(M,1);for(M=Vt(M,2),R=Vt(R,2);!W(M);){var I=k.add(M);I.l(N)<=0&&(x=x.add(R),k=I),M=Vt(M,1),R=Vt(R,1)}return b=dt(N,x.j(b)),new gt(x,b)}for(x=S;N.l(b)>=0;){for(R=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(R),I=k.j(b);st(I)||I.l(N)>0;)R-=M,k=y(R),I=k.j(b);W(k)&&(k=O),x=x.add(k),N=dt(N,I)}return new gt(x,N)}r.B=function(N){return qt(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function Zt(N){const b=N.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function Vt(N,b){const R=b>>5;b%=32;const M=N.g.length-R,x=[];for(let k=0;k<M;k++)x[k]=b>0?N.i(k+R)>>>b|N.i(k+R+1)<<32-b:N.i(k+R);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,sE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ks=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rE,go,aE,Vc,Wd,lE,oE,uE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var it=Array(arguments.length-2),St=2;St<arguments.length;St++)it[St-2]=arguments[St];return m.prototype[U].apply(T,it)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let it=0;it<B;it++)u[v+it]=U[it]}else u.push(U)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new st(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Vt=!1,N=new mt,b=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,x),Wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function G(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function J(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const it=wt(u,m,T,U);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(G(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,U);return null}return v=ul(v),u&&u[he]?u.J(m,v,g(T)?!!T.capture:!1,U):sr(u,m,v,!1,T,U)}function sr(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const it=g(U)?!!U.capture:!!U;let St=rr(u);if(St||(u[Ut]=St=new rt(u)),v=St.add(m,v,T,it,B),v.proxy)return v;if(T=Yr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yr(){function u(v){return m.call(u.src,u.listener,v)}const m=ll;return u}function Kr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Kr(u,m[B],v,T,U);else T=g(T)?!!T.capture:!!T,v=ul(v),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,U),v>-1&&(G(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,U)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rr(m))?(vt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):G(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function ll(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function rr(u){return u=u[Ut],u instanceof rt?u:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(u){return typeof u=="function"?u:(u[ol]||(u[ol]=function(m){return u.handleEvent(m)}),u[ol])}function ye(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ye,M),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Kr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var U=m;m=new x(T,u),et(m,U)}U=!0;let B,it;if(v)for(it=v.length-1;it>=0;it--)B=m.g=v[it],U=as(B,T,!0,m)&&U;if(B=m.g=u,U=as(B,T,!0,m)&&U,U=as(B,T,!1,m)&&U,v)for(it=0;it<v.length;it++)B=m.g=v[it],U=as(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)G(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function as(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const it=m[B];if(it&&!it.da&&it.capture==v){const St=it.listener,de=it.ha||it.src;it.fa&&vt(u.i,it),U=St.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ko(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Ko(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){M.call(this),this.h=u,this.g={}}S(ar,M);var cl=[];function hl(u){J(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),hl(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Ch=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $o(){}function Zo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){x.call(this,"d")}S(Pe,x);function Sn(){x.call(this,"c")}S(Sn,x);var fe={},Jo=null;function $r(){return Jo=Jo||new ye}fe.Ia="serverreachability";function Wo(u){x.call(this,fe.Ia,u)}S(Wo,x);function ti(u){const m=$r();De(m,new Wo(m))}fe.STAT_EVENT="statevent";function lr(u,m){x.call(this,fe.STAT_EVENT,u),this.stat=m}S(lr,x);function _e(u){const m=$r();De(m,new lr(m,u))}fe.Ja="timingevent";function ei(u,m){x.call(this,fe.Ja,u),this.size=m}S(ei,x);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var it="",St=B.split("&");for(let jt=0;jt<St.length;jt++){var de=St[jt].split("=");if(de.length>1){const re=de[0];de=de[1];const In=re.split("_");it=In.length>=2&&In[1]=="type"?it+(re+"="+de+"&"):it+(re+"=redacted&")}}}else it=null;else it=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function tu(u,m,v,T,U,B,it){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+it})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return ls(B)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function cr(){}S(cr,$o),cr.prototype.g=function(){return new XMLHttpRequest},dl=new cr;function Di(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function si(u,m,v){u.M=1,u.A=hr(Te(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=gu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(cl[0]=U.toString()),U=cl);for(let B=0;B<U.length;B++){const it=se(v,U[B],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Gn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||de==7||(de==8||jt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=xh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=iu(this,v),re==Ve){St==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,re,null),li(this,re);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Cl(it),it.P=!0,_e(11))}}else ii(this.i,this.l,v,null),li(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?fu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}finally{}};function xh(u){if(!nu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,bn(this)):Jr(this,this.T-u)};function bn(u){u.j.I==0||u.K||fu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),ps(v);else break t;_r(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&aa(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const re=jt[0];if(!(re<=v.K))if(v.K=re,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const In=jt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const gi=jt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Fn=jt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const vr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var B=T.h;B.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(gl(B,B.h),B.h=null))}if(T.G){const la=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Gt(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var it=u;if(T.na=pu(T,T.L?T.ba:null,T.W),it.L){yl(T.h,it);var St=it,de=T.O;de&&(St.H=de),St.D&&(ai(St),ri(St)),T.g=it}else cu(T);v.i.length>0&&mi(v)}else jt[0]!="stop"&&jt[0]!="close"||pi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?pi(v,7):Rl(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,vl(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),os(this,m[4]),this.h=ci(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ta,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?El:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,au)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let it=0;it<U.length;){const St=U[it++];St=="."?T&&it==U.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&it==U.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?vl(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,v){m instanceof cs?(u.i=m,na(u.i,u.l)):(v||(m=fr(m,us)),u.i=new cs(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function hr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,ru=/[#\?:]/g,El=/[#\?]/g,us=/[#\?@]/g,au=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=cs.prototype,r.add=function(u,m){rn(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){rn(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return rn(u),m=hs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Al(u,m){rn(u);let v=[];if(typeof m=="string")Tl(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=hs(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Di(v);v=Al(this,v);for(let B=0;B<v.length;B++){let it=U;v[B]!==""&&(it+="="+Di(v[B])),u.push(it)}}return this.i=u.join("&")};function ou(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(lu(this,T),ea(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Sl(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function fs(){this.g=new Xo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(hi,$o),hi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(dr,ye),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Hn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},r.Na=function(u){this.g&&(this.response=u,ds(this))},r.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return J(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Gt(u,m,v))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ye);var fi=/^https?$/i,bl=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){pr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bl,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,it]of v)this.g.setRequestHeader(B,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){pr(this,B)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),xi(u)}function wl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},r.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let it=String(u.D).match(su)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!fi.test(it?it.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Gn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",wl(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=eu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),mi(this)};function Rl(u){if(sa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),yr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=hr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}mu(u)}function ps(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function sa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||b(),Vt||(Zt(),Vt=!0),N.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=w(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,U,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),yr(this,v),B&&(this.R?m="headers="+Di(Rn(B))+"&"+m:this.u&&mr(v,this.u,B)),gl(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),gl(u.h,v),si(v,T,m)}function yr(u,m){u.H&&J(u.H,function(v,T){Gt(m,T,v)}),u.l&&J({},function(v,T){Gt(m,T,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=U[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let jt=!0;for(let re=0;re<v;re++){var B=U[re].g;const In=U[re].map;if(B-=St,B<0)St=Math.max(0,U[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var it=In instanceof Map?In:Object.entries(In);for(const[gi,Fn]of it){let Qn=Fn;g(Fn)&&(Qn=ls(Fn)),de.push(B+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw de.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(In)}}if(jt){it=de.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||b(),Vt||(Zt(),Vt=!0),N.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ps(this),hu(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(Te(m)),v.u=null,v.R=!0,Zr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),_r(this),_e(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){aa(u),Cl(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,yl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=$r(),De(T,new ei(T,v)),mi(u)}else cu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),hr(T),U?qn(T.toString(),v):Sl(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),mu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),U&&os(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),yr(u,T),T}function gu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new hi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Rl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,tn.Z.N.call(this)};function _u(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(_u,Pe);function vu(){Sn.call(this),this.status=1}S(vu,Sn);function Mi(u){this.g=u}S(Mi,yu),Mi.prototype.ra=function(){De(this.g,"a")},Mi.prototype.qa=function(u){De(this.g,new _u(u))},Mi.prototype.pa=function(u){De(this.g,new vu)},Mi.prototype.oa=function(){De(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,uE=function(){return new gs},oE=function(){return $r()},lE=fe,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Vc=ur,fl.COMPLETE="complete",aE=fl,Zo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,go=Zo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,rE=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let il="12.3.0";const qr=new vm("@firebase/firestore");function La(){return qr.logLevel}function at(r,...t){if(qr.logLevel<=xt.DEBUG){const i=t.map(Dm);qr.debug(`Firestore (${il}): ${r}`,...i)}}function is(r,...t){if(qr.logLevel<=xt.ERROR){const i=t.map(Dm);qr.error(`Firestore (${il}): ${r}`,...i)}}function Ka(r,...t){if(qr.logLevel<=xt.WARN){const i=t.map(Dm);qr.warn(`Firestore (${il}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,cE(r,a,i)}function cE(r,t,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Ht(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||cE(t,o,a)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class d2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class m2{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xs,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new hE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class p2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new p2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function tm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return zd(o)===zd(c)?Ot(o,c):zd(o)?1:-1}return Ot(r.length,t.length)}const v2=55296,E2=57343;function zd(r){const t=r.charCodeAt(0);return t>=v2&&t<=E2}function Xa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const yv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class le extends Ti{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const T2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ti{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return T2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Fe([yv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(le.fromString(t))}static fromName(t){return new ft(le.fromString(t).popFirst(5))}static empty(){return new ft(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new le(t.slice()))}}function A2(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function S2(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!ft.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ho(r,t){if(!fE(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ho(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ie(0,0))}static max(){return new Et(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function b2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new $s(o,ft.empty(),t)}function w2(r){return new $s(r.readTime,r.key,Co)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(Et.min(),ft.empty(),Co)}static max(){return new $s(Et.max(),ft.empty(),Co)}}function R2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==I2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function N2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function rl(r){return r.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Mm=-1;function uh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function D2(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const dE="";function x2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=O2(r.get(i),t);return Tv(t)}function O2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function Tv(r){return r+dE+""}function Av(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function mE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=M2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Js(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[yE]?.stringValue===gE}function ch(r){const t=r.mapValue.fields[_E];return Vm(t)?ch(t):t}function No(r){const t=Zs(r.mapValue.fields[vE].timestampValue);return new ie(t.seconds,t.nanos)}class V2{constructor(t,i,a,o,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Xc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}const EE="__type__",k2="__max__",Rc={mapValue:{}},TE="__vector__",$c="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:L2(r)?9007199254740991:U2(r)?10:11:yt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),g=Zs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Js(o.bytesValue).isEqual(Js(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Av(d)!==Av(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ci(d[_],g[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function xo(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return bv(r.timestampValue,t.timestampValue);case 4:return bv(No(r),No(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Js(c),_=Js(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Ot(g[y],_[y]);if(A!==0)return A}return Ot(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ot(ge(c.latitude),ge(d.latitude));return g!==0?g:Ot(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[$c]?.arrayValue,A=_[$c]?.arrayValue,S=Ot(y?.values?.length||0,A?.values?.length||0);return S!==0?S:wv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const O=tm(_[S],A[S]);if(O!==0)return O;const Q=$a(g[_[S]],y[A[S]]);if(Q!==0)return Q}return Ot(_.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=Zs(r),a=Zs(t),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=$a(i[o],a[o]);if(c)return c}return Ot(i.length,a.length)}function Za(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Zs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Js(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=em(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${em(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function kc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return Js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return nr(a.fields,((c,d)=>{o+=c.length+kc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function nm(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function U2(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===TE}function Ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ao(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ao(r.arrayValue.values[i]);return t}return{...r}}function L2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===k2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(i)}setAll(t){let i=Fe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ao(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(Ao(this.value))}}function AE(r){const t=[];return nr(r.fields,((i,a)=>{const o=new Fe([i]);if(Uc(a)){const c=AE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new An(t)}class $e{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new $e(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new $e(t,2,i,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function P2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class SE{}class Oe extends SE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new j2(t,i,a):i==="array-contains"?new H2(t,a):i==="in"?new G2(t,a):i==="not-in"?new F2(t,a):i==="array-contains-any"?new Q2(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new B2(t,a):new q2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return bE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(r){return r.op==="and"}function wE(r){return z2(r)&&bE(r)}function z2(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function im(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(wE(r))return r.filters.map((t=>im(t))).join(",");{const t=r.filters.map((i=>im(i))).join(",");return`${r.op}(${t})`}}function RE(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(r,t):r instanceof Ni?(function(a,o){return o instanceof Ni&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&RE(d,o.filters[g])),!0):!1})(r,t):void yt(19439)}function IE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(r):"Filter"}class j2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class B2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=CE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class q2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=CE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function CE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class H2 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&xo(i.arrayValue,this.value)}}class G2 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class F2 extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class Q2 extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xo(this.value.arrayValue,a)))}}class Y2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Dv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Y2(r,t,i,a,o,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!P2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!RE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function sm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K2(r,t,i,a,o,c,d,g){return new hh(r,t,i,a,o,c,d,g)}function fh(r){return new hh(r)}function xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function X2(r){return r.collectionGroup!==null}function So(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Jc(Fe.keyField(),a))}return t.Ie}function bi(r){const t=At(r);return t.Ee||(t.Ee=$2(t,So(r))),t.Ee}function $2(r,t){if(r.limitType==="F")return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function rm(r,t,i){return new hh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return Lm(bi(r),bi(t))&&r.limitType===t.limitType}function NE(r){return`${Um(bi(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>IE(o))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Za(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Za(o))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of So(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Cv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,So(a),o)||a.endAt&&!(function(d,g,_){const y=Cv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,So(a),o))})(r,t)}function Z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DE(r){return(t,i)=>{let a=!1;for(const o of So(r)){const c=J2(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function J2(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?$a(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Fr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const W2=new oe(ft.comparator);function ss(){return W2}const xE=new oe(ft.comparator);function yo(...r){let t=xE;for(const i of r)t=t.insert(i.key,i);return t}function OE(r){let t=xE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return bo()}function ME(){return bo()}function bo(){return new Fr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const tR=new oe(ft.comparator),eR=new Me(ft.comparator);function Mt(...r){let t=eR;for(const i of r)t=t.add(i);return t}const nR=new Me(Ot);function iR(){return nR}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function VE(r){return{integerValue:""+r}}function kE(r,t){return D2(t)?VE(t):Pm(r,t)}class ph{constructor(){this._=void 0}}function sR(r,t,i){return r instanceof Wc?(function(o,c){const d={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=ch(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,t):r instanceof Oo?LE(r,t):r instanceof Mo?PE(r,t):(function(o,c){const d=UE(o,c),g=Ov(d)+Ov(o.Ae);return nm(d)&&nm(o.Ae)?VE(g):Pm(o.serializer,g)})(r,t)}function rR(r,t,i){return r instanceof Oo?LE(r,t):r instanceof Mo?PE(r,t):i}function UE(r,t){return r instanceof Vo?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Wc extends ph{}class Oo extends ph{constructor(t){super(),this.elements=t}}function LE(r,t){const i=zE(t);for(const a of r.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mo extends ph{constructor(t){super(),this.elements=t}}function PE(r,t){let i=zE(t);for(const a of r.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class Vo extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return ge(r.integerValue||r.doubleValue)}function zE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class aR{constructor(t,i){this.field=t,this.transform=i}}function lR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Oo&&o instanceof Oo||a instanceof Mo&&o instanceof Mo?Xa(a.elements,o.elements,Ci):a instanceof Vo&&o instanceof Vo?Ci(a.Ae,o.Ae):a instanceof Wc&&o instanceof Wc})(r.transform,t.transform)}class oR{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function jE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zm(r.key,Jn.none()):new Go(r.key,r.data,Jn.none());{const i=r.data,a=fn.empty();let o=new Me(Fe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ir(r.key,a,new An(o.toArray()),Jn.none())}}function uR(r,t,i){r instanceof Go?(function(o,c,d){const g=o.value.clone(),_=Vv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(o,c,d){if(!Lc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(BE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(r,t,i,a){return r instanceof Go?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=c.value.clone(),A=kv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=kv(c.fieldTransforms,_,d),A=d.data;return A.setAll(BE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function cR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=UE(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Xa(a,o,((c,d)=>lR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Go extends gh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ir extends gh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,rR(d,g,i[o]))}return a}function kv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,sR(c,d,t))}return a}class zm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&uR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ME();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=jE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class jm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return tR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new jm(t,i,a,o)}}class dR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function pR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function qE(r){if(r===void 0)return is("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function gR(){return new TextEncoder}const yR=new Ks([4294967295,4294967295],0);function Uv(r){const t=gR().encode(r),i=new sE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([o,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ks.fromNumber(a)));return o.compare(yR)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Fo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(Et.min(),o,new oe(Ot),ss(),Mt())}}class Fo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Fo(a,i,Mt(),Mt(),Mt())}}class Pc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class HE{constructor(t,i){this.targetId=t,this.Ce=i}}class GE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Fo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _R{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(sm(c))if(a===0){const d=new ft(c.path);this.et(i,d,$e.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Js(a).toUint8Array()}catch(_){if(_ instanceof pE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,o,c)}catch(_){return Ka(_ instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&sm(g.target)){const _=new ft(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new yh(t,i,this.Ye,this.je,a);return this.je=ss(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Ot),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new oe(ft.comparator)}function zv(){return new oe(ft.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class AR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function SR(r,t){return th(r,t.toTimestamp())}function wi(r){return Ht(!!r,49232),Et.fromTimestamp((function(i){const a=Zs(i);return new ie(a.seconds,a.nanos)})(r))}function qm(r,t){return lm(r,t).canonicalString()}function lm(r,t){const i=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function QE(r){const t=le.fromString(r);return Ht(ZE(t),10190,{key:t.toString()}),t}function om(r,t){return qm(r.databaseId,t.path)}function jd(r,t){const i=QE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(KE(i))}function YE(r,t){return qm(r.databaseId,t)}function bR(r){const t=QE(r);return t.length===4?le.emptyPath():KE(t)}function um(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:om(r,t),fields:i.value.mapValue.fields}}function wR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:qE(y.code);return new ut(A,y.message||"")})(d);i=new GE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=jd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):Et.min(),g=new fn({mapValue:{fields:a.document.fields}}),_=$e.newFoundDocument(o,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Pc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=jd(r,a.document),c=a.readTime?wi(a.readTime):Et.min(),d=$e.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=jd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new mR(o,c),g=a.targetId;i=new HE(g,d)}}return i}function RR(r,t){let i;if(t instanceof Go)i={update:jv(r,t.key,t.value)};else if(t instanceof zm)i={delete:om(r,t.key)};else if(t instanceof ir)i={update:jv(r,t.key,t.data),updateMask:kR(t.fieldMask)};else{if(!(t instanceof hR))return yt(16599,{Vt:t.type});i={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:SR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function IR(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(Et.min())&&(d=wi(c)),new oR(d,o.transformResults||[])})(i,t)))):[]}function CR(r,t){return{documents:[YE(r,t.path)]}}function NR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=YE(r,o);const c=(function(y){if(y.length!==0)return $E(Ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:za(O.field),direction:OR(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=am(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function DR(r){let t=bR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=XE(S);return O instanceof Ni&&wE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(W){return new Jc(ja(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,uh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,Q=S.values||[];return new Zc(Q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,Q=S.values||[];return new Zc(Q,O)})(i.endAt)),K2(t,o,d,c,g,"F",_,y)}function xR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ja(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>XE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function OR(r){return vR[r]}function MR(r){return ER[r]}function VR(r){return TR[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Fe.fromServerFormat(r.fieldPath)}function $E(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:MR(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const a=i.getFilters().map((o=>$E(o)));return a.length===1?a[0]:{compositeFilter:{op:VR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function kR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gs{constructor(t,i,a,o,c=Et.min(),d=Et.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class UR{constructor(t){this.yt=t}}function LR(r){const t=DR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}class PR{constructor(){this.Cn=new zR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve($s.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class zR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(le.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(JE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const qv="LruGarbageCollector",jR=1048576;function Hv([r,t],[i,a]){const o=Ot(r,i);return o===0?Ot(t,a):o}class BR{constructor(t){this.Ir=t,this.buffer=new Me(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){rl(i)?at(qv,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Vr(3e5)}))}}class HR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(oh.ce);const a=new BR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),La()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function GR(r,t){return new HR(r,t)}class FR{constructor(){this.changes=new Fr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class QR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class YR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&wo(a.mutation,o,An.empty(),ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const o=Lr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=ss();const d=bo(),g=(function(){return bo()})();return i.forEach(((_,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof ir)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),wo(A.mutation,y,A.mutation.getFieldMask(),ie.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new QR(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=bo();let o=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||An.empty();A=g.applyToLocalView(y,A),a.set(_,A);const S=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=ME();A.forEach((O=>{if(!c.has(O)){const Q=jE(i.get(O),a.get(O));Q!==null&&S.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):X2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(Lr());let g=Co,_=c;return d.next((y=>$.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((A=>({batchId:g,changes:OE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(S,O){return new hh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=yo();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&wo(A.mutation,y,An.empty(),ie.now()),mh(i,y)&&(g=g.insert(_,y))})),g}))}}class KR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:LR(o.bundledQuery),readTime:wi(o.readTime)}})(i)),$.resolve()}}class XR{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=Lr(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Lr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Lr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=o)););return $.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new dR(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class $R{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new le([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new le([])),a=new Le(i,t),o=new Le(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class ZR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Ot);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let g=new Me(Ot);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ss();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ss();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||R2(w2(A),a)<=0||(o.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new WR(this)}getSize(t){return $.resolve(this.size)}}class WR extends FR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class tI{constructor(t){this.persistence=t,this.si=new Fr((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class WE{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=t(this),this.Pi=new tI(this),this.indexManager=new PR,this.remoteDocumentCache=(function(o){return new JR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new UR(i),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new XR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new ZR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new eI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class eI extends C2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Fr((a=>x2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=GR(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(t,i.fromCache,a,o)}}class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class iI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HA()?8:N2(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new nI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(La()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(La()<=xt.DEBUG&&at("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(La()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):$.resolve())}ys(t,i){if(xv(i))return $.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return xv(i)||o.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(La()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(i)),this.vs(t,d,i,b2(o,Co)).next((g=>g)))}))}Ds(t,i){let a=new Me(DE(t));return i.forEach(((o,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return La()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",sI=3e8;class rI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Ot),this.xs=new Fr((c=>Um(c)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function aI(r,t,i,a){return new rI(r,t,i,a)}async function tT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function lI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,O=S.keys();let Q=$.resolve();return O.forEach((W=>{Q=Q.next((()=>A.getEntry(_,W))).next((st=>{const tt=y.docVersions.get(W);Ht(tt!==null,48541),st.version.compareTo(tt)<0&&(S.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),A.addEntry(st)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function eT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function oI(r,t){const i=At(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const O=o.get(S);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),o=o.insert(S,Q),(function(st,tt,dt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=sI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(O,Q,A)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=ss(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(uI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function uI(r,t,i){let a=Mt(),o=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ss();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function cI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function hI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function cm(r,t,i){const a=At(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!rl(d))throw d;at(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Gv(r,t,i){const a=At(r);let o=Et.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=At(_),O=S.xs.get(A);return O!==void 0?$.resolve(S.Ms.get(O)):S.Pi.getTargetData(y,A)})(a,d,bi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Mt()))).next((g=>(fI(a,Z2(t),g),{documents:g,Qs:c})))))}function fI(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=iR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dI{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mI{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function hm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Bd="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=hm(),g=this.zo(t,i.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),A=tl(y);return this.Jo(t,g,_,a,A).then((S=>(at(Bd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ka(Bd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=pI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class yI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class _I extends gI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=hm();return new Promise(((g,_)=>{const y=new rE;y.setWithCredentials(!0),y.listenOnce(aE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const S=y.getResponseJson();at(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Vc.TIMEOUT:at(Ke,`RPC '${t}' ${d} timed out`),_(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const O=y.getStatus();if(at(Ke,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const st=(function(dt){const mt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(mt)>=0?mt:Z.UNKNOWN})(W.status);_(new ut(st,W.message))}else _(new ut(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Ke,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=hm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=uE(),g=oE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");at(Ke,`Creating RPC '${t}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let O=!1,Q=!1;const W=new yI({Yo:tt=>{Q?at(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,tt):(O||(at(Ke,`Opening RPC '${t}' stream ${o} transport.`),S.open(),O=!0),at(Ke,`RPC '${t}' stream ${o} sending:`,tt),S.send(tt))},Zo:()=>S.close()}),st=(tt,dt,mt)=>{tt.listen(dt,(gt=>{try{mt(gt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return st(S,go.EventType.OPEN,(()=>{Q||(at(Ke,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),st(S,go.EventType.CLOSE,(()=>{Q||(Q=!0,at(Ke,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(S))})),st(S,go.EventType.ERROR,(tt=>{Q||(Q=!0,Ka(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),st(S,go.EventType.MESSAGE,(tt=>{if(!Q){const dt=tt.data[0];Ht(!!dt,16349);const mt=dt,gt=mt?.error||mt[0]?.error;if(gt){at(Ke,`RPC '${t}' stream ${o} received error:`,gt);const qt=gt.status;let Zt=(function(b){const R=Re[b];if(R!==void 0)return qE(R)})(qt),Vt=gt.message;Zt===void 0&&(Zt=Z.INTERNAL,Vt="Unknown error status: "+qt+" with message "+gt.message),Q=!0,W.a_(new ut(Zt,Vt)),S.close()}else at(Ke,`RPC '${t}' stream ${o} received:`,dt),W.u_(dt)}})),st(g,lE.STAT_EVENT,(tt=>{tt.stat===Wd.PROXY?at(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):tt.stat===Wd.NOPROXY&&at(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function _h(r){return new AR(r,!0)}class nT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class iT{constructor(t,i,a,o,c,d,g,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vI extends iT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=wR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?wi(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=sm(_)?{documents:CR(c,_)}:{query:NR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=FE(c,d.resumeToken);const y=am(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=am(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=xR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.q_(i)}}class EI extends iT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=IR(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>RR(this.serializer,a)))};this.q_(i)}}class TI{}class AI extends TI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,lm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class bI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qr(this)&&(at(Hr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Qo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Ra=new SI(a,o)}}async function vh(r){if(Qr(r))for(const t of r.da)await t(!0)}async function Qo(r){for(const t of r.da)await t(!1)}function sT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):al(i).O_()&&Km(i,t))}function Ym(r,t){const i=At(r),a=al(i);i.Ia.delete(t),a.O_()&&rT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}al(r).Y_(t)}function rT(r,t){r.Va.Ue(t),al(r).Z_(t)}function Xm(r){r.Va=new _R({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Ra.ua()}function $m(r){return Qr(r)&&!al(r).x_()&&r.Ia.size>0}function Qr(r){return At(r).Ea.size===0}function aT(r){r.Va=void 0}async function wI(r){r.Ra.set("Online")}async function RI(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function II(r,t){aT(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function CI(r,t,i){if(r.Ra.set("Online"),t instanceof GE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){at(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof HE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await eT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),rT(c,_);const S=new Gs(A.target,_,y,A.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Hr,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!rl(t))throw t;r.Ea.add(1),await Qo(r),r.Ra.set("Offline"),i||(i=()=>eT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vh(r)}))}function lT(r,t){return t().catch((i=>nh(r,i,t)))}async function Eh(r){const t=At(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;NI(t);)try{const o=await cI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,DI(t,o)}catch(o){await nh(t,o)}oT(t)&&uT(t)}function NI(r){return Qr(r)&&r.Ta.length<10}function DI(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function oT(r){return Qr(r)&&!tr(r).x_()&&r.Ta.length>0}function uT(r){tr(r).start()}async function xI(r){tr(r).ra()}async function OI(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function MI(r,t,i){const a=r.Ta.shift(),o=jm.from(a,t,i);await lT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Eh(r)}async function VI(r,t){t&&tr(r).X_&&await(async function(a,o){if((function(d){return pR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();tr(a).B_(),await lT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(a)}})(r,t),oT(r)&&uT(r)}async function Xv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Hr,"RemoteStore received new credentials");const a=Qr(i);i.Ea.add(3),await Qo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function kI(r,t){const i=At(r);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Qo(i),i.Ra.set("Unknown"))}function al(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new vI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:wI.bind(null,r),t_:RI.bind(null,r),r_:II.bind(null,r),H_:CI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),aT(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new EI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xI.bind(null,r),r_:VI.bind(null,r),ta:OI.bind(null,r),na:MI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Zm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(is("AsyncQueue",`${t}: ${r}`),rl(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new oe(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,o,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Wa(t,i,Fa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class UI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class LI{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Zv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Zv(){return new Fr((r=>NE(r)),dh)}async function cT(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new UI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function hT(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PI(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function zI(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var fm,Jv;(Jv=fm||(fm={})).Ma="default",Jv.Cache="cache";class fT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class dT{constructor(t){this.key=t}}class mT{constructor(t){this.key=t}}class jI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=DE(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const O=o.get(A),Q=mh(this.query,S)?S:null,W=!!O&&this.mutatedKeys.has(O.key),st=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;O&&Q?O.data.isEqual(Q.data)?W!==st&&(a.track({type:3,doc:Q}),tt=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),tt=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!O&&Q?(a.track({type:0,doc:Q}),tt=!0):O&&!Q&&(a.track({type:1,doc:O}),tt=!0,(_||y)&&(g=!0)),tt&&(Q?(d=d.add(Q),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(Q,W){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:tt})}};return st(Q)-st(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new mT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new dT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class BI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class qI{constructor(t){this.key=t,this.hu=!1}}class HI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fr((g=>NE(g)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GI(r,t,i=!0){const a=ET(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await pT(a,t,i,!0),o}async function FI(r,t){const i=ET(r);await pT(i,t,!0,!1)}async function pT(r,t,i,a){const o=await hI(r.localStore,bi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await QI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&sT(r.remoteStore,o),g}async function QI(r,t,i,a,o){r.pu=(S,O,Q)=>(async function(st,tt,dt,mt){let gt=tt.view.ru(dt);gt.Cs&&(gt=await Gv(st.localStore,tt.query,!1).then((({documents:N})=>tt.view.ru(N,gt))));const qt=mt&&mt.targetChanges.get(tt.targetId),Zt=mt&&mt.targetMismatches.get(tt.targetId)!=null,Vt=tt.view.applyChanges(gt,st.isPrimaryClient,qt,Zt);return t0(st,tt.targetId,Vt.au),Vt.snapshot})(r,S,O,Q);const c=await Gv(r.localStore,t,!0),d=new jI(t,c.Qs),g=d.ru(c.documents),_=Fo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);t0(r,i,y.au);const A=new BI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function YI(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),dm(a,o.targetId)})).catch(sl)):(dm(a,o.targetId),await cm(a.localStore,o.targetId,!0))}async function KI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function XI(r,t,i){const a=nC(r);try{const o=await(function(d,g){const _=At(d),y=ie.now(),A=g.reduce(((Q,W)=>Q.add(W.key)),Mt());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=ss(),st=Mt();return _.Ns.getEntries(Q,A).next((tt=>{W=tt,W.forEach(((dt,mt)=>{mt.isValidDocument()||(st=st.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{S=tt;const dt=[];for(const mt of g){const gt=cR(mt,S.get(mt.key).overlayedDocument);gt!=null&&dt.push(new ir(mt.key,gt,AE(gt.value.mapValue),Jn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,dt,g)})).next((tt=>{O=tt;const dt=tt.applyToLocalDocumentSet(S,st);return _.documentOverlayCache.saveOverlays(Q,tt.batchId,dt)}))})).then((()=>({batchId:O.batchId,changes:OE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Ot)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Yo(a,o.changes),await Eh(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function gT(r,t){const i=At(r);try{const a=await oI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Yo(i,a,t)}catch(a){await sl(a)}}function Wv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=At(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(g)&&(y=!0)})),y&&Wm(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $I(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new oe(ft.comparator);d=d.insert(c,$e.newNoDocument(c,Et.min()));const g=Mt().add(c),_=new yh(Et.min(),new Map,new oe(Ot),d,g);await gT(a,_),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(sl)}async function ZI(r,t){const i=At(r),a=t.batch.batchId;try{const o=await lI(i.localStore,t);_T(i,a,null),yT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yo(i,o)}catch(o){await sl(o)}}async function JI(r,t,i){const a=At(r);try{const o=await(function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ht(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);_T(a,t,i),yT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yo(a,o)}catch(o){await sl(o)}}function yT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function _T(r,t,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function dm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||vT(r,a)}))}function vT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ep(r))}function t0(r,t,i){for(const a of i)a instanceof dT?(r.Ru.addReference(a.key,t),WI(r,a)):a instanceof mT?(at(tp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||vT(r,a.key)):yt(19791,{wu:a})}function WI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(tp,"New document in limbo: "+i),r.Eu.add(a),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(le.fromString(t)),a=r.fu.next();r.Au.set(a,new qI(i)),r.du=r.du.insert(i,a),sT(r.remoteStore,new Gs(bi(fh(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Yo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Fm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(O=>$.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(S,O.targetId,Q))).next((()=>$.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,O.targetId,Q)))))))))}catch(S){if(!rl(S))throw S;at(Qm,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const Q=A.Ms.get(O),W=Q.snapshotVersion,st=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(O,st)}}})(a.localStore,c))}async function tC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(tp,"User change. New user:",t.toKey());const a=await tT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yo(i,a.Ls)}}function eC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function ET(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.Pu.H_=PI.bind(null,t.eventManager),t.Pu.yu=zI.bind(null,t.eventManager),t}function nC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return aI(this.persistence,new iI,t.initialUser,this.serializer)}Cu(t){return new WE(Gm.mi,this.serializer)}Du(t){return new dI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class iC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new qR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new WE((a=>eh.mi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tC.bind(null,this.syncEngine),await kI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LI})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=(function(c){return new _I(c)})(t.databaseInfo);return(function(c,d,g,_){return new AI(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new bI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new mI})())}createSyncEngine(t,i){return(function(o,c,d,g,_,y,A){const S=new HI(o,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Qo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class TT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class sC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),at(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await tT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await rC(r);at(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Xv(t.remoteStore,o))),r._onlineComponents=t}async function rC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(er,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new ih)}}else at(er,"Using default OfflineComponentProvider"),await Hd(r,new iC(void 0));return r._offlineComponents}async function AT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(er,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(at(er,"Using default OnlineComponentProvider"),await e0(r,new mm))),r._onlineComponents}function aC(r){return AT(r).then((t=>t.syncEngine))}async function pm(r){const t=await AT(r),i=t.eventManager;return i.onListen=GI.bind(null,t.syncEngine),i.onUnlisten=YI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=FI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=KI.bind(null,t.syncEngine),i}function lC(r,t,i={}){const a=new Xs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new TT({next:O=>{A.Nu(),d.enqueueAndForget((()=>hT(c,S)));const Q=O.docs.has(g);!Q&&O.fromCache?y.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&_&&_.source==="server"?y.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new fT(fh(g.path),A,{includeMetadataChanges:!0,qa:!0});return cT(c,S)})(await pm(r),r.asyncQueue,t,i,a))),a.promise}function ST(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const bT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}S2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class np{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new f2;switch(a.type){case"firstParty":return new g2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(at("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function oC(r,t,i,a={}){r=Zn(r,np);const o=tl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(v0(`https://${g}`),E0("Firestore",!0)),c.host!==bT&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!zr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=VA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}r._authCredentials=new d2(new hE(y,A))}}class Th{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Th(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ho(i,Ce._jsonSchema))return new Ce(t,a||null,new ft(le.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class ko extends Th{constructor(t,i,a){super(t,i,fh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ft(t))}withConverter(t){return new ko(this.firestore,t,this._path)}}function Nc(r,t,...i){if(r=Je(r),arguments.length===1&&(t=xm.newId()),A2("doc","path",t),r instanceof np){const a=le.fromString(t,...i);return _v(a),new Ce(r,null,new ft(a))}{if(!(r instanceof Ce||r instanceof ko))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return _v(a),new Ce(r.firestore,r instanceof ko?r.converter:null,new ft(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&at(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;at(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Gr extends np{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new a0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function uC(r,t){const i=typeof r=="object"?r:b0(),a=typeof r=="string"?r:Xc,o=Tm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=OA("firestore");c&&oC(o,...c)}return o}function ip(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cC(r),r._firestoreClient}function cC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new V2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ST(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new sC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ho(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ie("string",Ln._jsonSchemaVersion),bytes:Ie("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Sh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Ho(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ho(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),vectorValues:Ie("object")};const hC=/^__.*__$/;class fC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Go(t,this.data,i,this.fieldTransforms)}}class wT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function RT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class sp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RT(this.Ac)&&hC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}Cc(t,i,a,o=!1){return new sp({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(r){const t=r._freezeSettings(),i=_h(r._databaseId);return new dC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function mC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);ap("Data must be an object, but it was:",d,a);const g=CT(a,d);let _,y;if(c.merge)_=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=gm(t,S,i);if(!d.contains(O))throw new ut(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);DT(A,O)||A.push(O)}_=new An(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new fC(new fn(g),_,y)}class bh extends Sh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}class rp extends Sh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Vo(t.serializer,kE(t.serializer,this.Fc));return new aR(t.path,i)}isEqual(t){return t instanceof rp&&this.Fc===t.Fc}}function pC(r,t,i,a){const o=r.Cc(1,t,i);ap("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();nr(a,((_,y)=>{const A=lp(t,_,i);y=Je(y);const S=o.yc(A);if(y instanceof bh)c.push(A);else{const O=wh(y,S);O!=null&&(c.push(A),d.set(A,O))}}));const g=new An(c);return new wT(d,g,o.fieldTransforms)}function gC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[gm(t,a,i)],_=[o];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(gm(t,c[O])),_.push(c[O+1]);const y=[],A=fn.empty();for(let O=g.length-1;O>=0;--O)if(!DT(y,g[O])){const Q=g[O];let W=_[O];W=Je(W);const st=d.yc(Q);if(W instanceof bh)y.push(Q);else{const tt=wh(W,st);tt!=null&&(y.push(Q),A.set(Q,tt))}}const S=new An(y);return new wT(A,S,d.fieldTransforms)}function wh(r,t){if(NT(r=Je(r)))return ap("Unsupported field value:",t,r),CT(r,t);if(r instanceof Sh)return(function(a,o){if(!RT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=wh(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:th(o.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:FE(o.serializer,a._byteString)};if(a instanceof Ce){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:TE},[$c]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Pm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Om(a)}`)})(r,t)}function CT(r,t){const i={};return mE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,o)=>{const c=wh(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function NT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Ln||r instanceof Ce||r instanceof Sh||r instanceof Ii)}function ap(r,t,i){if(!NT(i)||!fE(i)){const a=Om(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function gm(r,t,i){if((t=Je(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return lp(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const yC=new RegExp("[~\\*/\\[\\]]");function lp(r,t,i){if(t.search(yC)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ut(Z.INVALID_ARGUMENT,g+r+_)}function DT(r,t){return r.some((i=>i.isEqual(t)))}class xT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(OT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _C extends xT{data(){return super.data()}}function OT(r,t){return typeof t=="string"?lp(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function vC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EC{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=Zs(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Ht(ZE(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return o.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function TC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends xT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(OT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ie("string",Pr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class zc extends Pr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:AC(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function AC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function SC(r){r=Zn(r,Ce);const t=Zn(r.firestore,Gr);return lC(ip(t),r._key).then((i=>VT(t,r,i)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Ie("string",Qa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class MT extends EC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function bC(r,t,i){r=Zn(r,Ce);const a=Zn(r.firestore,Gr),o=TC(r.converter,t);return op(a,[mC(IT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Jn.none())])}function Gd(r,t,i,...a){r=Zn(r,Ce);const o=Zn(r.firestore,Gr),c=IT(o);let d;return d=typeof(t=Je(t))=="string"||t instanceof Ah?gC(c,"updateDoc",r._key,t,i,a):pC(c,"updateDoc",r._key,t),op(o,[d.toMutation(r._key,Jn.exists(!0))])}function wC(r){return op(Zn(r.firestore,Gr),[new zm(r._key,Jn.none())])}function RC(r,...t){r=Je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof Ce)d=Zn(r.firestore,Gr),g=fh(r._key.path),c={next:_=>{t[a]&&t[a](VT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Zn(r,Th);d=Zn(_.firestore,Gr),g=_._query;const y=new MT(d);c={next:A=>{t[a]&&t[a](new Qa(d,y,_,A))},error:t[a+1],complete:t[a+2]},vC(r._query)}return(function(y,A,S,O){const Q=new TT(O),W=new fT(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>cT(await pm(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>hT(await pm(y),W)))}})(ip(d),g,o,c)}function op(r,t){return(function(a,o){const c=new Xs;return a.asyncQueue.enqueueAndForget((async()=>XI(await aC(a),o,c))),c.promise})(ip(r),t)}function VT(r,t,i){const a=i.docs.get(t._key),o=new MT(r);return new Pr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}function IC(r){return new rp("increment",r)}(function(t,i=!0){(function(o){il=o})(el),Ya(new jr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Gr(new m2(a.getProvider("auth-internal")),new y2(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ys(mv,pv,t),Ys(mv,pv,"esm2020")})();const CC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=r=>{const t=NC(r);return t.charAt(0).toUpperCase()+t.slice(1)},kT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),DC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OC=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>ne.createElement("svg",{ref:_,...xC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:kT("lucide",o),...!c&&!DC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>ne.createElement(y,A)),...Array.isArray(c)?c:[c]]));const nn=(r,t)=>{const i=ne.forwardRef(({className:a,...o},c)=>ne.createElement(OC,{ref:c,iconNode:t,className:kT(`lucide-${CC(u0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=u0(r),i};const MC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],VC=nn("arrow-right",MC);const kC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],UC=nn("gift",kC);const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],PC=nn("info",LC);const zC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jC=nn("log-in",zC);const BC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qC=nn("log-out",BC);const HC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GC=nn("pen-line",HC);const FC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],QC=nn("rotate-ccw",FC);const YC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],KC=nn("save",YC);const XC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$C=nn("share-2",XC);const ZC=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],JC=nn("shuffle",ZC);const WC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],tN=nn("skull",WC);const eN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ym=nn("star",eN);const nN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iN=nn("triangle-alert",nN);const sN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rN=nn("users",sN);const aN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lN=nn("zap",aN),UT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Rh=UT.apiKey!=="_apiKey",LT=Rh?S0(UT):null,mo=Rh?c2(LT):null,po=Rh?uC(LT):null,c0=["","","","","","","","","","","","","",""," 10 "],h0=({message:r,onClose:t})=>(ne.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),z.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%]",children:z.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl border border-slate-600 flex items-center gap-2",children:[z.jsx(PC,{size:18,className:"text-blue-400 shrink-0"}),z.jsx("span",{className:"font-bold text-sm md:text-base",children:r})]})})),f0=ne.memo(()=>{const r=ne.useRef(null);return ne.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.15)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.y>t.height&&(g.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),z.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Ur=({children:r,className:t=""})=>z.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),Xi=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},_={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return z.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${_[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},oN=({receiverUid:r,receiverName:t,roomData:i,vote:a,submitGiftDescription:o,currentUserId:c})=>{const d=i.resultMapping[r],g=i.participants[d]||"",_=i.matchDetails[r]||{giftName:"",ratings:{}},A=(_.ratings||{})[c]||1,[S,O]=ne.useState(_.giftName),[Q,W]=ne.useState(!1);ne.useEffect(()=>{_.giftName&&!S&&O(_.giftName)},[_.giftName]);const st=async()=>{W(!0),await o(r,S),W(!1)};return z.jsxs(Ur,{className:"p-5 mb-4 border border-white/5",children:[z.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-white/10 pb-3",children:[z.jsxs("div",{className:"text-lg text-slate-300",children:[" ",z.jsx("span",{className:"font-bold text-white text-xl",children:g}),"  ",t]}),z.jsxs("div",{className:"flex flex-col items-end",children:[z.jsx("span",{className:"text-5xl font-black text-slate-500 animate-pulse",children:"?"}),z.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-widest",children:""})]})]}),z.jsxs("div",{className:"flex gap-2 mb-5",children:[z.jsx("input",{type:"text",className:"flex-1 bg-slate-950/50 border-b-2 border-slate-600 p-3 text-lg outline-none focus:border-purple-500 text-white placeholder-slate-600 transition-colors rounded-t-lg",placeholder:"...",value:S,onChange:tt=>O(tt.target.value)}),z.jsx("button",{onClick:st,className:"bg-slate-700 hover:bg-purple-600 text-white px-4 rounded-lg flex items-center gap-1 transition-colors",disabled:Q,children:z.jsx(KC,{size:20})})]}),z.jsxs("div",{className:"bg-slate-950/40 p-3 rounded-xl",children:[z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[z.jsxs("span",{className:"text-sm text-slate-400 flex items-center gap-1",children:[z.jsx(ym,{size:14,className:"text-yellow-500"})," "]}),z.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:[A," ",z.jsx("span",{className:"text-sm font-normal text-slate-500",children:""})]})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("button",{onClick:()=>a(r,-1),className:"flex-1 h-12 rounded-lg bg-slate-700 text-slate-300 flex items-center justify-center hover:bg-slate-600 text-2xl font-bold active:scale-95",children:"-"}),z.jsx("button",{onClick:()=>a(r,1),className:"flex-1 h-12 rounded-lg bg-red-600 text-white flex items-center justify-center hover:bg-red-500 active:scale-95 transition-transform shadow-lg shadow-red-900/50 text-2xl font-bold",children:"+"})]})]})]})},uN=()=>{const[r,t]=ne.useState(null),[i,a]=ne.useState(""),[o,c]=ne.useState(""),[d,g]=ne.useState(null),[_,y]=ne.useState(!1),[A,S]=ne.useState(!0),[O,Q]=ne.useState(null),[W,st]=ne.useState(""),[tt,dt]=ne.useState(""),mt=G=>{Q(G)};if(!Rh)return z.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:z.jsxs("div",{className:"max-w-md",children:[z.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),z.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});ne.useEffect(()=>{const G=async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await Xb(mo,__initial_auth_token)}catch(J){console.error(J)}else try{await Gb(mo)}catch(J){console.error(J)}};if(mo){G();const J=Jb(mo,ht=>{t(ht),S(!1)});return()=>J()}else S(!1)},[]),ne.useEffect(()=>{if(r&&!_){const G=localStorage.getItem("xmas_last_room_id");G&&a(G)}},[r]),ne.useEffect(()=>{if(!r||!i||!po)return;const G=Nc(po,"xmas_rooms",`room_${i}`),J=RC(G,ht=>{if(ht.exists()){const w=ht.data();if(g(w),w.participants&&w.participants[r.uid]&&(y(!0),c(w.participants[r.uid]),w.phase==="rule-entry")){const H=w.rules.find(et=>et.uid===r.uid);H&&H.text&&st(H.text)}if(w.hostId===r.uid){const H=Object.keys(w.participants).length;w.phase==="rule-entry"&&H>1&&w.rules.filter(rt=>rt.text&&rt.text.trim()!=="").length===H&&R("game-playing",w),w.phase==="result-entry"&&H>1&&Object.keys(w.resultMapping||{}).length===H&&R("voting",w)}}else g(null)});return()=>J()},[r,i]);const gt=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await Wb(mo),window.location.reload())},qt=async()=>{if(!confirm(""))return;const G=Nc(po,"xmas_rooms",`room_${i}`),J={...d.participants};if(delete J[r.uid],Object.keys(J).length===0)await wC(G),mt(" ");else{let ht={participants:J};d.hostId===r.uid&&(ht.hostId=Object.keys(J)[0]),await Gd(G,ht)}localStorage.removeItem("xmas_last_room_id"),window.location.reload()},Zt=async()=>{const G=i.toString().trim(),J=o.trim();if(!G||!J){mt("");return}a(G),c(J);const ht=Nc(po,"xmas_rooms",`room_${G}`);try{const w=await SC(ht);if(!w.exists())await bC(ht,{hostId:r.uid,phase:"entry",participants:{[r.uid]:J},rules:[],currentRuleIndex:0,resultMapping:{},matchDetails:{},punishment:"",createdAt:new Date().toISOString()});else{const H=w.data();if(H.phase!=="entry"&&!H.participants[r.uid]){mt("");return}await Gd(ht,{[`participants.${r.uid}`]:J})}localStorage.setItem("xmas_last_room_id",G),y(!0)}catch{mt("")}},Vt=()=>{const G=` 
${window.location.href}
${i}`,J=document.createElement("textarea");J.value=G,J.style.position="fixed",J.style.left="-9999px",document.body.appendChild(J),J.focus(),J.select();try{document.execCommand("copy"),mt(" ")}catch{alert(`

${G}`)}document.body.removeChild(J)},N=async G=>{if(!i)return;const J=Nc(po,"xmas_rooms",`room_${i}`);await Gd(J,G)},b=()=>{const G=c0[Math.floor(Math.random()*c0.length)];st(G)},R=async(G,J=d)=>{if(!J)return;let ht={phase:G};if(G==="rule-entry"&&J.phase==="entry"){const H=Object.keys(J.participants).map(et=>({uid:et,authorName:J.participants[et],text:""}));ht.rules=H}if(G==="game-playing"&&J.phase==="rule-entry"){const w=[...J.rules];for(let H=w.length-1;H>0;H--){const et=Math.floor(Math.random()*(H+1));[w[H],w[et]]=[w[et],w[H]]}ht.rules=w,ht.currentRuleIndex=0}if(G==="result-entry"&&(ht.resultMapping={}),G==="voting"){const w={};Object.keys(J.participants).forEach(H=>{w[H]={giftName:"",ratings:{}}}),ht.matchDetails=w}await N(ht)},M=async()=>{if(!W.trim())return;const G=d.rules.findIndex(ht=>ht.uid===r.uid);if(G===-1)return;const J=[...d.rules];J[G].text=W,await N({rules:J}),mt("...")},x=async()=>{d.currentRuleIndex<d.rules.length-1?await N({currentRuleIndex:IC(1)}):R("result-entry")},k=async()=>{tt&&(await N({[`resultMapping.${r.uid}`]:tt}),mt("..."))},I=async(G,J)=>{await N({[`matchDetails.${G}.giftName`]:J}),mt("")},Wt=async(G,J)=>{let et=(((d.matchDetails[G]||{}).ratings||{})[r.uid]||1)+J;et=Math.max(1,Math.min(10,et)),await N({[`matchDetails.${G}.ratings.${r.uid}`]:et})},he=async()=>{const G=["","+","","","","","",""],J=G[Math.floor(Math.random()*G.length)];await N({punishment:J})};if(A)return z.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!_)return z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[z.jsx(f0,{}),O&&z.jsx(h0,{message:O,onClose:()=>Q(null)}),z.jsxs(Ur,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[z.jsx("div",{className:"flex justify-center mb-6",children:z.jsx("div",{className:"p-5 bg-purple-500/20 rounded-full",children:z.jsx(UC,{size:64,className:"text-purple-300"})})}),z.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),z.jsx("p",{className:"text-slate-400 mb-10 text-base uppercase tracking-widest",children:"Party Online"}),z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"text-left",children:[z.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),z.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:G=>c(G.target.value)})]}),z.jsxs("div",{className:"text-left",children:[z.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),z.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:G=>a(G.target.value)})]}),z.jsxs(Xi,{onClick:Zt,size:"lg",className:"w-full mt-6 shadow-purple-900/50 text-xl py-5",children:[z.jsx(jC,{size:24})," "]}),z.jsx("div",{className:"pt-8 border-t border-white/5",children:z.jsxs("button",{onClick:gt,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[z.jsx(QC,{size:14}),"  ()"]})})]})]})]});if(!d)return z.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const F=r.uid===d.hostId,nt=Object.entries(d.participants).sort((G,J)=>G[0].localeCompare(J[0]));return z.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20",children:[z.jsx(f0,{}),O&&z.jsx(h0,{message:O,onClose:()=>Q(null)}),z.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg p-4",children:[z.jsxs("div",{className:"flex justify-between items-center mb-3",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsxs("div",{className:"bg-purple-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-lg shadow-purple-500/30",children:["Room ",i]}),z.jsx("span",{className:"font-bold truncate max-w-[140px] text-slate-200 text-lg",children:o})]}),z.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-full",children:[z.jsx(rN,{size:16})," ",nt.length]})]}),z.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:nt.map(([G,J])=>z.jsxs("span",{className:`shrink-0 px-4 py-1.5 rounded-full text-sm border flex items-center gap-1 transition-all ${G===r.uid?"bg-purple-500/20 border-purple-500/50 text-purple-200":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[G===d.hostId&&z.jsx("span",{className:"text-yellow-400",children:""}),J]},G))})]}),z.jsxs("main",{className:"relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 mt-4",children:[d.phase==="entry"&&z.jsx("div",{className:"animate-fade-in space-y-8",children:z.jsxs(Ur,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[z.jsx("h2",{className:"text-3xl font-bold mb-3",children:""}),z.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"Waiting for players..."}),z.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:nt.map(([G,J])=>z.jsx("span",{className:"bg-slate-800 text-slate-200 px-5 py-3 rounded-2xl text-lg font-bold border border-slate-700",children:J},G))}),z.jsx("div",{className:"mb-8",children:z.jsxs(Xi,{onClick:Vt,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40 py-4",children:[z.jsx($C,{size:22})," "]})}),F?z.jsxs(Xi,{onClick:()=>R("rule-entry"),size:"lg",className:"w-full shadow-emerald-900/50 text-2xl py-6",children:[" ",z.jsx(VC,{})]}):z.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})}),d.phase==="rule-entry"&&z.jsxs("div",{className:"animate-fade-in space-y-8",children:[z.jsxs(Ur,{children:[z.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[z.jsx(GC,{className:"text-purple-400",size:28})," "]}),z.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),z.jsx("div",{className:"mb-6",children:z.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-purple-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:W,onChange:G=>st(G.target.value),disabled:d.rules.find(G=>G.uid===r.uid)?.text!==""})}),z.jsx("div",{className:"flex justify-end mb-8",children:z.jsxs("button",{onClick:b,disabled:d.rules.find(G=>G.uid===r.uid)?.text!=="",className:"text-sm text-purple-300 flex items-center gap-2 hover:text-white transition-colors bg-purple-500/10 px-4 py-2 rounded-full border border-purple-500/20",children:[z.jsx(JC,{size:16})," "]})}),z.jsx(Xi,{onClick:M,className:"w-full text-xl py-5",disabled:!W,children:d.rules.find(G=>G.uid===r.uid)?.text!==""?"...":""})]}),z.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(G=>G.text).length," / ",nt.length]})]}),d.phase==="game-playing"&&z.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[z.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full",children:[z.jsxs("div",{className:"flex justify-between text-sm mb-3 px-3",children:[z.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),z.jsxs("span",{children:["Total ",d.rules.length]})]}),z.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:z.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),z.jsxs(Ur,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[z.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),z.jsx("div",{className:"mb-8",children:z.jsxs("span",{className:"bg-slate-800 text-slate-300 px-5 py-2 rounded-full text-sm font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),z.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),F&&z.jsx("div",{className:"mt-10 w-full",children:z.jsx(Xi,{onClick:x,size:"lg",className:"w-full text-2xl py-6",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="result-entry"&&z.jsxs("div",{className:"animate-fade-in space-y-8",children:[z.jsxs(Ur,{className:"border-t-4 border-t-blue-500 py-10",children:[z.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:" "}),z.jsxs("div",{className:"space-y-6",children:[z.jsxs("select",{className:"w-full p-5 bg-slate-800 border border-slate-600 rounded-2xl text-xl text-white focus:border-blue-500 outline-none appearance-none",value:tt,onChange:G=>dt(G.target.value),children:[z.jsx("option",{value:"",children:"..."}),nt.map(([G,J])=>z.jsxs("option",{value:G,children:[J," "]},G))]}),z.jsx(Xi,{onClick:k,className:"w-full bg-blue-600 border-blue-400 hover:bg-blue-500 text-xl py-5",children:""})]})]}),z.jsxs("div",{className:"text-center",children:[z.jsx("h3",{className:"text-sm text-slate-500 mb-3",children:""}),z.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Object.keys(d.resultMapping).map(G=>z.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-xs px-3 py-1.5 rounded-full border border-blue-500/30",children:d.participants[G]},G))})]})]}),d.phase==="voting"&&z.jsxs("div",{className:"animate-fade-in space-y-6 pb-20",children:[z.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[z.jsx(iN,{className:"text-yellow-500 shrink-0 mt-1",size:24}),z.jsxs("div",{children:[z.jsx("h2",{className:"text-lg font-bold text-yellow-500",children:""}),z.jsx("p",{className:"text-sm text-yellow-200/70 mt-1",children:" + "})]})]}),nt.map(([G,J])=>z.jsx(oN,{receiverUid:G,receiverName:J,roomData:d,vote:Wt,submitGiftDescription:I,currentUserId:r.uid},G)),F&&z.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:z.jsx(Xi,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:()=>R("result"),children:"  "})})]}),d.phase==="result"&&z.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[z.jsxs("div",{className:"text-center mb-10",children:[z.jsxs("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[z.jsx(ym,{fill:"currentColor",size:40}),"  ",z.jsx(ym,{fill:"currentColor",size:40})]}),z.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),nt.map(([G])=>{const J=d.matchDetails[G]||{ratings:{}},ht=Object.values(J.ratings||{}).reduce((w,H)=>w+H,0);return{uid:G,...J,totalScore:ht,giverName:d.participants[d.resultMapping[G]]}}).sort((G,J)=>J.totalScore-G.totalScore).slice(0,3).map((G,J)=>z.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${J===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[J===0&&z.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),z.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${J===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":J===1?"bg-slate-500":"bg-amber-700"}`,children:["#",J+1]}),z.jsxs("div",{className:"flex-1 min-w-0",children:[z.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:G.giverName}),z.jsx("div",{className:"text-base text-slate-400 truncate",children:G.giftName||""})]}),z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-4xl font-black text-red-500",children:G.totalScore}),z.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},G.uid)),z.jsxs(Ur,{className:"bg-red-950/50 border-red-900/50 text-center mt-10 backdrop-blur-sm py-10",children:[z.jsxs("h3",{className:"text-2xl font-bold text-red-400 mb-6 flex justify-center items-center gap-3",children:[z.jsx(tN,{size:28})," "]}),z.jsx("div",{className:"text-3xl md:text-4xl font-black text-white mb-8 px-6 leading-tight bg-black/20 py-6 rounded-2xl border border-white/5",children:d.punishment}),F&&z.jsxs(Xi,{variant:"neutral",size:"lg",onClick:he,className:"mx-auto bg-slate-800 text-slate-300 border-slate-700",children:[z.jsx(lN,{size:20})," "]})]}),z.jsx("div",{className:"text-center mt-12",children:z.jsxs(Xi,{variant:"secondary",onClick:qt,className:"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white px-10",children:[z.jsx(qC,{size:20})," "]})})]})]}),z.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};SA.createRoot(document.getElementById("root")).render(z.jsx(ne.StrictMode,{children:z.jsx(uN,{})}));
