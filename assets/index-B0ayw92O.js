(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Sd={exports:{}},fl={};var S_;function fA(){if(S_)return fl;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var b_;function dA(){return b_||(b_=1,Sd.exports=fA()),Sd.exports}var H=dA(),bd={exports:{}},Et={};var w_;function mA(){if(w_)return Et;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function F(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function dt(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},dt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function gt(){}gt.prototype=dt.prototype;function ht(M,Y,et){this.props=M,this.context=Y,this.refs=J,this.updater=et||$}var Ht=ht.prototype=new gt;Ht.constructor=ht,nt(Ht,dt.prototype),Ht.isPureReactComponent=!0;var Wt=Array.isArray;function Vt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(M,Y,et){var st=et.ref;return{$$typeof:r,type:M,key:Y,ref:st!==void 0?st:null,props:et}}function V(M,Y){return C(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function R(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return Y[et]})}var S=/\/+/g;function at(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):Y.toString(36)}function bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Vt,Vt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,Y,et,st,_t){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(wt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case r:case t:Lt=!0;break;case A:return Lt=M._init,q(Lt(M._payload),Y,et,st,_t)}}if(Lt)return _t=_t(M),Lt=st===""?"."+at(M,0):st,Wt(_t)?(et="",Lt!=null&&(et=Lt.replace(S,"$&/")+"/"),q(_t,Y,et,"",function(rr){return rr})):_t!=null&&(D(_t)&&(_t=V(_t,et+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(S,"$&/")+"/")+Lt)),Y.push(_t)),1;Lt=0;var Ce=st===""?".":st+":";if(Wt(M))for(var se=0;se<M.length;se++)st=M[se],wt=Ce+at(st,se),Lt+=q(st,Y,et,wt,_t);else if(se=F(M),typeof se=="function")for(M=se.call(M),se=0;!(st=M.next()).done;)st=st.value,wt=Ce+at(st,se++),Lt+=q(st,Y,et,wt,_t);else if(wt==="object"){if(typeof M.then=="function")return q(bt(M),Y,et,st,_t);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function tt(M,Y,et){if(M==null)return M;var st=[],_t=0;return q(M,st,"","",function(wt){return Y.call(et,wt,_t++)}),st}function ut(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:tt,forEach:function(M,Y,et){tt(M,function(){Y.apply(this,arguments)},et)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=w,Et.Children=Ft,Et.Component=dt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ht,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,Y,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=nt({},M.props),_t=M.key;if(Y!=null)for(wt in Y.key!==void 0&&(_t=""+Y.key),Y)!b.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(st[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)st.children=et;else if(1<wt){for(var Lt=Array(wt),Ce=0;Ce<wt;Ce++)Lt[Ce]=arguments[Ce+2];st.children=Lt}return C(M.type,_t,st)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,Y,et){var st,_t={},wt=null;if(Y!=null)for(st in Y.key!==void 0&&(wt=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(_t[st]=Y[st]);var Lt=arguments.length-2;if(Lt===1)_t.children=et;else if(1<Lt){for(var Ce=Array(Lt),se=0;se<Lt;se++)Ce[se]=arguments[se+2];_t.children=Ce}if(M&&M.defaultProps)for(st in Lt=M.defaultProps,Lt)_t[st]===void 0&&(_t[st]=Lt[st]);return C(M,wt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=D,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ut}},Et.memo=function(M,Y){return{$$typeof:y,type:M,compare:Y===void 0?null:Y}},Et.startTransition=function(M){var Y=N.T,et={};N.T=et;try{var st=M(),_t=N.S;_t!==null&&_t(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Vt,Ut)}catch(wt){Ut(wt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),N.T=Y}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(M){return N.H.use(M)},Et.useActionState=function(M,Y,et){return N.H.useActionState(M,Y,et)},Et.useCallback=function(M,Y){return N.H.useCallback(M,Y)},Et.useContext=function(M){return N.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,Y){return N.H.useDeferredValue(M,Y)},Et.useEffect=function(M,Y){return N.H.useEffect(M,Y)},Et.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(M,Y,et){return N.H.useImperativeHandle(M,Y,et)},Et.useInsertionEffect=function(M,Y){return N.H.useInsertionEffect(M,Y)},Et.useLayoutEffect=function(M,Y){return N.H.useLayoutEffect(M,Y)},Et.useMemo=function(M,Y){return N.H.useMemo(M,Y)},Et.useOptimistic=function(M,Y){return N.H.useOptimistic(M,Y)},Et.useReducer=function(M,Y,et){return N.H.useReducer(M,Y,et)},Et.useRef=function(M){return N.H.useRef(M)},Et.useState=function(M){return N.H.useState(M)},Et.useSyncExternalStore=function(M,Y,et){return N.H.useSyncExternalStore(M,Y,et)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.1",Et}var R_;function gm(){return R_||(R_=1,bd.exports=mA()),bd.exports}var Oe=gm(),wd={exports:{}},dl={},Rd={exports:{}},Id={};var I_;function gA(){return I_||(I_=1,(function(r){function t(q,tt){var ut=q.length;q.push(tt);t:for(;0<ut;){var Ut=ut-1>>>1,Ft=q[Ut];if(0<l(Ft,tt))q[Ut]=tt,q[ut]=Ft,ut=Ut;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var tt=q[0],ut=q.pop();if(ut!==tt){q[0]=ut;t:for(var Ut=0,Ft=q.length,M=Ft>>>1;Ut<M;){var Y=2*(Ut+1)-1,et=q[Y],st=Y+1,_t=q[st];if(0>l(et,ut))st<Ft&&0>l(_t,et)?(q[Ut]=_t,q[st]=ut,Ut=st):(q[Ut]=et,q[Y]=ut,Ut=Y);else if(st<Ft&&0>l(_t,ut))q[Ut]=_t,q[st]=ut,Ut=st;else break t}}return tt}function l(q,tt){var ut=q.sortIndex-tt.sortIndex;return ut!==0?ut:q.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,w=null,x=3,F=!1,$=!1,nt=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ht(q){for(var tt=i(y);tt!==null;){if(tt.callback===null)a(y);else if(tt.startTime<=q)a(y),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(y)}}function Wt(q){if(nt=!1,Ht(q),!$)if(i(_)!==null)$=!0,Vt||(Vt=!0,R());else{var tt=i(y);tt!==null&&bt(Wt,tt.startTime-q)}}var Vt=!1,N=-1,b=5,C=-1;function V(){return J?!0:!(r.unstable_now()-C<b)}function D(){if(J=!1,Vt){var q=r.unstable_now();C=q;var tt=!0;try{t:{$=!1,nt&&(nt=!1,gt(N),N=-1),F=!0;var ut=x;try{e:{for(Ht(q),w=i(_);w!==null&&!(w.expirationTime>q&&V());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,x=w.priorityLevel;var Ft=Ut(w.expirationTime<=q);if(q=r.unstable_now(),typeof Ft=="function"){w.callback=Ft,Ht(q),tt=!0;break e}w===i(_)&&a(_),Ht(q)}else a(_);w=i(_)}if(w!==null)tt=!0;else{var M=i(y);M!==null&&bt(Wt,M.startTime-q),tt=!1}}break t}finally{w=null,x=ut,F=!1}tt=void 0}}finally{tt?R():Vt=!1}}}var R;if(typeof ht=="function")R=function(){ht(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,at=S.port2;S.port1.onmessage=D,R=function(){at.postMessage(null)}}else R=function(){dt(D,0)};function bt(q,tt){N=dt(function(){q(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ut=x;x=tt;try{return q()}finally{x=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ut=x;x=q;try{return tt()}finally{x=ut}},r.unstable_scheduleCallback=function(q,tt,ut){var Ut=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ut+ut:Ut):ut=Ut,q){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ut+Ft,q={id:A++,callback:tt,priorityLevel:q,startTime:ut,expirationTime:Ft,sortIndex:-1},ut>Ut?(q.sortIndex=ut,t(y,q),i(_)===null&&q===i(y)&&(nt?(gt(N),N=-1):nt=!0,bt(Wt,ut-Ut))):(q.sortIndex=Ft,t(_,q),$||F||($=!0,Vt||(Vt=!0,R()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var tt=x;return function(){var ut=x;x=tt;try{return q.apply(this,arguments)}finally{x=ut}}}})(Id)),Id}var C_;function pA(){return C_||(C_=1,Rd.exports=gA()),Rd.exports}var Cd={exports:{}},Ke={};var N_;function yA(){if(N_)return Ke;N_=1;var r=gm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ke.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:F}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:x,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.1",Ke}var D_;function _A(){if(D_)return Cd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=yA(),Cd.exports}var O_;function vA(){if(O_)return dl;O_=1;var r=pA(),t=gm(),i=_A();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function R(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Vt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ht:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:at(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return at(e(n))}catch{}}return null}var bt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function M(e){return{current:e}}function Y(e){0>Ft||(e.current=Ut[Ft],Ut[Ft]=null,Ft--)}function et(e,n){Ft++,Ut[Ft]=e.current,e.current=n}var st=M(null),_t=M(null),wt=M(null),Lt=M(null);function Ce(e,n){switch(et(wt,n),et(_t,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function se(){Y(st),Y(_t),Y(wt)}function rr(e){e.memoizedState!==null&&et(Lt,e);var n=st.current,s=Ky(n,e.type);n!==s&&(et(_t,e),et(st,s))}function Qr(e){_t.current===e&&(Y(st),Y(_t)),Lt.current===e&&(Y(Lt),ll._currentValue=ut)}var Kr,Yr;function $n(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Yr}var oo=!1;function ar(e,n){if(!e||oo)return"";oo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function lo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return $n("Activity");default:return""}}function uo(e){try{var n="",s=null;do n+=lo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,bh=r.unstable_shouldYield,Gl=r.unstable_requestPaint,Je=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,co=r.unstable_ImmediatePriority,ho=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Fl=r.unstable_IdlePriority,Ql=r.log,Kl=r.unstable_setDisableYieldValue,kn=null,Pe=null;function An(e){if(typeof Ql=="function"&&Kl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(kn,e)}catch{}}var he=Math.clz32?Math.clz32:Xl,Yl=Math.log,Xr=Math.LN2;function Xl(e){return e>>>=0,e===0?32:31-(Yl(e)/Xr|0)|0}var Jn=256,lr=262144,ye=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):s||(s=E&~e,s!==0&&(h=Wn(s))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):s||(s=o&~e,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),K=1<<G;E[G]=0,I[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}s&=~K}o!==0&&cr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function cr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function fo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function mo(e,n){var s=n&-n;return s=(s&42)!==0?1:hr(s),(s&(e.suspendedLanes|n))!==0?0:s}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Pn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Ve="__reactProps$"+zn,ni="__reactContainer$"+zn,Zr="__reactEvents$"+zn,Ch="__reactListeners$"+zn,Jl="__reactHandles$"+zn,Wl="__reactResources$"+zn,ii="__reactMarker$"+zn;function $r(e){delete e[_e],delete e[Ve],delete e[Zr],delete e[Ch],delete e[Jl]}function si(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[_e])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[_e]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ri(e){var n=e[Wl];return n||(n=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ii]=!0}var go=new Set,po={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(po[e]=n,e=0;e<n.length;e++)go.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function tu(e){return pe.call(vo,e)?!0:pe.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function Jr(e,n,s){if(tu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dr=/[\n"\\]/g;function nn(e){return e.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,Ue(n)):s!=null?To(e,g,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function eu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function To(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(bt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||iu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function So(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var bo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ui=null;function mr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Wr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&fr(o)}break t;case"textarea":nu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var na=!1;function hs(e,n,s){if(na)return e(n,s);na=!0;try{var o=e(n);return o}finally{if(na=!1,(cs!==null||ui!==null)&&($u(),cs&&(n=cs,e=ui,ui=cs=null,mr(n),e)))for(n=0;n<e.length;n++)mr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{gr=!1}var ci=null,wo=null,pr=null;function Ro(){if(pr)return pr;var e,n=wo,s=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function yr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function qn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ze(xi),fs=w({},xi,{view:0,detail:0}),Io=ze(fs),ds,ia,fi,sa=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(ds=e.screenX-fi.screenX,ia=e.screenY-fi.screenY):ia=ds=0,fi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Co=ze(sa),_r=w({},sa,{dataTransfer:0}),ru=ze(_r),au=w({},fs,{relatedTarget:0}),vr=ze(au),No=w({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=ze(No),ra=w({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lu=ze(ra),uu=w({},xi,{data:0}),di=ze(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function ms(){return du}var We=w({},fs,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=ze(We),gu=w({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(gu),u=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),v=w({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),k=w({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(k),W=w({},xi,{newState:0,oldState:0}),At=ze(W),fe=[9,13,27,32],Bt=wn&&"CompositionEvent"in window,re=null;wn&&"documentMode"in document&&(re=document.documentMode);var Rn=wn&&"TextEvent"in window&&!re,mi=wn&&(!Bt||re&&8<re&&11>=re),Hn=" ",Gn=!1;function Er(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function kT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function LT(e,n){if(oa)return e==="compositionend"||!Bt&&Er(e,n)?(e=Ro(),pr=wo=ci=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function sg(e,n,s,o){cs?ui?ui.push(o):ui=[o]:cs=o,n=sc(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Do=null,Oo=null;function zT(e){jy(e,0)}function pu(e){var n=fn(e);if(fr(n))return e}function rg(e,n){if(e==="change")return n}var ag=!1;if(wn){var Nh;if(wn){var Dh="oninput"in document;if(!Dh){var og=document.createElement("div");og.setAttribute("oninput","return;"),Dh=typeof og.oninput=="function"}Nh=Dh}else Nh=!1;ag=Nh&&(!document.documentMode||9<document.documentMode)}function lg(){Do&&(Do.detachEvent("onpropertychange",ug),Oo=Do=null)}function ug(e){if(e.propertyName==="value"&&pu(Oo)){var n=[];sg(n,Oo,e,bn(e)),hs(zT,n)}}function jT(e,n,s){e==="focusin"?(lg(),Do=n,Oo=s,Do.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Oo)}function qT(e,n){if(e==="click")return pu(n)}function HT(e,n){if(e==="input"||e==="change")return pu(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:GT;function Mo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var s=cg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cg(s)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function Oh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=wn&&"documentMode"in document&&11>=document.documentMode,la=null,Mh=null,xo=null,xh=!1;function mg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||la==null||la!==li(o)||(o=la,"selectionStart"in o&&Oh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Mo(xo,o)||(xo=o,o=sc(Mh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=la)))}function Tr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Vh={},gg={};wn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Ar(e){if(Vh[e])return Vh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gg)return Vh[e]=n[s];return e}var pg=Ar("animationend"),yg=Ar("animationiteration"),_g=Ar("animationstart"),QT=Ar("transitionrun"),KT=Ar("transitionstart"),YT=Ar("transitioncancel"),vg=Ar("transitionend"),Eg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Fn(e,n){Eg.set(e,n),ai(n,[e])}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ca=0,kh=0;function _u(){for(var e=ca,n=kh=ca=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Tg(s,h,f)}}function vu(e,n,s,o){In[ca++]=e,In[ca++]=n,In[ca++]=s,In[ca++]=o,kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,n,s,o){return vu(e,n,s,o),Eu(e)}function Sr(e,n){return vu(e,null,null,n),Eu(e)}function Tg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Eu(e){if(50<el)throw el=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new XT(e,n,s,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=tA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return br(s.children,h,f,n);case J:g=8,h|=24;break;case dt:return e=gn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Wt:return e=gn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Vt:return e=gn(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case gt:g=9;break t;case Ht:g=11;break t;case N:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function br(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function zh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Sg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=bg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:uo(n)},bg.set(e,n),n)}return{value:e,source:n,stack:uo(n)}}var fa=[],da=0,Au=null,Vo=0,Nn=[],Dn=0,gs=null,gi=1,pi="";function ki(e,n){fa[da++]=Vo,fa[da++]=Au,Au=e,Vo=n}function wg(e,n,s){Nn[Dn++]=gi,Nn[Dn++]=pi,Nn[Dn++]=gs,gs=e;var o=gi;e=pi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-he(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function Bh(e){e.return!==null&&(ki(e,1),wg(e,1,0))}function qh(e){for(;e===Au;)Au=fa[--da],fa[da]=null,Vo=fa[--da],fa[da]=null;for(;e===gs;)gs=Nn[--Dn],Nn[Dn]=null,pi=Nn[--Dn],Nn[Dn]=null,gi=Nn[--Dn],Nn[Dn]=null}function Rg(e,n){Nn[Dn++]=gi,Nn[Dn++]=pi,Nn[Dn++]=gs,gi=n.id,pi=n.overflow,gs=e}var je=null,ee=null,kt=!1,ps=null,On=!1,Hh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Cn(n,e)),Hh}function Ig(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Ct(il[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),eu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ys(e,!0)}function Cg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function ma(e){if(e!==je)return!1;if(!kt)return Cg(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ld(e.type,e.memoizedProps)),s=!s),s&&ee&&ys(e),Cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Wy(e)}else n===27?(n=ee,Os(e.type)?(e=dd,dd=null,ee=e):ee=n):ee=je?xn(e.stateNode.nextSibling):null;return!0}function wr(){ee=je=null,kt=!1}function Gh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function Uo(e){ps===null?ps=[e]:ps.push(e)}var Fh=M(null),Rr=null,Li=null;function _s(e,n,s){et(Fh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Fh.current,Y(Fh)}function Qh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Qh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&Kh(n,e,s,o),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Rr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Ng(Rr,e)}function bu(e,n){return Rr===null&&Ir(e),Ng(e,n)}function Ng(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$T=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new ZT,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&$T(JT,function(){e.controller.abort()})}var Lo=null,Xh=0,pa=0,ya=null;function WT(e,n){if(Lo===null){var s=Lo=[];Xh=0,pa=Wf(),ya={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Xh++,n.then(Dg,Dg),n}function Dg(){if(--Xh===0&&Lo!==null){ya!==null&&(ya.status="fulfilled");var e=Lo;Lo=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=q.S;q.S=function(e,n){my=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),Og!==null&&Og(e,n)};var Cr=M(null);function Zh(){var e=Cr.current;return e!==null?e:te.pooledCache}function wu(e,n){n===null?et(Cr,Cr.current):et(Cr,n.pool)}function Mg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var _a=Error(a(460)),$h=Error(a(474)),Ru=Error(a(542)),Iu={then:function(){}};function xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e}throw Dr=n,_a}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Dr=s,_a):s}}var Dr=null;function Ug(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function kg(e){if(e===_a||e===Ru)throw Error(a(483))}var va=null,Po=0;function Cu(e){var n=Po;return Po+=1,va===null&&(va=[]),Vg(va,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lg(e){function n(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Ui(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,Q){return O===null||O.tag!==6?(O=zh(L,U.mode,Q),O.return=U,O):(O=h(O,L),O.return=U,O)}function I(U,O,L,Q){var ct=L.type;return ct===nt?G(U,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Nr(ct)===O.type)?(O=h(O,L.props),zo(O,L),O.return=U,O):(O=Tu(L.type,L.key,L.props,null,U.mode,Q),zo(O,L),O.return=U,O)}function P(U,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=jh(L,U.mode,Q),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function G(U,O,L,Q,ct){return O===null||O.tag!==7?(O=br(L,U.mode,Q,ct),O.return=U,O):(O=h(O,L),O.return=U,O)}function K(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zh(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return L=Tu(O.type,O.key,O.props,null,U.mode,L),zo(L,O),L.return=U,L;case $:return O=jh(O,U.mode,L),O.return=U,O;case b:return O=Nr(O),K(U,O,L)}if(bt(O)||R(O))return O=br(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return K(U,Cu(O),L);if(O.$$typeof===ht)return K(U,bu(U,O),L);Nu(U,O)}return null}function z(U,O,L,Q){var ct=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(U,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?I(U,O,L,Q):null;case $:return L.key===ct?P(U,O,L,Q):null;case b:return L=Nr(L),z(U,O,L,Q)}if(bt(L)||R(L))return ct!==null?null:G(U,O,L,Q,null);if(typeof L.then=="function")return z(U,O,Cu(L),Q);if(L.$$typeof===ht)return z(U,O,bu(U,L),Q);Nu(U,L)}return null}function B(U,O,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(L)||null,E(O,U,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?L:Q.key)||null,I(O,U,Q,ct);case $:return U=U.get(Q.key===null?L:Q.key)||null,P(O,U,Q,ct);case b:return Q=Nr(Q),B(U,O,L,Q,ct)}if(bt(Q)||R(Q))return U=U.get(L)||null,G(O,U,Q,ct,null);if(typeof Q.then=="function")return B(U,O,L,Cu(Q),ct);if(Q.$$typeof===ht)return B(U,O,L,bu(O,Q),ct);Nu(O,Q)}return null}function rt(U,O,L,Q){for(var ct=null,zt=null,ot=O,Rt=O=0,Dt=null;ot!==null&&Rt<L.length;Rt++){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var jt=z(U,ot,L[Rt],Q);if(jt===null){ot===null&&(ot=Dt);break}e&&ot&&jt.alternate===null&&n(U,ot),O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt,ot=Dt}if(Rt===L.length)return s(U,ot),kt&&ki(U,Rt),ct;if(ot===null){for(;Rt<L.length;Rt++)ot=K(U,L[Rt],Q),ot!==null&&(O=f(ot,O,Rt),zt===null?ct=ot:zt.sibling=ot,zt=ot);return kt&&ki(U,Rt),ct}for(ot=o(ot);Rt<L.length;Rt++)Dt=B(ot,U,Rt,L[Rt],Q),Dt!==null&&(e&&Dt.alternate!==null&&ot.delete(Dt.key===null?Rt:Dt.key),O=f(Dt,O,Rt),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return e&&ot.forEach(function(ks){return n(U,ks)}),kt&&ki(U,Rt),ct}function mt(U,O,L,Q){if(L==null)throw Error(a(151));for(var ct=null,zt=null,ot=O,Rt=O=0,Dt=null,jt=L.next();ot!==null&&!jt.done;Rt++,jt=L.next()){ot.index>Rt?(Dt=ot,ot=null):Dt=ot.sibling;var ks=z(U,ot,jt.value,Q);if(ks===null){ot===null&&(ot=Dt);break}e&&ot&&ks.alternate===null&&n(U,ot),O=f(ks,O,Rt),zt===null?ct=ks:zt.sibling=ks,zt=ks,ot=Dt}if(jt.done)return s(U,ot),kt&&ki(U,Rt),ct;if(ot===null){for(;!jt.done;Rt++,jt=L.next())jt=K(U,jt.value,Q),jt!==null&&(O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return kt&&ki(U,Rt),ct}for(ot=o(ot);!jt.done;Rt++,jt=L.next())jt=B(ot,U,Rt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ot.delete(jt.key===null?Rt:jt.key),O=f(jt,O,Rt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&ot.forEach(function(hA){return n(U,hA)}),kt&&ki(U,Rt),ct}function Jt(U,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;O!==null;){if(O.key===ct){if(ct=L.type,ct===nt){if(O.tag===7){s(U,O.sibling),Q=h(O,L.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Nr(ct)===O.type){s(U,O.sibling),Q=h(O,L.props),zo(Q,L),Q.return=U,U=Q;break t}s(U,O);break}else n(U,O);O=O.sibling}L.type===nt?(Q=br(L.props.children,U.mode,Q,L.key),Q.return=U,U=Q):(Q=Tu(L.type,L.key,L.props,null,U.mode,Q),zo(Q,L),Q.return=U,U=Q)}return g(U);case $:t:{for(ct=L.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(U,O.sibling),Q=h(O,L.children||[]),Q.return=U,U=Q;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Q=jh(L,U.mode,Q),Q.return=U,U=Q}return g(U);case b:return L=Nr(L),Jt(U,O,L,Q)}if(bt(L))return rt(U,O,L,Q);if(R(L)){if(ct=R(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),mt(U,O,L,Q)}if(typeof L.then=="function")return Jt(U,O,Cu(L),Q);if(L.$$typeof===ht)return Jt(U,O,bu(U,L),Q);Nu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(U,O.sibling),Q=h(O,L),Q.return=U,U=Q):(s(U,O),Q=zh(L,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,O)}return function(U,O,L,Q){try{Po=0;var ct=Jt(U,O,L,Q);return va=null,ct}catch(ot){if(ot===_a||ot===Ru)throw ot;var zt=gn(29,ot,null,U.mode);return zt.lanes=Q,zt.return=U,zt}finally{}}}var Or=Lg(!0),Pg=Lg(!1),vs=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(e),Tg(e,null,s),n}return vu(e,o,n,s),Eu(e)}function jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,fo(e,s)}}function tf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function Bo(){if(ef){var e=ya;if(e!==null)throw e}}function qo(e,n,s,o){ef=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,G=P=I=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Nt&z)===z:(o&z)===z){z!==0&&z===pa&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;z=n;var Jt=s;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){K=rt.call(Jt,K,z);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,z=typeof rt=="function"?rt.call(Jt,K,z):rt,z==null)break t;K=w({},K,z);break t;case 2:vs=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,I=K):G=G.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=K}}function zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zg(s[e],n)}var Ea=M(null),Du=M(0);function Bg(e,n){e=Ki,et(Du,e),et(Ea,n),Ki=e|n.baseLanes}function nf(){et(Du,Ki),et(Ea,Ea.current)}function sf(){Ki=Du.current,Y(Ea),Y(Du)}var pn=M(null),Mn=null;function As(e){var n=e.alternate;et(de,de.current&1),et(pn,e),Mn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Mn=e)}function rf(e){et(de,de.current),et(pn,e),Mn===null&&(Mn=e)}function qg(e){e.tag===22?(et(de,de.current),et(pn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){et(de,de.current),et(pn,pn.current)}function yn(e){Y(pn),Mn===e&&(Mn=null),Y(de)}var de=M(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,St=null,Zt=null,Ae=null,Mu=!1,Ta=!1,Mr=!1,xu=0,Ho=0,Aa=null,e1=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function of(e,n,s,o,h,f){return zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?wp:Af,Mr=!1,f=s(o,h),Mr=!1,Ta&&(f=Gg(n,s,o,h)),Hg(e),f}function Hg(e){q.H=Qo;var n=Zt!==null&&Zt.next!==null;if(zi=0,Ae=Zt=St=null,Mu=!1,Ho=0,Aa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Su(e)&&(Se=!0))}function Gg(e,n,s,o){St=e;var h=0;do{if(Ta&&(Aa=null),Ho=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Rp,f=n(s,o)}while(Ta);return f}function n1(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function lf(){var e=xu!==0;return xu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}zi=0,Ae=Zt=St=null,Ta=!1,Ho=xu=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Ho;return Ho+=1,Aa===null&&(Aa=[]),e=Vg(Aa,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?wp:Af),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ht)return Be(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=me();return ff(n,Zt,e)}function ff(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Nt&K)===K:(zi&K)===K){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===pa&&(G=!0);else if((zi&z)===z){P=P.next,z===pa&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=K,g=f):I=I.next=K,St.lanes|=z,Rs|=z;K=P.action,Mr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,St.lanes|=K,Rs|=K;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!mn(f,e.memoizedState)&&(Se=!0,G&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Fg(e,n,s){var o=St,h=me(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,pf(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},Kg.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(zi&127)!==0||Qg(o,n,s)}return s}function Qg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Vu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Kg(e,n,s,o){n.value=s,n.getSnapshot=o,Xg(n)&&Zg(e)}function Yg(e,n,s){return s(function(){Xg(n)&&Zg(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Zg(e){var n=Sr(e,2);n!==null&&un(n,e,2)}function mf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Mr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function $g(e,n,s,o){return e.baseState=s,ff(e,Zt,typeof o=="function"?o:ji)}function i1(e,n,s,o,h){if(zu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Jg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Jg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=s(h,o),I=q.S;I!==null&&I(g,E),Wg(e,n,E)}catch(P){gf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,o),Wg(e,n,f)}catch(P){gf(e,n,P)}}function Wg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tp(e,n,o)},function(o){return gf(e,n,o)}):tp(e,n,s)}function tp(e,n,s){n.status="fulfilled",n.value=s,ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Jg(e,s)))}function gf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(kt){var s=te.formState;if(s!==null){t:{var o=St;if(kt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=xn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},s.queue=o,s=Ap.bind(null,St,o),o.dispatch=s,o=mf(!1),f=Tf.bind(null,St,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function sp(e){var n=me();return rp(n,Zt,e)}function rp(e,n,s){if(n=ff(e,n,np)[0],e=ku(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===_a?Ru:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Sa(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function ap(e){var n=me(),s=Zt;if(s!==null)return rp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Sa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Vu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function op(){return me().memoizedState}function Lu(e,n,s,o){var h=tn();St.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Pu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&af(o,Zt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,o):(St.flags|=e,h.memoizedState=Sa(1|n,f,s,o))}function lp(e,n){Lu(8390656,8,e,n)}function pf(e,n){Pu(2048,8,e,n)}function r1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Vu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function up(e){var n=me().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return Pu(4,2,e,n)}function hp(e,n){return Pu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,s){s=s!=null?s.concat([e]):null,Pu(4,4,fp.bind(null,n,e),s)}function yf(){}function mp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function gp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o}function _f(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=py(),St.lanes|=e,Rs|=e,s)}function pp(e,n,s,o){return mn(s,n)?s:Ea.current!==null?(e=_f(e,s,o),mn(e,n)||(Se=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=py(),St.lanes|=e,Rs|=e,n)}function yp(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,Tf(e,!1,n,s);try{var I=h(),P=q.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=t1(I,o);Fo(e,n,G,En(e))}else Fo(e,n,o,En(e))}catch(K){Fo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function a1(){}function vf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=_p(e).queue;yp(e,h,n,ut,s===null?a1:function(){return vp(e),s(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},En())}function Ef(){return Be(ll)}function Ep(){return me().memoizedState}function Tp(){return me().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Es(s);var o=Ts(n,e,s);o!==null&&(un(o,n,s),jo(o,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zu(e)?Sp(n,s):(s=Lh(e,n,s,o),s!==null&&(un(s,e,o),bp(s,n,o)))}function Ap(e,n,s){var o=En();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return vu(e,n,h,0),te===null&&_u(),!1}catch{}finally{}if(s=Lh(e,n,h,o),s!==null)return un(s,e,o),bp(s,n,o),!0}return!1}function Tf(e,n,s,o){if(o={lane:2,revertLane:Wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,o,2),n!==null&&un(n,e,2)}function zu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Sp(e,n){Ta=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function bp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,fo(e,s)}}var Qo={readContext:Be,use:Uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Qo.useEffectEvent=ue;var wp={readContext:Be,use:Uu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,fp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Mr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=Ap.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=tn();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=yp.bind(null,St,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=tn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Nt&127)!==0||Qg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},Kg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=te.identifierPrefix;if(kt){var s=pi,o=gi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return tn().memoizedState=o1.bind(null,St)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Uu,useCallback:mp,useContext:Be,useEffect:pf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:ku,useRef:op,useState:function(){return ku(ji)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return pp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=ku(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:Ef,useFormState:sp,useActionState:sp,useOptimistic:function(e,n){var s=me();return $g(s,Zt,e,n)},useMemoCache:hf,useCacheRefresh:Tp};Af.useEffectEvent=up;var Rp={readContext:Be,use:Uu,useCallback:mp,useContext:Be,useEffect:pf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:df,useRef:op,useState:function(){return df(ji)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return Zt===null?_f(s,e,n):pp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=df(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:Ef,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=me();return Zt!==null?$g(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Tp};Rp.useEffectEvent=up;function Sf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(un(n,e,s),jo(n,e,s))}};function Ip(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function Cp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function xr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Np(e){yu(e)}function Dp(e){console.error(e)}function Op(e){yu(e)}function ju(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(e,n)},s}function xp(e){return e=Es(e),e.tag=3,e}function Vp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Mp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mp(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),Ju(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Hh&&(e=Error(a(422),{cause:o}),Uo(Cn(e,s)))):(o!==Hh&&(n=Error(a(423),{cause:o}),Uo(Cn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,s),h=wf(e.stateNode,o,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,s),tl===null?tl=[f]:tl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,o,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xp(h),Vp(h,e,s,o),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Pg(n,null,s,o):Or(n,e.child,s,o)}function Up(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ir(n),o=of(e,n,s,g,f,h),E=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&E&&Bh(n),n.flags|=1,qe(e,n,o,h),n.child)}function kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lp(e,n,f,o,h)):(e=Tu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Vf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return If(e,n,s,o,h)}function Pp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):nf(),qg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(wu(n,f.cachePool),Bg(n,f),Ss(),n.memoizedState=null):(e!==null&&wu(n,null),nf(),Ss());return qe(e,n,h,s),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&wu(n,null),nf(),qg(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Bu(e,n){return n=Hu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,s){return Or(n,e.child,null,s),e=Bu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Bu(n,o),n.lanes=536870912,Ko(null,e);if(rf(n),(e=ee)?(e=Jy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Bu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(g=mo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Sr(e,g),un(o,e,g),Rf;Ju(),n=jp(e,n,s)}else e=f.treeContext,ee=xn(g.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Rg(n,e),n=Bu(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return Ir(n),s=of(e,n,s,o,void 0,h),o=lf(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&o&&Bh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Bp(e,n,s,o,h,f){return Ir(n),n.updateQueue=null,s=Gg(n,o,s,h),Hg(e),o=lf(),e!==null&&!Se?(uf(e,n,f),Bi(e,n,f)):(kt&&o&&Bh(n),n.flags|=1,qe(e,n,s,f),n.child)}function qp(e,n,s,o,h){if(Ir(n),n.stateNode===null){var f=ha,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ha,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=xr(s,E);f.props=I;var P=f.context,G=s.contextType;g=ha,typeof G=="object"&&G!==null&&(g=Be(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Cp(n,f,o,g),vs=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,h),Bo(),P=n.memoizedState,E||z!==P||vs?(typeof K=="function"&&(Sf(n,s,K,o),P=n.memoizedState),(I=vs||Ip(n,s,I,o,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,G=xr(s,g),f.props=G,K=n.pendingProps,z=f.context,P=s.contextType,I=ha,typeof P=="object"&&P!==null&&(I=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==I)&&Cp(n,f,o,I),vs=!1,z=n.memoizedState,f.state=z,qo(n,o,f,h),Bo();var B=n.memoizedState;g!==K||z!==B||vs||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),B=n.memoizedState),(G=vs||Ip(n,s,G,o,z,B,I)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Hp(e,n,s,o){return wr(),n.flags|=256,qe(e,n,s,o),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Mg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Gp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?As(n):Ss(),(e=ee)?(e=Jy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Hu({mode:"hidden",children:E},h),o=br(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,Ko(null,o)):(As(n),Of(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Hu({mode:"visible",children:o.children},h),E=br(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Or(n,e.child,null,s),o=n.child,o.memoizedState=Nf(s),o.childLanes=Df(e,g,s),n.memoizedState=Cf,n=Ko(null,o));else if(As(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(Se||ga(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=te,g!==null&&(o=mo(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Sr(e,o),un(g,e,o),Rf;hd(E)||Ju(),n=Mf(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=xn(E.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Rg(n,e),n=Of(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Ui(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Ui(P,E):(E=br(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ko(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(I=Te._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Df(e,g,s),n.memoizedState=Cf,Ko(e.child,o)):(As(n),s=e.child,e=s.sibling,s=Ui(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Mf(e,n,s){return Or(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qh(e.return,n,s)}function xf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Qp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(de,g),qe(e,n,o,s),o=kt?Vo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,s,n);else if(e.tag===19)Fp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),xf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}xf(n,!0,s,null,f,o);break;case"together":xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ui(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ui(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function h1(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),_s(n,Te,e.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gp(e,n,s):(As(n),e=Bi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ga(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Qp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,s,n.pendingProps);case 24:_s(n,Te,e.memoizedState.cache)}return Bi(e,n,s)}function Kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Se=!1,h1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,kt&&(n.flags&1048576)!==0&&wg(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(o=xr(e,o),n.tag=1,n=qp(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Up(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=kp(null,n,e,o,s);break t}}throw n=at(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=xr(o,n.pendingProps),qp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),qo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Te,o),o!==f.cache&&Kh(n,[Te],s,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,s);break t}else if(o!==h){h=Cn(Error(a(424)),n),Uo(h),n=Hp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=xn(e.firstChild),je=n,kt=!0,ps=null,On=!0,s=Pg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wr(),o===h){n=Bi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return qu(e,n),e===null?(s=s_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=rc(wt.current).createElement(s),o[_e]=n,o[Ve]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=s_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&kt&&(o=n.stateNode=e_(n.type,n.pendingProps,wt.current),je=n,On=!0,h=ee,Os(n.type)?(dd=h,ee=xn(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,s),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ee)&&(o=B1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,ee=xn(o.firstChild),On=!1,h=!0):h=!1),h||ys(n)),rr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:g!==null&&ld(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,n1,null,null,s),ll._currentValue=h),qu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ee)&&(s=q1(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return Gp(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Or(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Up(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ir(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return kp(e,n,n.type,n.pendingProps,s);case 15:return Lp(e,n,n.type,n.pendingProps,s);case 19:return Qp(e,n,s);case 31:return c1(e,n,s);case 22:return Pp(e,n,s,n.pendingProps);case 24:return Ir(n),o=Be(Te),e===null?(h=Zh(),h===null&&(h=te,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),_s(n,Te,h)):((e.lanes&s)!==0&&(Wh(e,n),qo(n,null,null,s),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Te,o)):(o=f.cache,_s(n,Te,o),o!==h.cache&&Kh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Uf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Dr=Iu,$h}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Dr=Iu,$h}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,Ia|=n)}function Yo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),Yp(n,f)):(ne(n),Uf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),ne(n),Yp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ne(n),Uf(n,h,e,o,s)),null;case 27:if(Qr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,ma(n)?Ig(n):(e=e_(h,o,s),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,ma(n))Ig(n);else{var g=rc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ne(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,s)),e||ys(n,!0)}else e=rc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Yo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Yo(o,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ag(s,e),s=s.sibling;return et(de,de.current&1|2),kt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Xu&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*Je()-o.renderingStartTime>Xu&&s!==536870912&&(n.flags|=128,h=!0,Yo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=de.current,et(de,h?s&1|2:s&1),kt&&ki(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),sf(),e!==null&&Y(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function Xp(e,n){switch(qh(n),n.tag){case 3:Pi(Te),se();break;case 26:case 27:case 5:Qr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(de);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),sf(),e!==null&&Y(Cr);break;case 24:Pi(Te)}}function Xo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(G){Yt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function Zp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{jg(n,s)}catch(o){Yt(e,e.return,o)}}}function $p(e,n,s){s.props=xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function Jp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function kf(e,n,s){try{var o=e.stateNode;U1(o,e.type,s,n),o[Ve]=n}catch(h){Yt(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Fu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Hi=!1,be=!1,zf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,ke=null;function m1(e,n){if(e=e.containerInfo,ad=fc,e=dg(e),Oh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,G=0,K=e,z=null;e:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(I=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++G===o&&(I=g),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(od={focusedElem:e,selectionRange:s},fc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=xr(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function ny(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),o&4&&Xo(5,s);break;case 1:if(Fi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}o&64&&Zp(s),o&512&&Zo(s,s.return);break;case 3:if(Fi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{jg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:Fi(e,s),n===null&&o&4&&Jp(s),o&512&&Zo(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),o&4&&ry(e,s);break;case 13:Fi(e,s),o&4&&ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=S1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||be,h=Hi;var f=be;Hi=o,(be=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,be=f}break;case 30:break;default:Fi(e,s)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Gi(e,n,s){for(s=s.child;s!==null;)sy(e,n,s),s=s.sibling}function sy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:be||yi(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||yi(s,n);var o=ae,h=rn;Os(s.type)&&(ae=s.stateNode,rn=!1),Gi(e,n,s),rl(s.stateNode),ae=o,rn=h;break;case 5:be||yi(s,n);case 6:if(o=ae,h=rn,ae=null,Gi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):Zy(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Gi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),be||bs(4,s,n),Gi(e,n,s);break;case 1:be||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$p(s,n,o)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Gi(e,n,s),be=o;break;default:Gi(e,n,s)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Yt(n,n.return,s)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Yt(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Qu(e,n){var s=g1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));sy(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Qn=null;function oy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(bs(3,e,e.return),Xo(3,e),bs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=o_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),s!==null&&o&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(zf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(lc=null,h=Qn,Qn=ac(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}zf&&(zf=!1,ly(e));break;case 4:o=Qn,Qn=ac(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Hi,G=be;if(Hi=P||h,be=G||I,an(n,e),be=G,Hi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Hi||be||Vr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Yt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var B=I.stateNode;h?$y(B,!0):$y(I.stateNode,!1)}catch(rt){Yt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Qu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Wp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Fu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Lf(e);Fu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Lf(e);Pf(e,P,I);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Vr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),Vr(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$p(n,n.return,s),Vr(n);break;case 27:rl(n.stateNode);case 26:case 5:yi(n,n.return),Vr(n);break;case 22:n.memoizedState===null&&Vr(n);break;case 30:Vr(n);break;default:Vr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Xo(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zg(I[h],E)}catch(P){Yt(o,o.return,P)}}s&&g&64&&Zp(f),Zo(f,f.return);break;case 27:ty(f);case 26:case 5:Qi(h,f,s),s&&o===null&&g&4&&Jp(f),Zo(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&ry(h,f);break;case 13:Qi(h,f,s),s&&g&4&&ay(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Zo(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ko(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,s,o),n=n.sibling}function uy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Xo(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ko(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):$o(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Kn(e,n,s,o),h&2048&&Bf(n.alternate,n);break;default:Kn(e,n,s,o)}}function ba(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,I,h),Xo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ba(f,g,E,I,h):$o(f,g):(G._visibility|=2,ba(f,g,E,I,h)),h&&P&2048&&jf(g.alternate,g);break;case 24:ba(f,g,E,I,h),h&&P&2048&&Bf(g.alternate,g);break;default:ba(f,g,E,I,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&jf(o.alternate,o);break;case 24:$o(s,o),h&2048&&Bf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Jo=8192;function wa(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)cy(e,n,s),e=e.sibling}function cy(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&Jo&&e.memoizedState!==null&&eA(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var o=Qn;Qn=ac(e.stateNode.containerInfo),wa(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,wa(e,n,s),Jo=o):wa(e,n,s));break;default:wa(e,n,s)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&bs(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Wo(e);break;default:Wo(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function dy(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ko(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(iy(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var p1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,It=null,Nt=0,Kt=0,_n=null,ws=!1,Ra=!1,qf=!1,Ki=0,ce=0,Rs=0,Ur=0,Hf=0,vn=0,Ia=0,tl=null,ln=null,Gf=!1,Yu=0,my=0,Xu=1/0,Zu=null,Is=null,De=0,Cs=null,Ca=null,Yi=0,Ff=0,Qf=null,gy=null,el=0,Kf=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:q.T!==null?Wf():$l()}function py(){if(vn===0)if((Nt&536870912)===0||kt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ns(e,Nt,vn,!1)),ur(e,s),((qt&2)===0||e!==te)&&(e===te&&((qt&2)===0&&(Ur|=s),ce===4&&Ns(e,Nt,vn,!1)),_i(e))}function yy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?E1(e,n):Xf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=tl;var I=E.current.memoizedState.isDehydrated;if(I&&(Na(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,vn,!ws);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yu+300-Je(),10<h)){if(Ns(o,n,vn,!ws),ti(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=Yy(_y.bind(null,o,s,ln,Zu,Gf,n,vn,Ur,Ia,ws,f,"Throttled",-0,0),h);break t}_y(o,s,ln,Zu,Gf,n,vn,Ur,Ia,ws,f,null,-0,0)}}break}while(!0);_i(e)}function _y(e,n,s,o,h,f,g,E,I,P,G,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},cy(n,f,K);var rt=(f&62914560)===f?Yu-Je():(f&4194048)===f?my-Je():0;if(rt=nA(K,rt),rt!==null){Yi=f,e.cancelPendingCommit=rt(Ry.bind(null,e,n,f,s,o,h,g,E,I,G,K,null,z,B)),Ns(e,f,g,!P);return}}Ry(e,n,f,s,o,h,g,E,I)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Hf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&cr(e,s,n)}function $u(){return(qt&6)===0?(nl(0),!1):!0}function Yf(){if(It!==null){if(Kt===0)var e=It.return;else e=It,Li=Rr=null,cf(e),va=null,Po=0,e=It;for(;e!==null;)Xp(e.alternate,e),e=e.return;It=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Yf(),te=e,It=s=Ui(e.current,null),Nt=n,Kt=0,_n=null,ws=!1,Ra=Ln(e,n),qf=!1,Ia=vn=Hf=Ur=Rs=ce=0,ln=tl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,_u(),s}function vy(e,n){St=null,q.H=Qo,n===_a||n===Ru?(n=Ug(),Kt=3):n===$h?(n=Ug(),Kt=4):Kt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ce=1,ju(e,Cn(n,e.current)))}function Ey(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function Ty(){var e=q.H;return q.H=Qo,e===null?Qo:e}function Ay(){var e=q.A;return q.A=p1,e}function Ju(){ce=4,ws||(Nt&4194048)!==Nt&&pn.current!==null||(Ra=!0),(Rs&134217727)===0&&(Ur&134217727)===0||te===null||Ns(te,Nt,vn,!1)}function Xf(e,n,s){var o=qt;qt|=2;var h=Ty(),f=Ay();(te!==e||Nt!==n)&&(Zu=null,Na(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&It!==null){var E=It,I=_n;switch(Kt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Kt;if(Kt=0,_n=null,Da(e,E,I,P),s&&Ra){g=0;break t}break;default:P=Kt,Kt=0,_n=null,Da(e,E,I,P)}}v1(),g=ce;break}catch(G){vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=Rr=null,qt=o,q.H=h,q.A=f,It===null&&(te=null,Nt=0,_u()),g}function v1(){for(;It!==null;)Sy(It)}function E1(e,n){var s=qt;qt|=2;var o=Ty(),h=Ay();te!==e||Nt!==n?(Zu=null,Xu=Je()+500,Na(e,n)):Ra=Ln(e,n);t:do try{if(Kt!==0&&It!==null){n=It;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(xg(f)){Kt=0,_n=null,by(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),_i(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:xg(f)?(Kt=0,_n=null,by(n)):(Kt=0,_n=null,Da(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?u_(g):E.stateNode.complete){Kt=0,_n=null;var I=E.sibling;if(I!==null)It=I;else{var P=E.return;P!==null?(It=P,Wu(P)):It=null}break e}}Kt=0,_n=null,Da(e,n,f,5);break;case 6:Kt=0,_n=null,Da(e,n,f,6);break;case 8:Yf(),ce=6;break t;default:throw Error(a(462))}}T1();break}catch(G){vy(e,G)}while(!0);return Li=Rr=null,q.H=o,q.A=h,qt=s,It!==null?0:(te=null,Nt=0,_u(),ce)}function T1(){for(;It!==null&&!bh();)Sy(It)}function Sy(e){var n=Kp(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?Wu(e):It=n}function by(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Bp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:cf(n);default:Xp(s,n),n=It=Ag(n,Ki),n=Kp(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?Wu(e):It=n}function Da(e,n,s,o){Li=Rr=null,cf(n),va=null,Po=0;var h=n.return;try{if(u1(e,h,n,s,Nt)){ce=1,ju(e,Cn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,ju(e,Cn(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Ra||(Nt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){wy(n,ws);return}e=n.return;var s=f1(n.alternate,n,Ki);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function wy(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ce=6,It=null}function Ry(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do tc();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Ih(e,s,f,g,E,I),e===te&&(It=te=null,Nt=0),Ca=n,Cs=e,Yi=s,Ff=f,Qf=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(rs,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=tt.p,tt.p=2,g=qt,qt|=4;try{m1(e,n,s)}finally{qt=g,tt.p=h,q.T=o}}De=1,Iy(),Cy(),Ny()}}function Iy(){if(De===1){De=0;var e=Cs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{oy(n,e);var f=od,g=dg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(I!==null&&Oh(E)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),rt=E.textContent.length,mt=Math.min(I.start,rt),Jt=I.end===void 0?mt:Math.min(I.end,rt);!B.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var U=hg(E,mt),O=hg(E,Jt);if(U&&O&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=K.createRange();L.setStart(U.node,U.offset),B.removeAllRanges(),mt>Jt?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}fc=!!ad,od=ad=null}finally{qt=h,tt.p=o,q.T=s}}e.current=n,De=2}}function Cy(){if(De===2){De=0;var e=Cs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=tt.p;tt.p=2;var h=qt;qt|=4;try{ny(e,n.alternate,n)}finally{qt=h,tt.p=o,q.T=s}}De=3}}function Ny(){if(De===4||De===3){De=0,Gl();var e=Cs,n=Ca,s=Yi,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ca=Cs=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Oi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=tt.p,tt.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=h}}(Yi&3)!==0&&tc(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?el++:(el=0,Kf=e):el=0,nl(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ko(n)))}function tc(){return Iy(),Cy(),Ny(),Oy()}function Oy(){if(De!==5)return!1;var e=Cs,n=Ff;Ff=0;var s=Oi(Yi),o=q.T,h=tt.p;try{tt.p=32>s?32:s,q.T=null,s=Qf,Qf=null;var f=Cs,g=Yi;if(De=0,Ca=Cs=null,Yi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,fy(f.current),uy(f,f.current,g,s),qt=E,nl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{tt.p=h,q.T=o,Dy(e,n)}}function My(e,n,s){n=Cn(s,n),n=wf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(ur(e,2),_i(e))}function Yt(e,n,s){if(e.tag===3)My(e,e,s);else for(;n!==null;){if(n.tag===3){My(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Cn(s,e),s=xp(2),o=Ts(n,s,2),o!==null&&(Vp(s,o,n,e),ur(o,2),_i(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(qf=!0,h.add(s),e=A1.bind(null,e,n,s),n.then(e,e))}function A1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>Je()-Yu?(qt&2)===0&&Na(e,0):Hf|=s,Ia===Nt&&(Ia=0)),_i(e)}function xy(e,n){n===0&&(n=Zl()),e=Sr(e,n),e!==null&&(ur(e,n),_i(e))}function S1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),xy(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),xy(e,s)}function w1(e,n){return Ne(e,n)}var ec=null,Oa=null,$f=!1,nc=!1,Jf=!1,Ds=0;function _i(e){e!==Oa&&e.next===null&&(Oa===null?ec=Oa=e:Oa=Oa.next=e),nc=!0,$f||($f=!0,I1())}function nl(e,n){if(!Jf&&nc){Jf=!0;do for(var s=!1,o=ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ly(o,f))}else f=Nt,f=ti(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Ly(o,f));o=o.next}while(s);Jf=!1}}function R1(){Vy()}function Vy(){nc=$f=!1;var e=0;Ds!==0&&L1()&&(e=Ds);for(var n=Je(),s=null,o=ec;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,s===null?ec=h:s.next=h,h===null&&(Oa=s)):(s=o,(e!==0||(f&3)!==0)&&(nc=!0)),o=h}De!==0&&De!==5||nl(e),Ds!==0&&(Ds=0)}function Uy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Rh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Nt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Oi(s)){case 2:case 8:s=ho;break;case 32:s=rs;break;case 268435456:s=Fl;break;default:s=rs}return o=ky.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var o=Nt;return o=ti(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),Uy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?ky.bind(null,e):null)}function Ly(e,n){if(tc())return null;yy(e,n,!0)}function I1(){z1(function(){(qt&6)!==0?Ne(co,R1):Vy()})}function Wf(){if(Ds===0){var e=pa;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ds=e}return Ds}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function C1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Py((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Py(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var I=g?zy(h,g):new FormData(h);vf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?zy(h,g):new FormData(h),vf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],N1=ed.toLowerCase(),D1=ed[0].toUpperCase()+ed.slice(1);Fn(N1,"on"+D1)}Fn(pg,"onAnimationEnd"),Fn(yg,"onAnimationIteration"),Fn(_g,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(QT,"onTransitionRun"),Fn(KT,"onTransitionStart"),Fn(YT,"onTransitionCancel"),Fn(vg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){yu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){yu(G)}h.currentTarget=null,f=I}}}}function Ct(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=e+"__bubble";s.has(o)||(By(n,e,2,!1),s.add(o))}function nd(e,n,s){var o=0;n&&(o|=4),By(s,e,o,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ic]){e[ic]=!0,go.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,nd("selectionchange",!1,n))}}function By(e,n,s,o){switch(p_(n)){case 2:var h=rA;break;case 8:h=aA;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hs(function(){var P=f,G=bn(s),K=[];t:{var z=Eg.get(e);if(z!==void 0){var B=hi,rt=e;switch(e){case"keypress":if(yr(s)===0)break t;case"keydown":case"keyup":B=mu;break;case"focusin":rt="focus",B=vr;break;case"focusout":rt="blur",B=vr;break;case"beforeblur":case"afterblur":B=vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case pg:case yg:case _g:B=ou;break;case vg:B=T;break;case"scroll":case"scrollend":B=Io;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vi;break;case"toggle":case"beforetoggle":B=At}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=P,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||U===null||(Q=Bn(O,U),Q!=null&&mt.push(sl(O,Q,L))),Jt)break;O=O.return}0<mt.length&&(z=new B(z,rt,null,s,G),K.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==bo&&(rt=s.relatedTarget||s.fromElement)&&(si(rt)||rt[ni]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(rt=s.relatedTarget||s.toElement,B=P,rt=rt?si(rt):null,rt!==null&&(Jt=c(rt),mt=rt.tag,rt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(B=null,rt=P),B!==rt)){if(mt=Co,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Vi,Q="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=B==null?z:fn(B),L=rt==null?z:fn(rt),z=new mt(Q,O+"leave",B,s,G),z.target=Jt,z.relatedTarget=L,Q=null,si(G)===P&&(mt=new mt(U,O+"enter",rt,s,G),mt.target=L,mt.relatedTarget=Jt,Q=mt),Jt=Q,B&&rt)e:{for(mt=M1,U=B,O=rt,L=0,Q=U;Q;Q=mt(Q))L++;Q=0;for(var ct=O;ct;ct=mt(ct))Q++;for(;0<L-Q;)U=mt(U),L--;for(;0<Q-L;)O=mt(O),Q--;for(;L--;){if(U===O||O!==null&&U===O.alternate){mt=U;break e}U=mt(U),O=mt(O)}mt=null}else mt=null;B!==null&&qy(K,z,B,mt,!1),rt!==null&&Jt!==null&&qy(K,Jt,rt,mt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var zt=rg;else if(ig(z))if(ag)zt=HT;else{zt=BT;var ot=jT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ta(P.elementType)&&(zt=rg):zt=qT;if(zt&&(zt=zt(e,P))){sg(K,zt,s,G);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&To(z,"number",z.value)}switch(ot=P?fn(P):window,e){case"focusin":(ig(ot)||ot.contentEditable==="true")&&(la=ot,Mh=P,xo=null);break;case"focusout":xo=Mh=la=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,mg(K,s,G);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":mg(K,s,G)}var Rt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else oa?Er(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(mi&&s.locale!=="ko"&&(oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&oa&&(Rt=Ro()):(ci=G,wo="value"in ci?ci.value:ci.textContent,oa=!0)),ot=sc(P,Dt),0<ot.length&&(Dt=new di(Dt,e,null,s,G),K.push({event:Dt,listeners:ot}),Rt?Dt.data=Rt:(Rt=aa(s),Rt!==null&&(Dt.data=Rt)))),(Rt=Rn?kT(e,s):LT(e,s))&&(Dt=sc(P,"onBeforeInput"),0<Dt.length&&(ot=new di("onBeforeInput","beforeinput",null,s,G),K.push({event:ot,listeners:Dt}),ot.data=Rt)),C1(K,e,P,s,G)}jy(K,n)})}function sl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(sl(e,h,f)),h=Bn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function M1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Bn(s,f),P!=null&&g.unshift(sl(s,P,I))):h||(P=Bn(s,f),P!=null&&g.push(sl(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var x1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(x1,`
`).replace(V1,"")}function Gy(e,n){return n=Hy(n),Hy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ea(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Jr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Jr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,Jr(e,s,o))}}function rd(e,n,s,o,h,f){switch(s){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Jr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,s,null)}}eu(e,f,E,I,P,g,h,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}ls(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,I,o,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Ct(il[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,P,o,s,null)}return;default:if(ta(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&rd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function U1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,G=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(B)||$t(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=s[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&$t(e,n,z,B,o,K)}}Wr(e,g,E,I,P,G,f,h);return;case"select":B=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":B=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,s=g,o=B,z!=null?os(e,!!s,z,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,o,f)}nu(e,z,B);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:$t(e,n,rt,null,o,z)}for(I in o)if(z=o[I],B=s[I],o.hasOwnProperty(I)&&z!==B&&(z!=null||B!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,n,I,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,P,z,o,B)}return;default:if(ta(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&rd(e,n,Jt,void 0,o,z);for(G in o)z=o[G],B=s[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||rd(e,n,G,z,o,B);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,z);for(K in o)z=o[K],B=s[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||$t(e,n,K,z,o,B)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Fy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var G=I.transferSize,K=I.initiatorType;G&&Fy(K)&&(I=I.responseEnd,g+=G*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,od=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(j1)}:Yy;function j1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Zy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&rl(e.ownerDocument.body);s=h}while(s);Ua(n)}function $y(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var Vn=new Map,n_=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=tt.d;tt.d={f:G1,r:F1,D:Q1,C:K1,L:Y1,m:X1,X:$1,S:Z1,M:J1};function G1(){var e=Xi.f(),n=$u();return e||n}function F1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):Xi.r(e)}var Ma=typeof document>"u"?null:document;function i_(e,n,s){var o=Ma;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function Q1(e){Xi.D(e),i_("dns-prefetch",e,null)}function K1(e,n){Xi.C(e,n),i_("preconnect",e,n)}function Y1(e,n,s){Xi.L(e,n,s);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=xa(e);break;case"script":f=Va(e)}Vn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function X1(e,n){Xi.m(e,n);var s=Ma;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Vn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function Z1(e,n,s){Xi.S(e,n,s);var o=Ma;if(o&&e){var h=ri(o).hoistableStyles,f=xa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(al(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&md(e,s);var I=g=o.createElement("link");ve(I),He(I,"link",e),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $1(e,n){Xi.X(e,n);var s=Ma;if(s&&e){var o=ri(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ol(h)),f||(e=w({src:e,async:!0},n),(n=Vn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function J1(e,n){Xi.M(e,n);var s=Ma;if(s&&e){var o=ri(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ol(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(e,n,s,o){var h=(h=wt.current)?ac(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xa(s.href),s=ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xa(s.href);var f=ri(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||W1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xa(e){return'href="'+nn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Va(e){return'[src="'+nn(e)+'"]'}function ol(e){return"script[async]"+e}function a_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),oc(o,s.precedence,e),n.instance=o;case"stylesheet":h=xa(s.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=r_(s),(h=Vn.get(h))&&md(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(ol(f)))?(n.instance=h,ve(h),h):(o=s,(h=Vn.get(f))&&(o=w({},s),gd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,s.precedence,e));return n.instance}function oc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lc=null;function o_(e,n,s){if(lc===null){var o=new Map,h=lc=new Map;h.set(s,o)}else h=lc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function l_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=xa(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=r_(o),(h=Vn.get(h))&&md(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=uc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function nA(e,n){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*k1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(iA,e),cc=null,uc.call(e))}function iA(e,n){if(!(n.state.loading&4)){var s=cc.get(e);if(s)var o=s.get(null);else{s=new Map,cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function sA(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function c_(e,n,s,o,h,f,g,E,I,P,G,K){return e=new sA(e,n,s,g,I,P,G,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),e}function h_(e){return e?(e=ha,e):ha}function f_(e,n,s,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(un(s,e,n),jo(s,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=En();n=hr(n);var s=Sr(e,n);s!==null&&un(s,e,n),yd(e,n)}}var fc=!0;function rA(e,n,s,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=2,_d(e,n,s,o)}finally{tt.p=f,q.T=h}}function aA(e,n,s,o){var h=q.T;q.T=null;var f=tt.p;try{tt.p=8,_d(e,n,s,o)}finally{tt.p=f,q.T=h}}function _d(e,n,s,o){if(fc){var h=vd(o);if(h===null)sd(e,n,o,dc,s),y_(e,o);else if(lA(h,e,n,s,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}_i(f),(qt&6)===0&&(Xu=Je()+500,nl(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&un(E,f,2),$u(),yd(f,2)}if(f=vd(o),f===null&&sd(e,n,o,dc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function vd(e){return e=bn(e),Ed(e)}var dc=null;function Ed(e){if(dc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case co:return 2;case ho:return 8;case rs:case wh:return 32;case Fl:return 268435456;default:return 32}default:return 32}}var Td=!1,Ms=null,xs=null,Vs=null,ul=new Map,cl=new Map,Us=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lA(e,n,s,o,h){switch(n){case"focusin":return Ms=hl(Ms,e,n,s,o,h),!0;case"dragenter":return xs=hl(xs,e,n,s,o,h),!0;case"mouseover":return Vs=hl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,s,o,h)),!0}return!1}function __(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){g_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);bo=o,s.target.dispatchEvent(o),bo=null}else return n=Sn(s),n!==null&&m_(n),e.blockedOn=s,!1;n.shift()}return!0}function v_(e,n,s){mc(e)&&s.delete(n)}function uA(){Td=!1,Ms!==null&&mc(Ms)&&(Ms=null),xs!==null&&mc(xs)&&(xs=null),Vs!==null&&mc(Vs)&&(Vs=null),ul.forEach(v_),cl.forEach(v_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uA)))}var pc=null;function E_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ed(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ua(e){function n(I){return gc(I,e)}Ms!==null&&gc(Ms,e),xs!==null&&gc(xs,e),Vs!==null&&gc(Vs,e),ul.forEach(n),cl.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)__(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||E_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),E_(s)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}yc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=En();f_(s,o,e,n,null,null)},yc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),$u(),n[ni]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&__(e)}};var A_=t.version;if(A_!=="19.2.1")throw Error(a(527,A_,"19.2.1"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{kn=_c.inject(cA),Pe=_c}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Np,f=Dp,g=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=c_(e,1,!1,null,null,s,o,null,h,f,g,T_),e[ni]=n.current,id(e),new Ad(n)},dl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Np,g=Dp,E=Op,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=c_(e,1,!0,n,s??null,o,h,I,f,g,E,T_),n.context=h_(null),s=n.current,o=En(),o=hr(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,ur(n,s),_i(n),e[ni]=n.current,id(e),new yc(n)},dl.version="19.2.1",dl}var M_;function EA(){if(M_)return wd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=vA(),wd.exports}var TA=EA();const AA=()=>{};var x_={};const l0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},SA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(x=64)),a.push(i[A],i[w],i[x],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(l0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new bA;const x=c<<2|p>>4;if(a.push(x),y!==64){const F=p<<4&240|y>>2;if(a.push(F),w!==64){const $=y<<6&192|w;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wA=function(r){const t=l0(r);return u0.encodeByteArray(t,!0)},Uc=function(r){return wA(r).replace(/\./g,"")},c0=function(r){try{return u0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IA=()=>RA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof x_>"u")return;const r=x_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return AA()||IA()||CA()||NA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h0=r=>th()?.emulatorHosts?.[r],DA=r=>{const t=h0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},f0=()=>th()?.config,d0=r=>th()?.[`_${r}`];class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m0(r){return(await fetch(r,{credentials:"include"})).ok}function MA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const _l={};function xA(){const r={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?r.emulator.push(t):r.prod.push(t);return r}function VA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let V_=!1;function g0(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||_l[r]===t||_l[r]||V_)return;_l[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=xA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,F){x.setAttribute("width","24"),x.setAttribute("id",F),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{V_=!0,d()},x}function A(x,F){x.setAttribute("id",F),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=VA(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),gt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ht=x.element;p(ht),A(J,nt);const Ht=y();_(gt,dt),ht.append(gt,$,J,Ht),document.body.appendChild(ht)}c?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function kA(){const r=th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function HA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const GA="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=GA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?FA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,a)}}function FA(r,t){return r.replace(QA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const QA=/\{\$([^}]+)}/g;function KA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(U_(c)&&U_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}function Ul(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function YA(r,t){const i=new XA(r,t);return i.subscribe.bind(i)}class XA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ZA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}function en(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class $A{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new OA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WA(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JA(r){return r===kr?void 0:r}function WA(r){return r.instantiationMode==="EAGER"}class tS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new $A(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const eS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},nS=Ot.INFO,iS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},sS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=iS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=nS,this._logHandler=sS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const rS=(r,t)=>t.some(i=>r instanceof i);let k_,L_;function aS(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Hd=new WeakMap,y0=new WeakMap,Dd=new WeakMap,ym=new WeakMap;function lS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&p0.set(i,r)}).catch(()=>{}),ym.set(t,r),t}function uS(r){if(Hd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Hd.set(r,t)}let Gd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Hd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||y0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cS(r){Gd=r(Gd)}function hS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Od(this),t,...i);return y0.set(a,t.sort?t.sort():[t]),Gs(a)}:oS().includes(r)?function(...t){return r.apply(Od(this),t),Gs(p0.get(this))}:function(...t){return Gs(r.apply(Od(this),t))}}function fS(r){return typeof r=="function"?hS(r):(r instanceof IDBTransaction&&uS(r),rS(r,aS())?new Proxy(r,Gd):r)}function Gs(r){if(r instanceof IDBRequest)return lS(r);if(Dd.has(r))return Dd.get(r);const t=fS(r);return t!==r&&(Dd.set(r,t),ym.set(t,r)),t}const Od=r=>ym.get(r);function dS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Gs(d.result),_.oldVersion,_.newVersion,Gs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Md=new Map;function P_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Md.get(t))return Md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=gS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||mS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Md.set(t,c),c}cS(r=>({...r,get:(t,i,a)=>P_(t,i)||r.get(t,i,a),has:(t,i)=>!!P_(t,i)||r.has(t,i)}));class pS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yS(r){return r.getComponent()?.type==="VERSION"}const Fd="@firebase/app",z_="0.14.6";const Ji=new pm("@firebase/app"),_S="@firebase/app-compat",vS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",bS="@firebase/auth-compat",wS="@firebase/database",RS="@firebase/data-connect",IS="@firebase/database-compat",CS="@firebase/functions",NS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",xS="@firebase/messaging-compat",VS="@firebase/performance",US="@firebase/performance-compat",kS="@firebase/remote-config",LS="@firebase/remote-config-compat",PS="@firebase/storage",zS="@firebase/storage-compat",jS="@firebase/firestore",BS="@firebase/ai",qS="@firebase/firestore-compat",HS="firebase",GS="12.6.0";const Qd="[DEFAULT]",FS={[Fd]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[vS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[bS]:"fire-auth-compat",[wS]:"fire-rtdb",[RS]:"fire-data-connect",[IS]:"fire-rtdb-compat",[CS]:"fire-fn",[NS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[xS]:"fire-fcm-compat",[VS]:"fire-perf",[US]:"fire-perf-compat",[kS]:"fire-rc",[LS]:"fire-rc-compat",[PS]:"fire-gcs",[zS]:"fire-gcs-compat",[jS]:"fire-fst",[qS]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};const kc=new Map,QS=new Map,Kd=new Map;function j_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(Kd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,r);for(const i of kc.values())j_(i,r);for(const i of QS.values())j_(i,r);return!0}function _m(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Vl("app","Firebase",KS);class YS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const eo=GS;function _0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=f0()),!i)throw Fs.create("no-options");const c=kc.get(l);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new tS(l);for(const _ of Kd.values())d.addComponent(_);const p=new YS(i,a,d);return kc.set(l,p),p}function v0(r=Qd){const t=kc.get(r);if(!t&&r===Qd&&f0())return _0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=FS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XS="firebase-heartbeat-database",ZS=1,bl="firebase-heartbeat-store";let xd=null;function E0(){return xd||(xd=dS(XS,ZS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),xd}async function $S(r){try{const i=(await E0()).transaction(bl),a=await i.objectStore(bl).get(T0(r));return await i.done,a}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function B_(r,t){try{const a=(await E0()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,T0(r)),await a.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function T0(r){return`${r.name}!${r.options.appId}`}const JS=1024,WS=30;class tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WS){const l=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:a}=eb(this._heartbeatsCache.heartbeats),l=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function eb(r,t=JS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),H_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?HA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $S(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return B_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function H_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function ib(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function sb(r){Qa(new jr("platform-logger",t=>new pS(t),"PRIVATE")),Qa(new jr("heartbeat",t=>new tb(t),"PRIVATE")),Qs(Fd,z_,r),Qs(Fd,z_,"esm2020"),Qs("fire-js","")}sb("");var rb="firebase",ab="12.6.0";Qs(rb,ab,"app");function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=A0,S0=new Vl("auth","Firebase",A0());const Lc=new pm("@firebase/auth");function lb(r,...t){Lc.logLevel<=Ot.WARN&&Lc.warn(`Auth (${eo}): ${r}`,...t)}function wc(r,...t){Lc.logLevel<=Ot.ERROR&&Lc.error(`Auth (${eo}): ${r}`,...t)}function Wi(r,...t){throw vm(r,...t)}function Ei(r,...t){return vm(r,...t)}function b0(r,t,i){const a={...ob(),[t]:i};return new Vl("auth","Firebase",a).create(t,{appName:r.name})}function Ks(r){return b0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return S0.create(r,...t)}function yt(r,t,...i){if(!r)throw vm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw wc(t),new Error(t)}function ts(r,t){r||Zi(t)}function Yd(){return typeof self<"u"&&self.location?.href||""}function ub(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||PA()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=UA()||zA()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Em(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class w0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new kl(3e4,6e4);function eh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function no(r,t,i,a,l={}){return R0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ul({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return LA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),w0.fetch()(await C0(r,r.config.apiHost,i,p),y)})}async function R0(r,t,i){r._canInitEmulator=!1;const a={...fb,...t};try{const l=new gb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw vc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw b0(r,A,y);Wi(r,A)}}catch(l){if(l instanceof is)throw l;Wi(r,"network-request-failed",{message:String(l)})}}async function I0(r,t,i,a,l={}){const c=await no(r,t,i,a,l);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function C0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Em(r.config,l):`${r.config.apiScheme}://${l}`;return db.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),mb.get())})}}function vc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(r,t,a);return l.customData._tokenResponse=i,l}async function pb(r,t){return no(r,"POST","/v1/accounts:delete",t)}async function Pc(r,t){return no(r,"POST","/v1/accounts:lookup",t)}function vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yb(r,t=!1){const i=en(r),a=await i.getIdToken(t),l=Tm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:vl(Vd(l.auth_time)),issuedAtTime:vl(Vd(l.iat)),expirationTime:vl(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function Tm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const l=c0(i);return l?JSON.parse(l):(wc("Failed to decode base64 JWT payload"),null)}catch(l){return wc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function F_(r){const t=Tm(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&_b(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _b({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zc(r){const t=r.auth,i=await r.getIdToken(),a=await wl(r,Pc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?N0(l.providerUserInfo):[],d=Tb(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Eb(r){const t=en(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Tb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function N0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Ab(r,t){const i=await R0(r,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await C0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),w0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Sb(r,t){return no(r,"POST","/v2/accounts:revokeToken",eh(r,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=F_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ab(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ba;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Ls(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yb(this,t)}reload(){return Eb(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ks(this.auth));const t=await this.getIdToken();return await wl(this,pb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:F,providerData:$,stsTokenManager:nt}=i;yt(w&&nt,t,"internal-error");const J=Ba.fromJSON(this.name,nt);yt(typeof w=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),yt(typeof x=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(_,t.name),Ls(y,t.name),Ls(A,t.name);const dt=new Zn({uid:w,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:A});return $&&Array.isArray($)&&(dt.providerData=$.map(gt=>({...gt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?N0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(a);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Q_=new Map;function $i(r){ts(r instanceof Function,"Expected a class definition");let t=Q_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Q_.set(r,t),t)}class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}D0.type="NONE";const K_=D0;function Rc(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Pc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa($i(K_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||$i(K_);const d=Rc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const x=await Pc(t,{idToken:A}).catch(()=>{});if(!x)break;w=await Zn._fromGetAccountInfoResponse(t,x,A)}else w=Zn._fromJSON(t,A);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new qa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,t,a))}}function Y_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(O0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(k0(t))return"Blackberry";if(L0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||x0(t))&&!t.includes("edge/"))return"Chrome";if(U0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function O0(r=$e()){return/firefox\//i.test(r)}function M0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function x0(r=$e()){return/crios\//i.test(r)}function V0(r=$e()){return/iemobile/i.test(r)}function U0(r=$e()){return/android/i.test(r)}function k0(r=$e()){return/blackberry/i.test(r)}function L0(r=$e()){return/webos/i.test(r)}function Am(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bb(r=$e()){return Am(r)&&!!window.navigator?.standalone}function wb(){return jA()&&document.documentMode===10}function P0(r=$e()){return Am(r)||U0(r)||L0(r)||k0(r)||/windows phone/i.test(r)||V0(r)}function z0(r,t=[]){let i;switch(r){case"Browser":i=Y_($e());break;case"Worker":i=`${Y_($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class Rb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Ib(r,t={}){return no(r,"GET","/v2/passwordPolicy",eh(r,t))}const Cb=6;class Nb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Cb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Db{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new Rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Pc(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ks(this));const i=t?en(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ib(this),i=new Nb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Sb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(r){return en(r)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=YA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(r){Sm=r}function Mb(r){return Sm.loadJS(r)}function xb(){return Sm.gapiScript}function Vb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Ub(r,t){const i=_m(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function kb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Lb(r,t,i){const a=nh(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=j0(t),{host:d,port:p}=Pb(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(zr(y,a.config.emulator)&&zr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(m0(`${c}//${d}${_}`),g0("Auth",!0)):zb()}function j0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Pb(r){const t=j0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Z_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Z_(d)}}}function Z_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class B0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ha(r,t){return I0(r,"POST","/v1/accounts:signInWithIdp",eh(r,t))}const jb="http://localhost";class Br extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Br(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class q0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ll extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Ll{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends Ll{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends Ll{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function Bb(r,t){return I0(r,"POST","/v1/accounts:signUp",eh(r,t))}class Zs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=$_(a);return new Zs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=$_(a);return new Zs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function $_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function qb(r){if(Xn(r.app))return Promise.reject(Ks(r));const t=nh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Zs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Bb(t,{returnSecureToken:!0}),a=await Zs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class jc extends is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new jc(t,i,a,l)}}function H0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(r,c,t,a):c})}async function Hb(r,t,i=!1){const a=await wl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Zs._forOperation(r,"link",a)}async function Gb(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Ks(a));const l="reauthenticate";try{const c=await wl(r,H0(a,l,t,r),i);yt(c.idToken,a,"internal-error");const d=Tm(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),Zs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function Fb(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ks(r));const a="signIn",l=await H0(r,a,t),c=await Zs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Qb(r,t,i,a){return en(r).onIdTokenChanged(t,i,a)}function Kb(r,t,i){return en(r).beforeAuthStateChanged(t,i)}function Yb(r,t,i,a){return en(r).onAuthStateChanged(t,i,a)}const Bc="__sak";class G0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xb=1e3,Zb=10;class F0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Zb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}F0.type="LOCAL";const $b=F0;class Q0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Q0.type="SESSION";const K0=Q0;function Jb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Jb(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function bm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Wb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=bm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function tw(r){Ti().location.href=r}function Y0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function ew(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nw(){return navigator?.serviceWorker?.controller||null}function iw(){return Y0()?self:null}const X0="firebaseLocalStorageDb",sw=1,qc="firebaseLocalStorage",Z0="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(r,t){return r.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function rw(){const r=indexedDB.deleteDatabase(X0);return new Pl(r).toPromise()}function Zd(){const r=indexedDB.open(X0,sw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(qc,{keyPath:Z0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(qc)?t(a):(a.close(),await rw(),t(await Zd()))})})}async function J_(r,t,i){const a=sh(r,!0).put({[Z0]:t,value:i});return new Pl(a).toPromise()}async function aw(r,t){const i=sh(r,!1).get(t),a=await new Pl(i).toPromise();return a===void 0?null:a.value}function W_(r,t){const i=sh(r,!0).delete(t);return new Pl(i).toPromise()}const ow=800,lw=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>lw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ew(),!this.activeServiceWorker)return;this.sender=new Wb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await J_(t,Bc,"1"),await W_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>J_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>aw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=sh(l,!1).getAll();return new Pl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const uw=$0;new kl(3e4,6e4);function cw(r,t){return t?$i(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wm extends B0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function hw(r){return Fb(r.auth,new wm(r),r.bypassAuthState)}function fw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Gb(i,new wm(r),r.bypassAuthState)}async function dw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Hb(i,new wm(r),r.bypassAuthState)}class J0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hw;case"linkViaPopup":case"linkViaRedirect":return dw;case"reauthViaPopup":case"reauthViaRedirect":return fw;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mw=new kl(2e3,1e4);class ja extends J0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mw.get())};t()}}ja.currentPopupAction=null;const gw="pendingRedirect",Ic=new Map;class pw extends J0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const a=await yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yw(r,t){const i=Ew(t),a=vw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function _w(r,t){Ic.set(r._key(),t)}function vw(r){return $i(r._redirectPersistence)}function Ew(r){return Rc(gw,r.config.apiKey,r.name)}async function Tw(r,t,i=!1){if(Xn(r.app))return Promise.reject(Ks(r));const a=nh(r),l=cw(a,t),d=await new pw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Aw=600*1e3;class Sw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!W0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Aw&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(t))}saveEventToCache(t){this.cachedEventUids.add(tv(t)),this.lastProcessedEventTime=Date.now()}}function tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function W0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function bw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(r);default:return!1}}async function ww(r,t={}){return no(r,"GET","/v1/projects",t)}const Rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iw=/^https?/;async function Cw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ww(r);for(const i of t)try{if(Nw(i))return}catch{}Wi(r,"unauthorized-domain")}function Nw(r){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Iw.test(i))return!1;if(Rw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Dw=new kl(3e4,6e4);function ev(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ow(r){return new Promise((t,i)=>{function a(){ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ev(),i(Ei(r,"network-request-failed"))},timeout:Dw.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=Vb("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(r,"network-request-failed"))},Mb(`${xb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Mw(r){return Cc=Cc||Ow(r),Cc}const xw=new kl(5e3,15e3),Vw="__/auth/iframe",Uw="emulator/auth/iframe",kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pw(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Em(t,Uw):`https://${r.config.authDomain}/${Vw}`,a={apiKey:t.apiKey,appName:r.name,v:eo},l=Lw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ul(a).slice(1)}`}async function zw(r){const t=await Mw(r),i=Ti().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:Pw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),p=Ti().setTimeout(()=>{c(d)},xw.get());function _(){Ti().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bw=500,qw=600,Hw="_blank",Gw="http://localhost";class nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fw(r,t,i,a=Bw,l=qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...jw,width:a.toString(),height:l.toString(),top:c,left:d},y=$e().toLowerCase();i&&(p=x0(y)?Hw:i),O0(y)&&(t=t||Gw,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[F,$])=>`${x}${F}=${$},`,"");if(bb(y)&&p!=="_self")return Qw(t||"",p),new nv(null);const w=window.open(t||"",p,A);yt(w,r,"popup-blocked");try{w.focus()}catch{}return new nv(w)}function Qw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Kw="__/auth/handler",Yw="emulator/auth/handler",Xw=encodeURIComponent("fac");async function iv(r,t,i,a,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof q0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",KA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Ll){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${Xw}=${encodeURIComponent(_)}`:"";return`${Zw(r)}?${Ul(p).slice(1)}${y}`}function Zw({config:r}){return r.emulator?Em(r,Yw):`https://${r.authDomain}/${Kw}`}const Ud="webStorageSupport";class $w{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=Tw,this._overrideRedirectResult=_w}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await iv(t,i,a,Yd(),l);return Fw(t,c,bm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await iv(t,i,a,Yd(),l);return tw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await zw(t),a=new Sw(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},l=>{const c=l?.[0]?.[Ud];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Cw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return P0()||M0()||Am()}}const Jw=$w;var sv="@firebase/auth",rv="1.11.1";class Ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eR(r){Qa(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z0(r)},y=new Db(a,l,c,_);return kb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new jr("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(a=>new Ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(sv,rv,tR(r)),Qs(sv,rv,"esm2020")}const nR=300,iR=d0("authIdTokenMaxAge")||nR;let av=null;const sR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>iR)return;const l=i?.token;av!==l&&(av=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rR(r=v0()){const t=_m(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ub(r,{popupRedirectResolver:Jw,persistence:[uw,$b,K0]}),a=d0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=sR(c.toString());Kb(i,d,()=>d(i.currentUser)),Qb(i,p=>d(p))}}const l=h0("auth");return l&&Lb(i,`http://${l}`),i}function aR(){return document.getElementsByTagName("head")?.[0]??document}Ob({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",aR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eR("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,tE;(function(){var r;function t(N,b){function C(){}C.prototype=b.prototype,N.F=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,R){for(var S=Array(arguments.length-2),at=2;at<arguments.length;at++)S[at-2]=arguments[at];return b.prototype[D].apply(V,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],D=N.g[2];let R=N.g[3],S;S=b+(R^C&(D^R))+V[0]+3614090360&4294967295,b=C+(S<<7&4294967295|S>>>25),S=R+(D^b&(C^D))+V[1]+3905402710&4294967295,R=b+(S<<12&4294967295|S>>>20),S=D+(C^R&(b^C))+V[2]+606105819&4294967295,D=R+(S<<17&4294967295|S>>>15),S=C+(b^D&(R^b))+V[3]+3250441966&4294967295,C=D+(S<<22&4294967295|S>>>10),S=b+(R^C&(D^R))+V[4]+4118548399&4294967295,b=C+(S<<7&4294967295|S>>>25),S=R+(D^b&(C^D))+V[5]+1200080426&4294967295,R=b+(S<<12&4294967295|S>>>20),S=D+(C^R&(b^C))+V[6]+2821735955&4294967295,D=R+(S<<17&4294967295|S>>>15),S=C+(b^D&(R^b))+V[7]+4249261313&4294967295,C=D+(S<<22&4294967295|S>>>10),S=b+(R^C&(D^R))+V[8]+1770035416&4294967295,b=C+(S<<7&4294967295|S>>>25),S=R+(D^b&(C^D))+V[9]+2336552879&4294967295,R=b+(S<<12&4294967295|S>>>20),S=D+(C^R&(b^C))+V[10]+4294925233&4294967295,D=R+(S<<17&4294967295|S>>>15),S=C+(b^D&(R^b))+V[11]+2304563134&4294967295,C=D+(S<<22&4294967295|S>>>10),S=b+(R^C&(D^R))+V[12]+1804603682&4294967295,b=C+(S<<7&4294967295|S>>>25),S=R+(D^b&(C^D))+V[13]+4254626195&4294967295,R=b+(S<<12&4294967295|S>>>20),S=D+(C^R&(b^C))+V[14]+2792965006&4294967295,D=R+(S<<17&4294967295|S>>>15),S=C+(b^D&(R^b))+V[15]+1236535329&4294967295,C=D+(S<<22&4294967295|S>>>10),S=b+(D^R&(C^D))+V[1]+4129170786&4294967295,b=C+(S<<5&4294967295|S>>>27),S=R+(C^D&(b^C))+V[6]+3225465664&4294967295,R=b+(S<<9&4294967295|S>>>23),S=D+(b^C&(R^b))+V[11]+643717713&4294967295,D=R+(S<<14&4294967295|S>>>18),S=C+(R^b&(D^R))+V[0]+3921069994&4294967295,C=D+(S<<20&4294967295|S>>>12),S=b+(D^R&(C^D))+V[5]+3593408605&4294967295,b=C+(S<<5&4294967295|S>>>27),S=R+(C^D&(b^C))+V[10]+38016083&4294967295,R=b+(S<<9&4294967295|S>>>23),S=D+(b^C&(R^b))+V[15]+3634488961&4294967295,D=R+(S<<14&4294967295|S>>>18),S=C+(R^b&(D^R))+V[4]+3889429448&4294967295,C=D+(S<<20&4294967295|S>>>12),S=b+(D^R&(C^D))+V[9]+568446438&4294967295,b=C+(S<<5&4294967295|S>>>27),S=R+(C^D&(b^C))+V[14]+3275163606&4294967295,R=b+(S<<9&4294967295|S>>>23),S=D+(b^C&(R^b))+V[3]+4107603335&4294967295,D=R+(S<<14&4294967295|S>>>18),S=C+(R^b&(D^R))+V[8]+1163531501&4294967295,C=D+(S<<20&4294967295|S>>>12),S=b+(D^R&(C^D))+V[13]+2850285829&4294967295,b=C+(S<<5&4294967295|S>>>27),S=R+(C^D&(b^C))+V[2]+4243563512&4294967295,R=b+(S<<9&4294967295|S>>>23),S=D+(b^C&(R^b))+V[7]+1735328473&4294967295,D=R+(S<<14&4294967295|S>>>18),S=C+(R^b&(D^R))+V[12]+2368359562&4294967295,C=D+(S<<20&4294967295|S>>>12),S=b+(C^D^R)+V[5]+4294588738&4294967295,b=C+(S<<4&4294967295|S>>>28),S=R+(b^C^D)+V[8]+2272392833&4294967295,R=b+(S<<11&4294967295|S>>>21),S=D+(R^b^C)+V[11]+1839030562&4294967295,D=R+(S<<16&4294967295|S>>>16),S=C+(D^R^b)+V[14]+4259657740&4294967295,C=D+(S<<23&4294967295|S>>>9),S=b+(C^D^R)+V[1]+2763975236&4294967295,b=C+(S<<4&4294967295|S>>>28),S=R+(b^C^D)+V[4]+1272893353&4294967295,R=b+(S<<11&4294967295|S>>>21),S=D+(R^b^C)+V[7]+4139469664&4294967295,D=R+(S<<16&4294967295|S>>>16),S=C+(D^R^b)+V[10]+3200236656&4294967295,C=D+(S<<23&4294967295|S>>>9),S=b+(C^D^R)+V[13]+681279174&4294967295,b=C+(S<<4&4294967295|S>>>28),S=R+(b^C^D)+V[0]+3936430074&4294967295,R=b+(S<<11&4294967295|S>>>21),S=D+(R^b^C)+V[3]+3572445317&4294967295,D=R+(S<<16&4294967295|S>>>16),S=C+(D^R^b)+V[6]+76029189&4294967295,C=D+(S<<23&4294967295|S>>>9),S=b+(C^D^R)+V[9]+3654602809&4294967295,b=C+(S<<4&4294967295|S>>>28),S=R+(b^C^D)+V[12]+3873151461&4294967295,R=b+(S<<11&4294967295|S>>>21),S=D+(R^b^C)+V[15]+530742520&4294967295,D=R+(S<<16&4294967295|S>>>16),S=C+(D^R^b)+V[2]+3299628645&4294967295,C=D+(S<<23&4294967295|S>>>9),S=b+(D^(C|~R))+V[0]+4096336452&4294967295,b=C+(S<<6&4294967295|S>>>26),S=R+(C^(b|~D))+V[7]+1126891415&4294967295,R=b+(S<<10&4294967295|S>>>22),S=D+(b^(R|~C))+V[14]+2878612391&4294967295,D=R+(S<<15&4294967295|S>>>17),S=C+(R^(D|~b))+V[5]+4237533241&4294967295,C=D+(S<<21&4294967295|S>>>11),S=b+(D^(C|~R))+V[12]+1700485571&4294967295,b=C+(S<<6&4294967295|S>>>26),S=R+(C^(b|~D))+V[3]+2399980690&4294967295,R=b+(S<<10&4294967295|S>>>22),S=D+(b^(R|~C))+V[10]+4293915773&4294967295,D=R+(S<<15&4294967295|S>>>17),S=C+(R^(D|~b))+V[1]+2240044497&4294967295,C=D+(S<<21&4294967295|S>>>11),S=b+(D^(C|~R))+V[8]+1873313359&4294967295,b=C+(S<<6&4294967295|S>>>26),S=R+(C^(b|~D))+V[15]+4264355552&4294967295,R=b+(S<<10&4294967295|S>>>22),S=D+(b^(R|~C))+V[6]+2734768916&4294967295,D=R+(S<<15&4294967295|S>>>17),S=C+(R^(D|~b))+V[13]+1309151649&4294967295,C=D+(S<<21&4294967295|S>>>11),S=b+(D^(C|~R))+V[4]+4149444226&4294967295,b=C+(S<<6&4294967295|S>>>26),S=R+(C^(b|~D))+V[11]+3174756917&4294967295,R=b+(S<<10&4294967295|S>>>22),S=D+(b^(R|~C))+V[2]+718787259&4294967295,D=R+(S<<15&4294967295|S>>>17),S=C+(R^(D|~b))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+R&4294967295}a.prototype.v=function(N,b){b===void 0&&(b=N.length);const C=b-this.blockSize,V=this.C;let D=this.h,R=0;for(;R<b;){if(D==0)for(;R<=C;)l(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<b;)if(V[D++]=N.charCodeAt(R++),D==this.blockSize){l(this,V),D=0;break}}else for(;R<b;)if(V[D++]=N[R++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[b++]=this.g[C]>>>V&255;return N};function c(N,b){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const R=N[D]|0;V&&R==b||(C[D]=R,V=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return J(y(-N));const b=[];let C=1;for(let V=0;N>=C;V++)b[V]=N/C|0,C*=4294967296;return new d(b,0)}function A(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return J(A(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let V=w;for(let R=0;R<N.length;R+=8){var D=Math.min(8,N.length-R);const S=parseInt(N.substring(R,R+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(S))):(V=V.j(C),V=V.add(y(S)))}return V}var w=_(0),x=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let N=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(nt(this))return"-"+J(this).toString(N);const b=y(Math.pow(N,6));var C=this;let V="";for(;;){const D=Ht(C,b).g;C=dt(C,D.j(b));let R=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,$(C))return R+V;for(;R.length<6;)R="0"+R;V=R+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=dt(this,N),nt(N)?-1:$(N)?0:1};function J(N){const b=N.g.length,C=[];for(let V=0;V<b;V++)C[V]=~N.g[V];return new d(C,~N.h).add(x)}r.abs=function(){return nt(this)?J(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=b;D++){let R=V+(this.i(D)&65535)+(N.i(D)&65535),S=(R>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=S>>>16,R&=65535,S&=65535,C[D]=S<<16|R}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(N,b){return N.add(J(b))}r.j=function(N){if($(this)||$(N))return w;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(this.l(F)<0&&N.l(F)<0)return y(this.m()*N.m());const b=this.g.length+N.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const R=this.i(V)>>>16,S=this.i(V)&65535,at=N.i(D)>>>16,bt=N.i(D)&65535;C[2*V+2*D]+=S*bt,gt(C,2*V+2*D),C[2*V+2*D+1]+=R*bt,gt(C,2*V+2*D+1),C[2*V+2*D+1]+=S*at,gt(C,2*V+2*D+1),C[2*V+2*D+2]+=R*at,gt(C,2*V+2*D+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function gt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function ht(N,b){this.g=N,this.h=b}function Ht(N,b){if($(b))throw Error("division by zero");if($(N))return new ht(w,w);if(nt(N))return b=Ht(J(N),b),new ht(J(b.g),J(b.h));if(nt(b))return b=Ht(N,J(b)),new ht(J(b.g),b.h);if(N.g.length>30){if(nt(N)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=b;V.l(N)<=0;)C=Wt(C),V=Wt(V);var D=Vt(C,1),R=Vt(V,1);for(V=Vt(V,2),C=Vt(C,2);!$(V);){var S=R.add(V);S.l(N)<=0&&(D=D.add(C),R=S),V=Vt(V,1),C=Vt(C,1)}return b=dt(N,D.j(b)),new ht(D,b)}for(D=w;N.l(b)>=0;){for(C=Math.max(1,Math.floor(N.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),R=y(C),S=R.j(b);nt(S)||S.l(N)>0;)C-=V,R=y(C),S=R.j(b);$(R)&&(R=x),D=D.add(R),N=dt(N,S)}return new ht(D,N)}r.B=function(N){return Ht(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Wt(N){const b=N.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Vt(N,b){const C=b>>5;b%=32;const V=N.g.length-C,D=[];for(let R=0;R<V;R++)D[R]=b>0?N.i(R+C)>>>b|N.i(R+C+1)<<32-b:N.i(R+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ys=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var eE,ml,nE,Nc,$d,iE,sE,rE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in v))break t;v=v[k]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,k,j){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[k].apply(T,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const j=k.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=k[W]}else u.push(k)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new nt(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Vt=!1,N=new gt,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){J(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(at,D),at.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),q=0;function tt(u,m,v,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=k,this.key=++q,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let v,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(v in T)u[v]=T[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,k){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=wt(u,m,T,k);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new tt(m,this.src,j,!!T,k),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],k=Array.prototype.indexOf.call(T,m,void 0),j;(j=k>=0)&&Array.prototype.splice.call(T,k,1),j&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let k=0;k<u.length;++k){const j=u[k];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return k}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,v,T,k){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,k);return null}return v=uo(v),u&&u[bt]?u.J(m,v,p(T)?!!T.capture:!1,k):rr(u,m,v,!1,T,k)}function rr(u,m,v,T,k,j){if(!m)throw Error("Invalid event type");const W=p(k)?!!k.capture:!!k;let At=ar(u);if(At||(u[Lt]=At=new st(u)),v=At.add(m,v,T,W,j),v.proxy)return v;if(T=Qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)R||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function u(v){return m.call(u.src,u.listener,v)}const m=oo;return u}function Kr(u,m,v,T,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)Kr(u,m[j],v,T,k);else T=p(T)?!!T.capture:!!T,v=uo(v),u&&u[bt]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=wt(m,v,T,k),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,k)),(v=u>-1?m[u]:null)&&Yr(v))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent($n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ar(m))?(_t(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ut(u)}}}function $n(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=v.call(T,m)}return u}function ar(u){return u=u[Lt],u instanceof st?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function pe(){V.call(this),this.i=new st(this),this.M=this,this.G=null}w(pe,V),pe.prototype[bt]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Kr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var k=m;m=new D(T,u),et(m,k)}k=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],k=ss(j,T,!0,m)&&k;if(j=m.g=u,k=ss(j,T,!0,m)&&k,k=ss(j,T,!1,m)&&k,v)for(W=0;W<v.length;W++)j=m.g=v[W],k=ss(j,T,!1,m)&&k}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ss(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const At=W.listener,fe=W.ha||W.src;W.fa&&_t(u.i,W),k=At.call(fe,T)!==!1&&k}}return k&&!T.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Gl(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){V.call(this),this.h=u,this.g={}}w(or,V);var co=[];function ho(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Yr(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),ho(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,wh=d.JSON.parse,Fl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ql(){}function Kl(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}w(Pe,D);function An(){D.call(this,"c")}w(An,D);var he={},Yl=null;function Xr(){return Yl=Yl||new pe}he.Ia="serverreachability";function Xl(u){D.call(this,he.Ia,u)}w(Xl,D);function Jn(u){const m=Xr();Ne(m,new Xl(m))}he.STAT_EVENT="statevent";function lr(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}w(lr,D);function ye(u){const m=Xr();Ne(m,new lr(m,u))}he.Ja="timingevent";function Wn(u,m){D.call(this,he.Ja,u),this.size=m}w(Wn,D);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Rh(u,m,v,T,k,j){u.info(function(){if(u.g)if(j){var W="",At=j.split("&");for(let Bt=0;Bt<At.length;Bt++){var fe=At[Bt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Rn=re.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(re+"="+fe+"&"):W+(re+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+v+`
`+W})}function Zl(u,m,v,T,k,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+v+`
`+j+" "+W})}function ei(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,v)+(T?" "+T:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return rs(j)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function hr(){}w(hr,Ql),hr.prototype.g=function(){return new XMLHttpRequest},mo=new hr;function Oi(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ni(u,m,v){u.M=1,u.A=fr(Ee(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ii(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=fu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(co[0]=k.toString()),k=co);for(let j=0;j<k.length;j++){const W=se(v,k[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const At=qn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||fe==7||(fe==8||Bt<=0?Jn(3):Jn(2)),si(this);var m=this.g.ca();this.X=m;var v=Ch(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var j=T;break e}}j=null}if(u=j)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=Wl(this,v),re==Ve){At==4&&(this.m=4,ye(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,re,null),ri(this,re);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),No(W),W.P=!0,ye(11))}}else ei(this.i,this.l,v,null),ri(this,v);At==4&&fn(this),this.o&&!this.K&&(At==4?lu(this.j,this):(this.o=!1,ii(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),Sn(this)}}}catch{}finally{}};function Ch(u){if(!Jl(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,k=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(k&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wl(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ii(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(Jn(),ye(17)),fn(this),this.m=2,Sn(this)):$r(this,this.T-u)};function Sn(u){u.j.I==0||u.K||lu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ra(v),ds(v);else break t;vr(v),ye(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(y(v.Va,v),6e3));ai(v.h)<=1&&v.ta&&(v.ta=void 0)}else di(v,11)}else if((u.L||v.g==u)&&ra(v),!S(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let Bt=k[m];const re=Bt[0];if(!(re<=v.K))if(v.K=re,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Rn=Bt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const mi=Bt[4];mi!=null&&(v.za=mi,v.j.info("SVER="+v.za));const Hn=Bt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const Er=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var j=T.h;j.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(yo(j,j.h),j.h=null))}if(T.G){const aa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Qt(T.J,T.G,aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=hu(T,T.L?T.ba:null,T.W),W.L){_o(T.h,W);var At=W,fe=T.O;fe&&(At.H=fe),At.D&&(si(At),ii(At)),T.g=W}else au(T);v.i.length>0&&fi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||di(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?di(v,7):Io(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Jn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let k,j=null;T>=0?(k=u[v].substring(0,T),j=u[v].substring(T+1)):k=u[v],m(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,Eo(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),as(this,m[4]),this.h=li(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,Wr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,Wr,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(dr(v,v.charAt(0)=="/"?To:eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",dr(v,nu)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)as(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let W=0;W<k.length;){const At=k[W++];At=="."?T&&W==k.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&W==k.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=k}return v?m.h=T:v=u.i.toString()!=="",v?Eo(m,su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Ue(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof ls?(u.i=m,ea(u.i,u.l)):(v||(m=dr(m,os)),u.i=new ls(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function fr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,eu=/[#\?:]/g,To=/[#\?]/g,os=/[#\?@]/g,nu=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ls.prototype,r.add=function(u,m){sn(this),this.i=null,u=us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function iu(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return sn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(k){u.call(m,k,T,this)},this)},this)};function So(u,m){sn(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=us(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){iu(u,m),v.length>0&&(u.i=null,u.g.set(us(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const k=Oi(v);v=So(this,v);for(let j=0;j<v.length;j++){let W=k;v[j]!==""&&(W+="="+Oi(v[j])),u.push(W)}}return this.i=u.join("&")};function su(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const k=T.toLowerCase();T!=k&&(iu(this,T),ta(this,k,v))},u)),u.j=m}function jn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=A(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const v=new Ln,T=new AbortController,k=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(k),j.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(v)}catch{}}function cs(){this.g=new Fl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ui,Ql),ui.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(mr,pe),r=mr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):Bn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function gr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,pe);var ci=/^https?$/i,wo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){pr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)v.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wo,m,void 0)>=0)||T||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){pr(this,j)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ro(u),Mi(u)}function Ro(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},r.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let W=String(u.D).match(tu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ci.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var k=qn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Ro(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(S(u[T]))continue;var v=$l(u[T]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[k]||[];m[k]=j,j.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=hu(this,null,this.W),fi(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),_r(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=fr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=fu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}cu(u)}function ds(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function ia(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Vt||(Wt(),Vt=!0),N.add(m,u),u.D=0}}function sa(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(y(u.Ea,u,m),uu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Pn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=M(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ru(this,k,m),v=Ee(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),_r(this,v),j&&(this.R?m="headers="+Oi(wn(j))+"&"+m:this.u&&gr(v,this.u,j)),yo(this.h,k),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),k.U=!0,ni(k,v,null)):ni(k,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),_r(u,T),u.u&&u.o&&gr(T,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),ni(v,T,m)}function _r(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=k[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let Bt=!0;for(let re=0;re<v;re++){var j=k[re].g;const Rn=k[re].map;if(j-=At,j<0)At=Math.max(0,k[re].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[mi,Hn]of W){let Gn=Hn;p(Hn)&&(Gn=rs(Hn)),fe.push(j+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(Rn)}}if(Bt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Vt||(Wt(),Vt=!0),N.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(y(u.Da,u),uu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),ou(this))};function No(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fr(Ee(m)),v.u=null,v.R=!0,Zr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),vr(this),ye(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lu(u,m){var v=null;if(u.g==m){ra(u),No(u),u.g=null;var T=2}else if(oi(u.h,m))v=m.G,_o(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Xr(),Ne(T,new Wn(T,v)),fi(u)}else au(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function uu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const k=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),fr(T),k?jn(T.toString(),v):bo(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),cu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function cu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function hu(u,m,v){var T=v instanceof dn?Ee(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const j=new dn(null);T&&Ue(j,T),m&&(j.g=m),k&&as(j,k),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),_r(u,T),T}function fu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ui({ab:v})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}r=du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Io(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rs(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,We.Z.N.call(this)};function mu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(mu,Pe);function gu(){An.call(this),this.status=1}w(gu,An);function Vi(u){this.g=u}w(Vi,du),Vi.prototype.ra=function(){Ne(this.g,"a")},Vi.prototype.qa=function(u){Ne(this.g,new mu(u))},Vi.prototype.pa=function(u){Ne(this.g,new gu)},Vi.prototype.oa=function(){Ne(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,rE=function(){return new ms},sE=function(){return Xr()},iE=he,$d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Nc=cr,fo.COMPLETE="complete",nE=fo,Kl.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,ml=Kl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,eE=Xt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let io="12.3.0";const qr=new pm("@firebase/firestore");function ka(){return qr.logLevel}function it(r,...t){if(qr.logLevel<=Ot.DEBUG){const i=t.map(Rm);qr.debug(`Firestore (${io}): ${r}`,...i)}}function es(r,...t){if(qr.logLevel<=Ot.ERROR){const i=t.map(Rm);qr.error(`Firestore (${io}): ${r}`,...i)}}function Ka(r,...t){if(qr.logLevel<=Ot.WARN){const i=t.map(Rm);qr.warn(`Firestore (${io}): ${r}`,...i)}}function Rm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,aE(r,a,i)}function aE(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Gt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||aE(t,l,a)}function Tt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class oE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class lR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Xs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new oE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class cR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new cR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=dR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Jd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return kd(l)===kd(c)?Mt(l,c):kd(l)?1:-1}return Mt(r.length,t.length)}const mR=55296,gR=57343;function kd(r){const t=r.charCodeAt(0);return t>=mR&&t<=gR}function Ya(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const hv="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class oe extends vi{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const pR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends vi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return pR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Fe([hv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(oe.fromString(t))}static fromName(t){return new ft(oe.fromString(t).popFirst(5))}static empty(){return new ft(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new oe(t.slice()))}}function yR(r,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function _R(r,t,i,a){if(t===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function fv(r){if(!ft.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function zl(r,t){if(!lE(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const dv=-62135596800,mv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*mv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<dv)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function vR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new $s(l,ft.empty(),t)}function ER(r){return new $s(r.readTime,r.key,Rl)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(vt.min(),ft.empty(),Rl)}static max(){return new $s(vt.max(),ft.empty(),Rl)}}function TR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const AR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==AR)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function bR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(r){return r.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Nm=-1;function ah(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function wR(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const uE="";function RR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=gv(t)),t=IR(r.get(i),t);return gv(t)}function IR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case uE:i+="";break;default:i+=c}}return i}function gv(r){return r+uE+""}function pv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ir(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function cE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(t){return new yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new xe(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const CR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=CR.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const fE="server_timestamp",dE="__type__",mE="__previous_value__",gE="__local_write_time__";function Dm(r){return(r?.mapValue?.fields||{})[dE]?.stringValue===fE}function oh(r){const t=r.mapValue.fields[mE];return Dm(t)?oh(t):t}function Il(r){const t=Js(r.mapValue.fields[gE].timestampValue);return new ie(t.seconds,t.nanos)}class NR{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Gc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}const pE="__type__",DR="__max__",Ac={mapValue:{}},yE="__vector__",Fc="value";function tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:MR(r)?9007199254740991:OR(r)?10:11:pt(28295,{value:r})}function Ci(r,t){if(r===t)return!0;const i=tr(r);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),p=Js(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ws(l.bytesValue).isEqual(Ws(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ya(r.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(pv(d)!==pv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ci(d[_],p[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find((i=>Ci(i,t)))!==void 0}function Xa(r,t){if(r===t)return 0;const i=tr(r),a=tr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return _v(r.timestampValue,t.timestampValue);case 4:return _v(Il(r),Il(t));case 5:return Jd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ws(c),_=Ws(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Mt(p[y],_[y]);if(A!==0)return A}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Fc]?.arrayValue,A=_[Fc]?.arrayValue,w=Mt(y?.values?.length||0,A?.values?.length||0);return w!==0?w:vv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const x=Jd(_[w],A[w]);if(x!==0)return x;const F=Xa(p[_[w]],y[A[w]]);if(F!==0)return F}return Mt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function _v(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Js(r),a=Js(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function vv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Za(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ws(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Dc(r){switch(tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ir(a.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function tm(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function OR(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===yE}function El(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ir(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(r.arrayValue.values[i]);return t}return{...r}}function MR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ir(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(El(this.value))}}function _E(r){const t=[];return ir(r.fields,((i,a)=>{const l=new Fe([i]);if(Oc(a)){const c=_E(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function Av(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function xR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class vE{}class Me extends vE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new UR(t,i,a):i==="array-contains"?new PR(t,a):i==="in"?new zR(t,a):i==="not-in"?new jR(t,a):i==="array-contains-any"?new BR(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new kR(t,a):new LR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends vE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return EE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(r){return r.op==="and"}function TE(r){return VR(r)&&EE(r)}function VR(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function em(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(TE(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((i=>em(i))).join(",");return`${r.op}(${t})`}}function AE(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(r,t):r instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&AE(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function SE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(SE).join(" ,")+"}"})(r):"Filter"}class UR extends Me{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class kR extends Me{constructor(t,i){super(t,"in",i),this.keys=bE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class LR extends Me{constructor(t,i){super(t,"not-in",i),this.keys=bE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function bE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class PR extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&Nl(i.arrayValue,this.value)}}class zR extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class jR extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class BR extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Nl(this.value.arrayValue,a)))}}class qR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function bv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new qR(r,t,i,a,l,c,d)}function Mm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!xR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!AE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Sv(r.startAt,t.startAt)&&Sv(r.endAt,t.endAt)}function nm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HR(r,t,i,a,l,c,d,p){return new lh(r,t,i,a,l,c,d,p)}function uh(r){return new lh(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GR(r){return r.collectionGroup!==null}function Tl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Kc(Fe.keyField(),a))}return t.Ie}function Si(r){const t=Tt(r);return t.Ee||(t.Ee=FR(t,Tl(r))),t.Ee}function FR(r,t){if(r.limitType==="F")return bv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)}));const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return bv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function im(r,t,i){return new lh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return xm(Si(r),Si(t))&&r.limitType===t.limitType}function wE(r){return`${Mm(Si(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>SE(l))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Tl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Av(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,p,_){const y=Av(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Tl(a),l))})(r,t)}function QR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RE(r){return(t,i)=>{let a=!1;for(const l of Tl(r)){const c=KR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function KR(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Xa(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}const YR=new le(ft.comparator);function ns(){return YR}const IE=new le(ft.comparator);function gl(...r){let t=IE;for(const i of r)t=t.insert(i.key,i);return t}function CE(r){let t=IE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return Al()}function NE(){return Al()}function Al(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const XR=new le(ft.comparator),ZR=new xe(ft.comparator);function xt(...r){let t=ZR;for(const i of r)t=t.add(i);return t}const $R=new xe(Mt);function JR(){return $R}function Vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function DE(r){return{integerValue:""+r}}function OE(r,t){return wR(t)?DE(t):Vm(r,t)}class fh{constructor(){this._=void 0}}function WR(r,t,i){return r instanceof Yc?(function(l,c){const d={fields:{[dE]:{stringValue:fE},[gE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=oh(c)),c&&(d.fields[mE]=c),{mapValue:d}})(i,t):r instanceof Dl?xE(r,t):r instanceof Ol?VE(r,t):(function(l,c){const d=ME(l,c),p=Rv(d)+Rv(l.Ae);return tm(d)&&tm(l.Ae)?DE(p):Vm(l.serializer,p)})(r,t)}function t2(r,t,i){return r instanceof Dl?xE(r,t):r instanceof Ol?VE(r,t):i}function ME(r,t){return r instanceof Ml?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends fh{}class Dl extends fh{constructor(t){super(),this.elements=t}}function xE(r,t){const i=UE(t);for(const a of r.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ol extends fh{constructor(t){super(),this.elements=t}}function VE(r,t){let i=UE(t);for(const a of r.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Ml extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(r){return ge(r.integerValue||r.doubleValue)}function UE(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class e2{constructor(t,i){this.field=t,this.transform=i}}function n2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Dl&&l instanceof Dl||a instanceof Ol&&l instanceof Ol?Ya(a.elements,l.elements,Ci):a instanceof Ml&&l instanceof Ml?Ci(a.Ae,l.Ae):a instanceof Yc&&l instanceof Yc})(r.transform,t.transform)}class i2{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function kE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new PE(r.key,bi.none()):new jl(r.key,r.data,bi.none());{const i=r.data,a=hn.empty();let l=new xe(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new sr(r.key,a,new Tn(l.toArray()),bi.none())}}function s2(r,t,i){r instanceof jl?(function(l,c,d){const p=l.value.clone(),_=Cv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof sr?(function(l,c,d){if(!Mc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Cv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(LE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(r,t,i,a){return r instanceof jl?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=c.value.clone(),A=Nv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof sr?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=Nv(c.fieldTransforms,_,d),A=d.data;return A.setAll(LE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function r2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=ME(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>n2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends dh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sr extends dh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function LE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Cv(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,t2(d,p,i[l]))}return a}function Nv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,WR(c,d,t))}return a}class PE extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a2 extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&s2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=NE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=kE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),xt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Iv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Iv(i,a)))}}class Um{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return XR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Um(t,i,a,l)}}class l2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class u2{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Pt;function c2(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function zE(r){if(r===void 0)return es("GRPC error has no .code"),Z.UNKNOWN;switch(r){case we.OK:return Z.OK;case we.CANCELLED:return Z.CANCELLED;case we.UNKNOWN:return Z.UNKNOWN;case we.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case we.INTERNAL:return Z.INTERNAL;case we.UNAVAILABLE:return Z.UNAVAILABLE;case we.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case we.NOT_FOUND:return Z.NOT_FOUND;case we.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case we.ABORTED:return Z.ABORTED;case we.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case we.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function h2(){return new TextEncoder}const f2=new Ys([4294967295,4294967295],0);function Dv(r){const t=h2().encode(r),i=new tE;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([l,c],0)]}class km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(a<0)throw new pl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ys.fromNumber(a)));return l.compare(f2)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(vt.min(),l,new le(Mt),ns(),xt())}}class Bl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bl(a,i,xt(),xt(),xt())}}class xc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class jE{constructor(t,i){this.targetId=t,this.Ce=i}}class BE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Mv{constructor(){this.ve=0,this.Fe=xv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),a=xt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Bl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=xv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=Sc(),this.He=Sc(),this.Ye=new le(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(_){if(_ instanceof hE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new km(d,l,c)}catch(_){return Ka(_ instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const _=new ft(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=xt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ye,this.je,a);return this.je=ns(),this.Je=Sc(),this.He=Sc(),this.Ye=new le(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Mv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new le(ft.comparator)}function xv(){return new le(ft.comparator)}const m2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p2={and:"AND",or:"OR"};class y2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function _2(r,t){return Xc(r,t.toTimestamp())}function wi(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=Js(i);return new ie(a.seconds,a.nanos)})(r))}function Lm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function HE(r){const t=oe.fromString(r);return Gt(YE(t),10190,{key:t.toString()}),t}function am(r,t){return Lm(r.databaseId,t.path)}function Ld(r,t){const i=HE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(FE(i))}function GE(r,t){return Lm(r.databaseId,t)}function v2(r){const t=HE(r);return t.length===4?oe.emptyPath():FE(t)}function om(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function E2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:zE(y.code);return new lt(A,y.message||"")})(d);i=new BE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ld(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):vt.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new xc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Ld(r,a.document),c=a.readTime?wi(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Ld(r,a.document),c=a.removedTargetIds||[];i=new xc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new u2(l,c),p=a.targetId;i=new jE(p,d)}}return i}function T2(r,t){let i;if(t instanceof jl)i={update:Vv(r,t.key,t.value)};else if(t instanceof PE)i={delete:am(r,t.key)};else if(t instanceof sr)i={update:Vv(r,t.key,t.data),updateMask:D2(t.fieldMask)};else{if(!(t instanceof a2))return pt(16599,{Vt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function A2(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(vt.min())&&(d=wi(c)),new i2(d,l.transformResults||[])})(i,t)))):[]}function S2(r,t){return{documents:[GE(r,t.path)]}}function b2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GE(r,l);const c=(function(y){if(y.length!==0)return KE(Ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:Pa(x.field),direction:I2(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function w2(r){let t=v2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const x=QE(w);return x instanceof Ni&&TE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function($){return new Kc(za($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let x;return x=typeof w=="object"?w.value:w,ah(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(w){const x=!!w.before,F=w.values||[];return new Qc(F,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const x=!w.before,F=w.values||[];return new Qc(F,x)})(i.endAt)),HR(t,l,d,c,p,"F",_,y)}function R2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function QE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>QE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function I2(r){return m2[r]}function C2(r){return g2[r]}function N2(r){return p2[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function za(r){return Fe.fromServerFormat(r.fieldPath)}function KE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:C2(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const a=i.getFilters().map((l=>KE(l)));return a.length===1?a[0]:{compositeFilter:{op:N2(i.op),filters:a}}})(r):pt(54877,{filter:r})}function D2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function YE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Hs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class O2{constructor(t){this.yt=t}}function M2(r){const t=w2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class x2{constructor(){this.Cn=new V2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($s.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class V2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new xe(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new xe(oe.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(XE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const kv="LruGarbageCollector",U2=1048576;function Lv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class k2{constructor(t){this.Ir=t,this.buffer=new xe(Lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Lv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class L2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?it(kv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class P2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(rh.ce);const a=new k2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),ka()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function z2(r,t){return new P2(r,t)}class j2{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class B2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class q2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,Tn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,xt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=xt()){const l=Lr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=gl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,xt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ns();const d=Al(),p=(function(){return Al()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof sr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Sl(A.mutation,y,A.mutation.getFieldMask(),ie.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new B2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new le(((d,p)=>d-p)),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Tn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const w=(l.get(p.batchId)||xt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,w=NE();A.forEach((x=>{if(!c.has(x)){const F=kE(i.get(x),a.get(x));F!==null&&w.set(x,F),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):GR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Lr());let p=Rl,_=c;return d.next((y=>X.forEach(y,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,xt()))).next((A=>({batchId:p,changes:CE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=gl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(w,x){return new lh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=gl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Sl(A.mutation,y,Tn.empty(),ie.now()),hh(i,y)&&(p=p.insert(_,y))})),p}))}}class H2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:M2(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class G2{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Lr(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Lr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Lr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new l2(i,a));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class F2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new xe(Le.$r),this.Ur=new xe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new oe([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new oe([])),a=new Le(i,t),l=new Le(i,t+1);let c=xt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class Q2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new o2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Nm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new xe(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let p=new xe(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class K2{constructor(t){this.ri=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ns();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ns();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||TR(ER(A),a)<=0||(l.has(A.key)||hh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Y2(this)}getSize(t){return X.resolve(this.size)}}class Y2 extends j2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class X2{constructor(t){this.persistence=t,this.si=new Gr((i=>Mm(i)),xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class ZE{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new F2,this.referenceDelegate=t(this),this.Pi=new X2(this),this.indexManager=new x2,this.remoteDocumentCache=(function(l){return new K2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new O2(i),this.Ii=new H2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new G2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new Q2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new Z2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class Z2 extends SR{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>RR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=z2(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=xt(),l=xt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,a,l)}}class $2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class J2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BA()?8:bR($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new $2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ka()<=Ot.DEBUG&&it("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(wv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,im(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return wv(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ka()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.vs(t,d,i,vR(l,Rl)).next((p=>p)))}))}Ds(t,i){let a=new xe(RE(t));return i.forEach(((l,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",W2=3e8;class tI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Mt),this.xs=new Gr((c=>Mm(c)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function eI(r,t,i,a){return new tI(r,t,i,a)}async function $E(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=xt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function nI(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const w=y.batch,x=w.keys();let F=X.resolve();return x.forEach(($=>{F=F.next((()=>A.getEntry(_,$))).next((nt=>{const J=y.docVersions.get($);Gt(J!==null,48541),nt.version.compareTo(J)<0&&(w.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=xt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function JE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function iI(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,w)=>{const x=l.get(w);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(w,F),(function(nt,J,dt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=W2?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(x,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ns(),y=xt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(sI(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function sI(r,t,i){let a=xt(),l=xt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ns();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Bm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function rI(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function aI(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function lm(r,t,i){const a=Tt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;it(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Pv(r,t,i){const a=Tt(r);let l=vt.min(),c=xt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=Tt(_),x=w.xs.get(A);return x!==void 0?X.resolve(w.Ms.get(x)):w.Pi.getTargetData(y,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:xt()))).next((p=>(oI(a,QR(t),p),{documents:p,Qs:c})))))}function oI(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class zv{constructor(){this.activeTargetIds=JR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lI{constructor(){this.Mo=new zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class uI{Oo(t){}shutdown(){}}const jv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(jv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function um(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const Pd="RestConnection",cI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=um(),p=this.zo(t,i.toUriEncodedString());it(Pd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=to(y);return this.Jo(t,p,_,a,A).then((w=>(it(Pd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ka(Pd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=cI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class fI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class dI extends hI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=um();return new Promise(((p,_)=>{const y=new eE;y.setWithCredentials(!0),y.listenOnce(nE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const w=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Nc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const x=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const nt=(function(dt){const gt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(gt)>=0?gt:Z.UNKNOWN})($.status);_(new lt(nt,$.message))}else _(new lt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=rE(),p=sE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let x=!1,F=!1;const $=new fI({Yo:J=>{F?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),w.open(),x=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Zo:()=>w.close()}),nt=(J,dt,gt)=>{J.listen(dt,(ht=>{try{gt(ht)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return nt(w,ml.EventType.OPEN,(()=>{F||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),nt(w,ml.EventType.CLOSE,(()=>{F||(F=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(w))})),nt(w,ml.EventType.ERROR,(J=>{F||(F=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(w,ml.EventType.MESSAGE,(J=>{if(!F){const dt=J.data[0];Gt(!!dt,16349);const gt=dt,ht=gt?.error||gt[0]?.error;if(ht){it(Ye,`RPC '${t}' stream ${l} received error:`,ht);const Ht=ht.status;let Wt=(function(b){const C=we[b];if(C!==void 0)return zE(C)})(Ht),Vt=ht.message;Wt===void 0&&(Wt=Z.INTERNAL,Vt="Unknown error status: "+Ht+" with message "+ht.message),F=!0,$.a_(new lt(Wt,Vt)),w.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,dt),$.u_(dt)}})),nt(p,iE.STAT_EVENT,(J=>{J.stat===$d.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===$d.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}function gh(r){return new y2(r,!0)}class WE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qv="PersistentStream";class tT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mI extends tT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=E2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?wi(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=nm(_)?{documents:S2(c,_)}:{query:b2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qE(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=R2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.q_(i)}}class gI extends tT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=A2(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>T2(this.serializer,a)))};this.q_(i)}}class pI{}class yI extends pI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _I{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class vI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(it(Hr,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await ql(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new _I(a,l)}}async function ph(r){if(Fr(r))for(const t of r.da)await t(!0)}async function ql(r){for(const t of r.da)await t(!1)}function eT(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):ao(i).O_()&&Hm(i,t))}function qm(r,t){const i=Tt(r),a=ao(i);i.Ia.delete(t),a.O_()&&nT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Y_(t)}function nT(r,t){r.Va.Ue(t),ao(r).Z_(t)}function Gm(r){r.Va=new d2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Ra.ua()}function Fm(r){return Fr(r)&&!ao(r).x_()&&r.Ia.size>0}function Fr(r){return Tt(r).Ea.size===0}function iT(r){r.Va=void 0}async function EI(r){r.Ra.set("Online")}async function TI(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function AI(r,t){iT(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function SI(r,t,i){if(r.Ra.set("Online"),t instanceof BE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){it(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof xc?r.Va.Ze(t):t instanceof jE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await JE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),nT(c,_);const w=new Hs(A.target,_,y,A.sequenceNumber);Hm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){it(Hr,"Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,i){if(!ro(t))throw t;r.Ea.add(1),await ql(r),r.Ra.set("Offline"),i||(i=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ph(r)}))}function sT(r,t){return t().catch((i=>$c(r,i,t)))}async function yh(r){const t=Tt(r),i=er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;bI(t);)try{const l=await rI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,wI(t,l)}catch(l){await $c(t,l)}rT(t)&&aT(t)}function bI(r){return Fr(r)&&r.Ta.length<10}function wI(r,t){r.Ta.push(t);const i=er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function rT(r){return Fr(r)&&!er(r).x_()&&r.Ta.length>0}function aT(r){er(r).start()}async function RI(r){er(r).ra()}async function II(r){const t=er(r);for(const i of r.Ta)t.ea(i.mutations)}async function CI(r,t,i){const a=r.Ta.shift(),l=Um.from(a,t,i);await sT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await yh(r)}async function NI(r,t){t&&er(r).X_&&await(async function(a,l){if((function(d){return c2(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();er(a).B_(),await sT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yh(a)}})(r,t),rT(r)&&aT(r)}async function Hv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(Hr,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function DI(r,t){const i=Tt(r);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await ql(i),i.Ra.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new mI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:EI.bind(null,r),t_:TI.bind(null,r),r_:AI.bind(null,r),H_:SI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),iT(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new gI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RI.bind(null,r),r_:NI.bind(null,r),ta:II.bind(null,r),na:CI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(es("AsyncQueue",`${t}: ${r}`),ro(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=gl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Gv{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class OI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MI{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Fv(){return new Gr((r=>wE(r)),ch)}async function oT(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new OI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Km(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function lT(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function xI(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function VI(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var cm,Qv;(Qv=cm||(cm={})).Ma="default",Qv.Cache="cache";class uT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class cT{constructor(t){this.key=t}}class hT{constructor(t){this.key=t}}class UI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=RE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const x=l.get(A),F=hh(this.query,w)?w:null,$=!!x&&this.mutatedKeys.has(x.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;x&&F?x.data.isEqual(F.data)?$!==nt&&(a.track({type:3,doc:F}),J=!0):this.su(x,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!x&&F?(a.track({type:0,doc:F}),J=!0):x&&!F&&(a.track({type:1,doc:x}),J=!0,(_||y)&&(p=!0)),J&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(F,$){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return nt(F)-nt($)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new hT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new cT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class kI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class LI{constructor(t){this.key=t,this.hu=!1}}class PI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>wE(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zI(r,t,i=!0){const a=yT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await fT(a,t,i,!0),l}async function jI(r,t){const i=yT(r);await fT(i,t,!0,!1)}async function fT(r,t,i,a){const l=await aI(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await BI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&eT(r.remoteStore,l),p}async function BI(r,t,i,a,l){r.pu=(w,x,F)=>(async function(nt,J,dt,gt){let ht=J.view.ru(dt);ht.Cs&&(ht=await Pv(nt.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ht))));const Ht=gt&&gt.targetChanges.get(J.targetId),Wt=gt&&gt.targetMismatches.get(J.targetId)!=null,Vt=J.view.applyChanges(ht,nt.isPrimaryClient,Ht,Wt);return Yv(nt,J.targetId,Vt.au),Vt.snapshot})(r,w,x,F);const c=await Pv(r.localStore,t,!0),d=new UI(t,c.Qs),p=d.ru(c.documents),_=Bl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);Yv(r,i,y.au);const A=new kI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function qI(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(so)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function HI(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function GI(r,t,i){const a=$I(r);try{const l=await(function(d,p){const _=Tt(d),y=ie.now(),A=p.reduce(((F,$)=>F.add($.key)),xt());let w,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=ns(),nt=xt();return _.Ns.getEntries(F,A).next((J=>{$=J,$.forEach(((dt,gt)=>{gt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,$))).next((J=>{w=J;const dt=[];for(const gt of p){const ht=r2(gt,w.get(gt.key).overlayedDocument);ht!=null&&dt.push(new sr(gt.key,ht,_E(ht.value.mapValue),bi.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,dt,p)})).next((J=>{x=J;const dt=J.applyToLocalDocumentSet(w,nt);return _.documentOverlayCache.saveOverlays(F,J.batchId,dt)}))})).then((()=>({batchId:x.batchId,changes:CE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Hl(a,l.changes),await yh(a.remoteStore)}catch(l){const c=Km(l,"Failed to persist write");i.reject(c)}}async function dT(r,t){const i=Tt(r);try{const a=await iI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Hl(i,a,t)}catch(a){await so(a)}}function Kv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Tt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,w)=>{for(const x of w.Sa)x.va(p)&&(y=!0)})),y&&Ym(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function FI(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=xt().add(c),_=new mh(vt.min(),new Map,new le(Mt),d,p);await dT(a,_),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(so)}async function QI(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await nI(i.localStore,t);gT(i,a,null),mT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Hl(i,l)}catch(l){await so(l)}}async function KI(r,t,i){const a=Tt(r);try{const l=await(function(d,p){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Gt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);gT(a,t,i),mT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Hl(a,l)}catch(l){await so(l)}}function mT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function gT(r,t,i){const a=Tt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||pT(r,a)}))}function pT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function Yv(r,t,i){for(const a of i)a instanceof cT?(r.Ru.addReference(a.key,t),YI(r,a)):a instanceof hT?(it(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||pT(r,a.key)):pt(19791,{wu:a})}function YI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(it(Xm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(oe.fromString(t)),a=r.fu.next();r.Au.set(a,new LI(i)),r.du=r.du.insert(i,a),eT(r.remoteStore,new Hs(Si(uh(i.path)),a,"TargetPurposeLimboResolution",rh.ce))}}async function Hl(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=jm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=Tt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(x=>X.forEach(x.Es,(F=>A.persistence.referenceDelegate.addReference(w,x.targetId,F))).next((()=>X.forEach(x.ds,(F=>A.persistence.referenceDelegate.removeReference(w,x.targetId,F)))))))))}catch(w){if(!ro(w))throw w;it(Bm,"Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const F=A.Ms.get(x),$=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(x,nt)}}})(a.localStore,c))}async function XI(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){it(Xm,"User change. New user:",t.toKey());const a=await $E(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hl(i,a.Ls)}}function ZI(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return xt().add(a.key);{let l=xt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function yT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FI.bind(null,t),t.Pu.H_=xI.bind(null,t.eventManager),t.Pu.yu=VI.bind(null,t.eventManager),t}function $I(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KI.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return eI(this.persistence,new J2,t.initialUser,this.serializer)}Cu(t){return new ZE(zm.mi,this.serializer)}Du(t){return new lI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class JI extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new L2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new ZE((a=>Zc.mi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XI.bind(null,this.syncEngine),await DI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MI})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new dI(c)})(t.databaseInfo);return(function(c,d,p,_){return new yI(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new vI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Kv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new uI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const w=new PI(l,c,d,p,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);it(Hr,"RemoteStore shutting down."),a.Ea.add(5),await ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class _T{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class WI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),it(nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await $E(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Xv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await tC(r);it(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Hv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Hv(t.remoteStore,l))),r._onlineComponents=t}async function tC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(nr,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new Jc)}}else it(nr,"Using default OfflineComponentProvider"),await jd(r,new JI(void 0));return r._offlineComponents}async function vT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(nr,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(it(nr,"Using default OnlineComponentProvider"),await Xv(r,new fm))),r._onlineComponents}function eC(r){return vT(r).then((t=>t.syncEngine))}async function dm(r){const t=await vT(r),i=t.eventManager;return i.onListen=zI.bind(null,t.syncEngine),i.onUnlisten=qI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=jI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=HI.bind(null,t.syncEngine),i}function nC(r,t,i={}){const a=new Xs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new _T({next:x=>{A.Nu(),d.enqueueAndForget((()=>lT(c,w)));const F=x.docs.has(p);!F&&x.fromCache?y.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&_&&_.source==="server"?y.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),w=new uT(uh(p.path),A,{includeMetadataChanges:!0,qa:!0});return oT(c,w)})(await dm(r),r.asyncQueue,t,i,a))),a.promise}function ET(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Zv=new Map;const TT="firestore.googleapis.com",$v=!0;class Jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<U2)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ET(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $m{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new oR;switch(a.type){case"firstParty":return new hR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(it("ComponentProvider","Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function iC(r,t,i,a={}){r=Ai(r,$m);const l=to(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(m0(`https://${p}`),g0("Firestore",!0)),c.host!==TT&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!zr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=MA(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(w)}r._authCredentials=new lR(new oE(y,A))}}class _h{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(zl(i,Ie._jsonSchema))return new Ie(t,a||null,new ft(oe.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class xl extends _h{constructor(t,i,a){super(t,i,uh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ft(t))}withConverter(t){return new xl(this.firestore,t,this._path)}}function Bd(r,t,...i){if(r=en(r),arguments.length===1&&(t=Im.newId()),yR("doc","path",t),r instanceof $m){const a=oe.fromString(t,...i);return fv(a),new Ie(r,null,new ft(a))}{if(!(r instanceof Ie||r instanceof xl))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return fv(a),new Ie(r.firestore,r instanceof xl?r.converter:null,new ft(a))}}const Wv="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&it(Wv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;it(Wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",e0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function e0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function n0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wa extends $m{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new t0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function sC(r,t){const i=typeof r=="object"?r:v0(),a=typeof r=="string"?r:Gc,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=DA("firestore");c&&iC(l,...c)}return l}function Jm(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rC(r),r._firestoreClient}function rC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new NR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ET(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new WI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(zl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Re("string",Ri._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Re("string",Ii._jsonSchemaVersion),vectorValues:Re("object")};const aC=/^__.*__$/;class oC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}class AT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ST(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ST(this.Ac)&&aC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,l=!1){return new Wm({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bT(r){const t=r._freezeSettings(),i=gh(r._databaseId);return new lC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function uC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);eg("Data must be an object, but it was:",d,a);const p=wT(a,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const x=mm(t,w,i);if(!d.contains(x))throw new lt(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IT(A,x)||A.push(x)}_=new Tn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new oC(new hn(p),_,y)}class Th extends Eh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}class tg extends Eh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Ml(t.serializer,OE(t.serializer,this.Fc));return new e2(t.path,i)}isEqual(t){return t instanceof tg&&this.Fc===t.Fc}}function cC(r,t,i,a){const l=r.Cc(1,t,i);eg("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();ir(a,((_,y)=>{const A=ng(t,_,i);y=en(y);const w=l.yc(A);if(y instanceof Th)c.push(A);else{const x=Ah(y,w);x!=null&&(c.push(A),d.set(A,x))}}));const p=new Tn(c);return new AT(d,p,l.fieldTransforms)}function hC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[mm(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(mm(t,c[x])),_.push(c[x+1]);const y=[],A=hn.empty();for(let x=p.length-1;x>=0;--x)if(!IT(y,p[x])){const F=p[x];let $=_[x];$=en($);const nt=d.yc(F);if($ instanceof Th)y.push(F);else{const J=Ah($,nt);J!=null&&(y.push(F),A.set(F,J))}}const w=new Tn(y);return new AT(A,w,d.fieldTransforms)}function Ah(r,t){if(RT(r=en(r)))return eg("Unsupported field value:",t,r),wT(r,t);if(r instanceof Eh)return(function(a,l){if(!ST(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Ah(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return OE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:qE(l.serializer,a._byteString)};if(a instanceof Ie){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,p){return{mapValue:{fields:{[pE]:{stringValue:yE},[Fc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Vm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Cm(a)}`)})(r,t)}function wT(r,t){const i={};return cE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(r,((a,l)=>{const c=Ah(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function RT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Un||r instanceof Ie||r instanceof Eh||r instanceof Ii)}function eg(r,t,i){if(!RT(i)||!lE(i)){const a=Cm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function mm(r,t,i){if((t=en(t))instanceof vh)return t._internalPath;if(typeof t=="string")return ng(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const fC=new RegExp("[~\\*/\\[\\]]");function ng(r,t,i){if(t.search(fC)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(Z.INVALID_ARGUMENT,p+r+_)}function IT(r,t){return r.some((i=>i.isEqual(t)))}class CT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(NT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class dC extends CT{data(){return super.data()}}function NT(r,t){return typeof t=="string"?ng(r,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function mC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gC{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ir(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Fc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=Js(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Gt(YE(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function pC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends CT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(NT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Re("string",Pr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Vc extends Pr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:yC(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function _C(r){r=Ai(r,Ie);const t=Ai(r.firestore,Wa);return nC(Jm(t),r._key).then((i=>MT(t,r,i)))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Re("string",Fa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class DT extends gC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function vC(r,t,i){r=Ai(r,Ie);const a=Ai(r.firestore,Wa),l=pC(r.converter,t);return OT(a,[uC(bT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,bi.none())])}function i0(r,t,i,...a){r=Ai(r,Ie);const l=Ai(r.firestore,Wa),c=bT(l);let d;return d=typeof(t=en(t))=="string"||t instanceof vh?hC(c,"updateDoc",r._key,t,i,a):cC(c,"updateDoc",r._key,t),OT(l,[d.toMutation(r._key,bi.exists(!0))])}function EC(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||n0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(n0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ie)d=Ai(r.firestore,Wa),p=uh(r._key.path),c={next:_=>{t[a]&&t[a](MT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Ai(r,_h);d=Ai(_.firestore,Wa),p=_._query;const y=new DT(d);c={next:A=>{t[a]&&t[a](new Fa(d,y,_,A))},error:t[a+1],complete:t[a+2]},mC(r._query)}return(function(y,A,w,x){const F=new _T(x),$=new uT(A,F,w);return y.asyncQueue.enqueueAndForget((async()=>oT(await dm(y),$))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>lT(await dm(y),$)))}})(Jm(d),p,l,c)}function OT(r,t){return(function(a,l){const c=new Xs;return a.asyncQueue.enqueueAndForget((async()=>GI(await eC(a),l,c))),c.promise})(Jm(r),t)}function MT(r,t,i){const a=i.docs.get(t._key),l=new DT(r);return new Pr(r,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}function TC(r){return new tg("increment",r)}(function(t,i=!0){(function(l){io=l})(eo),Qa(new jr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Wa(new uR(a.getProvider("auth-internal")),new fR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(lv,uv,t),Qs(lv,uv,"esm2020")})();const AC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),s0=r=>{const t=SC(r);return t.charAt(0).toUpperCase()+t.slice(1)},xT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),bC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var wC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RC=Oe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Oe.createElement("svg",{ref:_,...wC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:xT("lucide",l),...!c&&!bC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Oe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Di=(r,t)=>{const i=Oe.forwardRef(({className:a,...l},c)=>Oe.createElement(RC,{ref:c,iconNode:t,className:xT(`lucide-${AC(s0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=s0(r),i};const IC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],r0=Di("arrow-right",IC);const CC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],NC=Di("gift",CC);const DC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],OC=Di("log-in",DC);const MC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xC=Di("pen-line",MC);const VC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],UC=Di("play",VC);const kC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],LC=Di("share-2",kC);const PC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],zC=Di("skull",PC);const jC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BC=Di("triangle-alert",jC);const qC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HC=Di("users",qC);const GC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FC=Di("zap",GC),VT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Sh=VT.apiKey!=="_apiKey",UT=Sh?_0(VT):null,a0=Sh?rR(UT):null,qd=Sh?sC(UT):null,o0=Oe.memo(()=>{const r=Oe.useRef(null);return Oe.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const l=Array.from({length:30}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.4)",l.forEach(p=>{i.beginPath(),i.arc(p.x,p.y,p.radius,0,Math.PI*2),i.fill(),p.y+=p.speed,p.y>t.height&&(p.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),H.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Ps=({children:r,className:t=""})=>H.jsx("div",{className:`bg-white/95 backdrop-blur-md rounded-xl shadow-xl p-4 md:p-6 border-2 border-red-100 ${t}`,children:r}),Yn=({onClick:r,children:t,variant:i="primary",className:a="",disabled:l=!1,size:c="md"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-md flex items-center justify-center gap-2",p={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-xl"},_={primary:"bg-red-600 text-white hover:bg-red-700 border-b-4 border-red-800",secondary:"bg-green-600 text-white hover:bg-green-700 border-b-4 border-green-800",neutral:"bg-gray-200 text-gray-800 hover:bg-gray-300 border-b-4 border-gray-400",danger:"bg-gray-800 text-white hover:bg-black border-b-4 border-gray-900"};return H.jsx("button",{onClick:r,disabled:l,className:`${d} ${p[c]} ${_[i]} ${a} ${l?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},QC=()=>{const[r,t]=Oe.useState(null),[i,a]=Oe.useState(""),[l,c]=Oe.useState(""),[d,p]=Oe.useState(null),[_,y]=Oe.useState(!1),[A,w]=Oe.useState(!0),[x,F]=Oe.useState(""),[$,nt]=Oe.useState("");if(!Sh)return H.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900 text-white p-10 text-center",children:H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),H.jsx("p",{children:" (App.jsx) Firebase Config  firebaseConfig "})]})});Oe.useEffect(()=>{(async()=>{try{await qb(a0)}catch(at){console.error(":",at),alert(" Firebase Auth ")}})();const S=Yb(a0,at=>{t(at),w(!1)});return()=>S()},[]),Oe.useEffect(()=>{if(!r||!i||!_)return;const R=Bd(qd,"xmas_rooms",`room_${i}`),S=EC(R,at=>{if(at.exists()){const bt=at.data();p(bt)}else p(null)},at=>{console.error("Error listening to room:",at),alert(`${at.message}
 Firestore  (Test Mode)`)});return()=>S()},[r,i,_]);const J=async()=>{const R=i.toString().trim(),S=l.trim();if(!R||!S)return alert("");a(R),c(S);const at=Bd(qd,"xmas_rooms",`room_${R}`);try{const bt=await _C(at);if(!bt.exists())await vC(at,{hostId:r.uid,phase:"entry",participants:{[r.uid]:S},rules:[],currentRuleIndex:0,resultMapping:{},matchDetails:{},punishment:"",createdAt:new Date().toISOString()});else{const q=bt.data();if(q.phase!=="entry"&&!q.participants[r.uid])return alert("");await i0(at,{[`participants.${r.uid}`]:S})}y(!0)}catch(bt){console.error(bt),alert(" Firebase Firestore  (Rules)  true ()")}},dt=()=>{const S=` 2025 

1. ${window.location.href}
2. ${i}

`,at=document.createElement("textarea");at.value=S,at.style.position="fixed",at.style.left="-9999px",document.body.appendChild(at),at.focus(),at.select();try{document.execCommand("copy"),alert(" ")}catch{alert(`

${S}`)}document.body.removeChild(at)},gt=async R=>{if(!i)return;const S=Bd(qd,"xmas_rooms",`room_${i}`);await i0(S,R)},ht=async R=>{if(!d)return;let S={phase:R};if(R==="rule-entry"&&d.phase==="entry"){const bt=Object.keys(d.participants).map(q=>({uid:q,authorName:d.participants[q],text:""}));S.rules=bt}if(R==="game-playing"&&d.phase==="rule-entry"){const at=[...d.rules];for(let bt=at.length-1;bt>0;bt--){const q=Math.floor(Math.random()*(bt+1));[at[bt],at[q]]=[at[q],at[bt]]}S.rules=at,S.currentRuleIndex=0}if(R==="result-entry"&&(S.resultMapping={}),R==="voting"){const at={};Object.keys(d.participants).forEach(bt=>{at[bt]={giftName:"",votes:1}}),S.matchDetails=at}await gt(S)},Ht=async()=>{if(!x.trim())return;const R=d.rules.findIndex(at=>at.uid===r.uid);if(R===-1)return;const S=[...d.rules];S[R].text=x,await gt({rules:S}),alert("")},Wt=async()=>{d.currentRuleIndex<d.rules.length-1?await gt({currentRuleIndex:TC(1)}):ht("result-entry")},Vt=async()=>{$&&(await gt({[`resultMapping.${r.uid}`]:$}),alert(""))},N=async(R,S)=>{await gt({[`matchDetails.${R}.giftName`]:S})},b=async(R,S)=>{const at=d.matchDetails[R]?.votes||1;let bt=Math.max(1,Math.min(10,at+S));await gt({[`matchDetails.${R}.votes`]:bt})},C=async()=>{const R=["","+","","","","","",""],S=R[Math.floor(Math.random()*R.length)];await gt({punishment:S})};if(A)return H.jsx("div",{className:"h-screen flex items-center justify-center text-white bg-red-800",children:"..."});if(!_)return H.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-red-800 to-green-900 p-4 flex items-center justify-center relative overflow-hidden",children:[H.jsx(o0,{}),H.jsxs(Ps,{className:"w-full max-w-md z-10 text-center",children:[H.jsx(NC,{size:60,className:"mx-auto text-red-600 mb-4"}),H.jsx("h1",{className:"text-3xl font-black text-gray-800 mb-2",children:"2025  Online"}),H.jsx("p",{className:"text-gray-500 mb-6",children:""}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"text-left",children:[H.jsx("label",{className:"text-sm font-bold text-gray-600 ml-1",children:""}),H.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-red-500 outline-none text-lg",placeholder:"",value:l,onChange:R=>c(R.target.value)})]}),H.jsxs("div",{className:"text-left",children:[H.jsx("label",{className:"text-sm font-bold text-gray-600 ml-1",children:" ()"}),H.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-200 rounded-lg focus:border-green-500 outline-none text-lg",placeholder:"1234",value:i,onChange:R=>a(R.target.value)})]}),H.jsxs(Yn,{onClick:J,size:"lg",className:"w-full mt-4",children:[H.jsx(OC,{size:20})," "]}),H.jsx("div",{className:"text-xs text-gray-400 mt-4 bg-black/20 p-2 rounded",children:H.jsxs("p",{children:[" ",H.jsx("b",{children:""}),"",H.jsx("b",{children:""}),""]})})]})]})]});if(!d)return H.jsx("div",{className:"h-screen flex items-center justify-center text-white",children:"..."});const V=r.uid===d.hostId,D=Object.entries(d.participants);return H.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-700 via-red-600 to-green-800 font-sans text-gray-800 relative pb-20",children:[H.jsx(o0,{}),H.jsxs("div",{className:"bg-black/30 text-white p-3 backdrop-blur-sm sticky top-0 z-50 flex justify-between items-center shadow-lg",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("div",{className:"bg-green-600 px-2 py-1 rounded text-xs font-bold",children:["Room: ",i]}),H.jsx("span",{className:"font-bold",children:l})]}),H.jsxs("div",{className:"text-xs opacity-75 flex items-center gap-1",children:[H.jsx(HC,{size:14})," ",D.length," "]})]}),H.jsxs("main",{className:"relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-6",children:[d.phase==="entry"&&H.jsx("div",{className:"animate-fade-in space-y-6",children:H.jsxs(Ps,{className:"text-center py-10",children:[H.jsx("h2",{className:"text-2xl font-bold mb-4",children:"..."}),H.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:D.map(([R,S])=>H.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[R===d.hostId&&""," ",S]},R))}),H.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-left text-sm text-gray-600 max-w-sm mx-auto mb-6",children:[H.jsx("p",{children:"1. "}),H.jsx("p",{children:"2. "}),H.jsx("p",{children:"3. "})]}),H.jsx("div",{className:"mb-4",children:H.jsxs(Yn,{onClick:dt,variant:"secondary",className:"w-full",children:[H.jsx(LC,{size:20}),"  ()"]})}),V?H.jsxs(Yn,{onClick:()=>ht("rule-entry"),size:"lg",disabled:D.length<2,children:[" ",H.jsx(r0,{})]}):H.jsx("p",{className:"text-gray-500 animate-pulse",children:"..."})]})}),d.phase==="rule-entry"&&H.jsxs("div",{className:"animate-fade-in space-y-6",children:[H.jsxs(Ps,{children:[H.jsxs("h2",{className:"text-xl font-bold text-center mb-4 flex items-center justify-center gap-2",children:[H.jsx(xC,{className:"text-red-600"})," "]}),H.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"..."}),H.jsx("div",{className:"mb-6",children:H.jsx("textarea",{className:"w-full p-4 border-2 border-red-200 rounded-xl focus:border-red-500 outline-none resize-none text-lg",rows:3,placeholder:"...",value:x,onChange:R=>F(R.target.value),disabled:d.rules.find(R=>R.uid===r.uid)?.text!==""})}),H.jsx(Yn,{onClick:Ht,className:"w-full",disabled:!x,children:""})]}),H.jsx("div",{className:"text-center text-white/80 text-sm",children:H.jsxs("p",{children:[" ",d.rules.filter(R=>R.text).length," / ",D.length]})}),V&&H.jsx("div",{className:"flex justify-center mt-4",children:H.jsxs(Yn,{variant:"danger",onClick:()=>ht("game-playing"),children:[" ",H.jsx(UC,{size:16})]})})]}),d.phase==="game-playing"&&H.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[H.jsxs("div",{className:"text-white mb-4 text-center",children:[H.jsxs("span",{className:"block opacity-80 text-sm",children:["Round ",d.currentRuleIndex+1," / ",d.rules.length]}),H.jsx("div",{className:"w-32 h-1 bg-white/30 rounded mx-auto mt-2 overflow-hidden",children:H.jsx("div",{className:"h-full bg-yellow-400 transition-all duration-300",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),H.jsxs(Ps,{className:"w-full text-center py-12 transform transition-all duration-500 hover:scale-105",children:[H.jsx("div",{className:"mb-4",children:H.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-bold",children:[d.rules[d.currentRuleIndex].authorName," "]})}),H.jsx("h2",{className:"text-3xl md:text-5xl font-black text-gray-800 leading-tight",children:d.rules[d.currentRuleIndex].text||""})]}),V&&H.jsx("div",{className:"mt-8",children:H.jsx(Yn,{onClick:Wt,size:"lg",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="result-entry"&&H.jsxs("div",{className:"animate-fade-in space-y-6",children:[H.jsxs(Ps,{children:[H.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:" "}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("select",{className:"w-full p-4 border-2 border-gray-200 rounded-xl text-lg bg-white",value:$,onChange:R=>nt(R.target.value),children:[H.jsx("option",{value:"",children:"..."}),D.map(([R,S])=>H.jsxs("option",{value:R,children:[S," "]},R))]}),H.jsx(Yn,{onClick:Vt,className:"w-full",children:""})]})]}),H.jsxs("div",{className:"bg-black/20 p-4 rounded-xl text-white text-center",children:[H.jsx("h3",{className:"font-bold mb-2",children:""}),H.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:Object.keys(d.resultMapping).map(R=>H.jsx("span",{className:"bg-green-500 text-xs px-2 py-1 rounded",children:d.participants[R]},R))})]}),V&&H.jsx("div",{className:"flex justify-center",children:H.jsxs(Yn,{variant:"danger",onClick:()=>ht("voting"),children:[" ",H.jsx(r0,{})]})})]}),d.phase==="voting"&&H.jsxs("div",{className:"animate-fade-in space-y-4 pb-20",children:[H.jsxs(Ps,{className:"mb-4 bg-yellow-50 border-yellow-200",children:[H.jsxs("h2",{className:"text-lg font-bold text-red-700 flex items-center gap-2",children:[H.jsx(BC,{size:20})," "]}),H.jsxs("p",{className:"text-sm text-gray-600",children:["1. ",H.jsx("br",{}),"2.  + "]})]}),D.map(([R,S])=>{const at=d.resultMapping[R],bt=d.participants[at]||"",q=d.matchDetails[R]||{giftName:"",votes:1},tt=q.votes,ut=tt>=8?"text-red-600":tt>=4?"text-yellow-600":"text-green-600";return H.jsxs(Ps,{className:"p-4",children:[H.jsxs("div",{className:"flex items-center justify-between mb-2",children:[H.jsxs("div",{className:"text-sm text-gray-500",children:[" ",H.jsx("span",{className:"font-bold text-gray-800 text-base",children:bt}),"  ",S]}),H.jsxs("div",{className:"font-black text-2xl flex flex-col items-center leading-none",children:[H.jsx("span",{className:ut,children:tt}),H.jsx("span",{className:"text-[10px] text-gray-400",children:""})]})]}),H.jsx("div",{className:"flex gap-2 mb-3",children:H.jsx("input",{type:"text",className:"flex-1 border-b border-gray-300 p-1 text-sm outline-none focus:border-red-500 bg-transparent",placeholder:"...",defaultValue:q.giftName,onBlur:Ut=>N(R,Ut.target.value)})}),H.jsxs("div",{className:"flex justify-end gap-3",children:[H.jsx("button",{onClick:()=>b(R,-1),className:"w-8 h-8 rounded-full bg-gray-100 font-bold text-gray-600",children:"-"}),H.jsx("button",{onClick:()=>b(R,1),className:"w-8 h-8 rounded-full bg-red-100 font-bold text-red-600 border border-red-200 shadow-sm active:scale-90 transition-transform",children:"+"})]})]},R)}),V&&H.jsx("div",{className:"fixed bottom-4 left-0 w-full px-4 z-50",children:H.jsx(Yn,{variant:"danger",className:"w-full shadow-2xl",onClick:()=>ht("result"),children:"  "})})]}),d.phase==="result"&&H.jsxs("div",{className:"animate-fade-in space-y-6 pb-20",children:[H.jsxs("div",{className:"text-center text-white mb-8",children:[H.jsx("h2",{className:"text-4xl font-black text-yellow-300 drop-shadow-md mb-2",children:"  "}),H.jsx("p",{className:"opacity-80",children:""})]}),D.map(([R])=>({uid:R,...d.matchDetails[R],giverName:d.participants[d.resultMapping[R]]})).sort((R,S)=>S.votes-R.votes).slice(0,3).map((R,S)=>H.jsxs("div",{className:`bg-white rounded-xl p-4 shadow-lg flex items-center gap-4 ${S===0?"border-4 border-yellow-400 transform scale-105":"opacity-90"}`,children:[H.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${S===0?"bg-red-600":S===1?"bg-orange-500":"bg-yellow-500"}`,children:["#",S+1]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("div",{className:"font-bold text-gray-800 text-lg",children:R.giverName}),H.jsx("div",{className:"text-sm text-gray-500",children:R.giftName||""})]}),H.jsxs("div",{className:"text-3xl font-black text-red-600",children:[R.votes," ",H.jsx("span",{className:"text-xs text-gray-400 font-normal",children:""})]})]},R.uid)),H.jsxs(Ps,{className:"bg-gray-900 border-gray-800 text-white mt-8 text-center",children:[H.jsxs("h3",{className:"text-xl font-bold text-red-500 mb-2 flex justify-center items-center gap-2",children:[H.jsx(zC,{})," "]}),H.jsx("div",{className:"text-3xl font-black text-yellow-400 mb-4 px-4 leading-tight",children:d.punishment}),V&&H.jsxs(Yn,{variant:"neutral",size:"sm",onClick:C,children:[H.jsx(FC,{size:14})," "]})]}),H.jsx("div",{className:"text-center mt-8",children:H.jsx(Yn,{variant:"secondary",onClick:()=>window.location.reload(),children:""})})]})]}),H.jsx("style",{children:"@keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }"})]})};TA.createRoot(document.getElementById("root")).render(H.jsx(Oe.StrictMode,{children:H.jsx(QC,{})}));
