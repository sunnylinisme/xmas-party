(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var xd={exports:{}},fo={};var M_;function wb(){if(M_)return fo;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return fo.Fragment=t,fo.jsx=i,fo.jsxs=i,fo}var V_;function Rb(){return V_||(V_=1,xd.exports=wb()),xd.exports}var C=Rb(),Nd={exports:{}},Rt={};var k_;function Ib(){if(k_)return Rt;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,W={};function dt(O,Y,st){this.props=O,this.context=Y,this.refs=W,this.updater=st||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function bt(){}bt.prototype=dt.prototype;function _t(O,Y,st){this.props=O,this.context=Y,this.refs=W,this.updater=st||tt}var Gt=_t.prototype=new bt;Gt.constructor=_t,rt(Gt,dt.prototype),Gt.isPureReactComponent=!0;var re=Array.isArray;function Pt(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,Y,st){var at=st.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:st}}function M(O,Y){return R(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function le(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function $t(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pt,Pt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,st,at,Et){var Tt=typeof O;(Tt==="undefined"||Tt==="boolean")&&(O=null);var wt=!1;if(O===null)wt=!0;else switch(Tt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(O.$$typeof){case r:case t:wt=!0;break;case b:return wt=O._init,H(wt(O._payload),Y,st,at,Et)}}if(wt)return Et=Et(O),wt=at===""?"."+le(O,0):at,re(Et)?(st="",wt!=null&&(st=wt.replace(w,"$&/")+"/"),H(Et,Y,st,"",function(pt){return pt})):Et!=null&&(D(Et)&&(Et=M(Et,st+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(w,"$&/")+"/")+wt)),Y.push(Et)),1;wt=0;var X=at===""?".":at+":";if(re(O))for(var J=0;J<O.length;J++)at=O[J],Tt=X+le(at,J),wt+=H(at,Y,st,Tt,Et);else if(J=F(O),typeof J=="function")for(O=J.call(O),J=0;!(at=O.next()).done;)at=at.value,Tt=X+le(at,J++),wt+=H(at,Y,st,Tt,Et);else if(Tt==="object"){if(typeof O.then=="function")return H($t(O),Y,st,at,Et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return wt}function it(O,Y,st){if(O==null)return O;var at=[],Et=0;return H(O,at,"","",function(Tt){return Y.call(st,Tt,Et++)}),at}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:it,forEach:function(O,Y,st){it(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=A,Rt.Children=Ft,Rt.Component=dt,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=_t,Rt.StrictMode=a,Rt.Suspense=v,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=rt({},O.props),Et=O.key;if(Y!=null)for(Tt in Y.key!==void 0&&(Et=""+Y.key),Y)!S.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(at[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)at.children=st;else if(1<Tt){for(var wt=Array(Tt),X=0;X<Tt;X++)wt[X]=arguments[X+2];at.children=wt}return R(O.type,Et,at)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,Y,st){var at,Et={},Tt=null;if(Y!=null)for(at in Y.key!==void 0&&(Tt=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Et[at]=Y[at]);var wt=arguments.length-2;if(wt===1)Et.children=st;else if(1<wt){for(var X=Array(wt),J=0;J<wt;J++)X[J]=arguments[J+2];Et.children=X}if(O&&O.defaultProps)for(at in wt=O.defaultProps,wt)Et[at]===void 0&&(Et[at]=wt[at]);return R(O,Tt,Et)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:g,render:O}},Rt.isValidElement=D,Rt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ut}},Rt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Rt.startTransition=function(O){var Y=x.T,st={};x.T=st;try{var at=O(),Et=x.S;Et!==null&&Et(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Pt,zt)}catch(Tt){zt(Tt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),x.T=Y}},Rt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Rt.use=function(O){return x.H.use(O)},Rt.useActionState=function(O,Y,st){return x.H.useActionState(O,Y,st)},Rt.useCallback=function(O,Y){return x.H.useCallback(O,Y)},Rt.useContext=function(O){return x.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},Rt.useEffect=function(O,Y){return x.H.useEffect(O,Y)},Rt.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Rt.useId=function(){return x.H.useId()},Rt.useImperativeHandle=function(O,Y,st){return x.H.useImperativeHandle(O,Y,st)},Rt.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},Rt.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},Rt.useMemo=function(O,Y){return x.H.useMemo(O,Y)},Rt.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},Rt.useReducer=function(O,Y,st){return x.H.useReducer(O,Y,st)},Rt.useRef=function(O){return x.H.useRef(O)},Rt.useState=function(O){return x.H.useState(O)},Rt.useSyncExternalStore=function(O,Y,st){return x.H.useSyncExternalStore(O,Y,st)},Rt.useTransition=function(){return x.H.useTransition()},Rt.version="19.2.1",Rt}var U_;function Sm(){return U_||(U_=1,Nd.exports=Ib()),Nd.exports}var te=Sm(),Dd={exports:{}},mo={},Od={exports:{}},Md={};var L_;function Cb(){return L_||(L_=1,(function(r){function t(H,it){var ut=H.length;H.push(it);t:for(;0<ut;){var zt=ut-1>>>1,Ft=H[zt];if(0<o(Ft,it))H[zt]=it,H[ut]=Ft,ut=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var it=H[0],ut=H.pop();if(ut!==it){H[0]=ut;t:for(var zt=0,Ft=H.length,O=Ft>>>1;zt<O;){var Y=2*(zt+1)-1,st=H[Y],at=Y+1,Et=H[at];if(0>o(st,ut))at<Ft&&0>o(Et,st)?(H[zt]=Et,H[at]=ut,zt=at):(H[zt]=st,H[Y]=ut,zt=Y);else if(at<Ft&&0>o(Et,ut))H[zt]=Et,H[at]=ut,zt=at;else break t}}return it}function o(H,it){var ut=H.sortIndex-it.sortIndex;return ut!==0?ut:H.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,A=null,V=3,F=!1,tt=!1,rt=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Gt(H){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=H)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function re(H){if(rt=!1,Gt(H),!tt)if(i(v)!==null)tt=!0,Pt||(Pt=!0,U());else{var it=i(y);it!==null&&$t(re,it.startTime-H)}}var Pt=!1,x=-1,S=5,R=-1;function M(){return W?!0:!(r.unstable_now()-R<S)}function D(){if(W=!1,Pt){var H=r.unstable_now();R=H;var it=!0;try{t:{tt=!1,rt&&(rt=!1,bt(x),x=-1),F=!0;var ut=V;try{e:{for(Gt(H),A=i(v);A!==null&&!(A.expirationTime>H&&M());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,V=A.priorityLevel;var Ft=zt(A.expirationTime<=H);if(H=r.unstable_now(),typeof Ft=="function"){A.callback=Ft,Gt(H),it=!0;break e}A===i(v)&&a(v),Gt(H)}else a(v);A=i(v)}if(A!==null)it=!0;else{var O=i(y);O!==null&&$t(re,O.startTime-H),it=!1}}break t}finally{A=null,V=ut,F=!1}it=void 0}}finally{it?U():Pt=!1}}}var U;if(typeof _t=="function")U=function(){_t(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,le=w.port2;w.port1.onmessage=D,U=function(){le.postMessage(null)}}else U=function(){dt(D,0)};function $t(H,it){x=dt(function(){H(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var it=3;break;default:it=V}var ut=V;V=it;try{return H()}finally{V=ut}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=V;V=H;try{return it()}finally{V=ut}},r.unstable_scheduleCallback=function(H,it,ut){var zt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ut+Ft,H={id:b++,callback:it,priorityLevel:H,startTime:ut,expirationTime:Ft,sortIndex:-1},ut>zt?(H.sortIndex=ut,t(y,H),i(v)===null&&H===i(y)&&(rt?(bt(x),x=-1):rt=!0,$t(re,ut-zt))):(H.sortIndex=Ft,t(v,H),tt||F||(tt=!0,Pt||(Pt=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var it=V;return function(){var ut=V;V=it;try{return H.apply(this,arguments)}finally{V=ut}}}})(Md)),Md}var P_;function xb(){return P_||(P_=1,Od.exports=Cb()),Od.exports}var Vd={exports:{}},en={};var z_;function Nb(){if(z_)return en;z_=1;var r=Sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},en.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},en.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},en.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},en.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:F}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},en.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},en.requestFormReset=function(v){a.d.r(v)},en.unstable_batchedUpdates=function(v,y){return v(y)},en.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var j_;function Db(){if(j_)return Vd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=Nb(),Vd.exports}var B_;function Ob(){if(B_)return mo;B_=1;var r=xb(),t=Sm(),i=Db();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rt:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case re:return"Suspense";case Pt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var $t=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function st(e,n){Ft++,zt[Ft]=e.current,e.current=n}var at=O(null),Et=O(null),Tt=O(null),wt=O(null);function X(e,n){switch(st(Tt,n),st(Et,e),st(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=n_(n),e=i_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),st(at,e)}function J(){Y(at),Y(Et),Y(Tt)}function pt(e){e.memoizedState!==null&&st(wt,e);var n=at.current,s=i_(n,e.type);n!==s&&(st(Et,e),st(at,s))}function nt(e){Et.current===e&&(Y(at),Y(Et)),wt.current===e&&(Y(wt),oo._currentValue=ut)}var mt,Qt;function Se(e){if(mt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);mt=n&&n[1]||"",Qt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+e+Qt}var ye=!1;function tn(e,n){if(!e||ye)return"";ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Se(s):""}function ul(e,n){switch(e.tag){case 26:case 27:case 5:return Se(e.type);case 16:return Se("Lazy");case 13:return e.child!==n&&n!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return tn(e.type,!1);case 11:return tn(e.type.render,!1);case 1:return tn(e.type,!0);case 31:return Se("Activity");default:return""}}function cl(e){try{var n="",s=null;do n+=ul(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,Yo=r.unstable_requestPaint,on=r.unstable_now,fr=r.unstable_getCurrentPriorityLevel,hl=r.unstable_ImmediatePriority,fl=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Ko=r.unstable_IdlePriority,Xo=r.log,$o=r.unstable_setDisableYieldValue,Gn=null,Fe=null;function Nn(e){if(typeof Xo=="function"&&$o(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Gn,e)}catch{}}var _e=Math.clz32?Math.clz32:Jo,Zo=Math.log,Jr=Math.LN2;function Jo(e){return e>>>=0,e===0?32:31-(Zo(e)/Jr|0)|0}var li=256,dr=262144,we=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=oi(l):(p&=E,p!==0?h=oi(p):s||(s=E&~e,s!==0&&(h=oi(s))))):(E=l&~f,E!==0?h=oi(E):p!==0?h=oi(p):s||(s=l&~e,s!==0&&(h=oi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wo(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function ci(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function mr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-_e(s),K=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&pr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function pr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-_e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-_e(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ml(e,n){var s=n&-n;return s=(s&42)!==0?1:gr(s),(s&(e.suspendedLanes|n))!==0?0:s}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Qn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Yn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Yn,je="__reactProps$"+Yn,hi="__reactContainer$"+Yn,Wr="__reactEvents$"+Yn,Vh="__reactListeners$"+Yn,eu="__reactHandles$"+Yn,nu="__reactResources$"+Yn,fi="__reactMarker$"+Yn;function ta(e){delete e[Re],delete e[je],delete e[Wr],delete e[Vh],delete e[eu]}function di(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[hi]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=c_(e);e!==null;){if(s=e[Re])return s;e=c_(e)}return n}e=s,s=e.parentNode}return null}function Dn(e){if(e=e[Re]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function mi(e){var n=e[nu];return n||(n=e[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[fi]=!0}var pl=new Set,gl={};function pi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(gl[e]=n,e=0;e<n.length;e++)pl.add(n[e])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},vl={};function iu(e){return Ae.call(vl,e)?!0:Ae.call(_l,e)?!1:yl.test(e)?vl[e]=!0:(_l[e]=!0,!1)}function ea(e,n,s){if(iu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function El(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=fs(e)?"checked":"value";e._valueTracker=El(e,n,""+e[n])}}function yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=fs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _r=/[\n"\\]/g;function hn(e){return e.replace(_r,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,p,Be(n)):s!=null?Tl(e,p,Be(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function su(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Zt(e)}function Tl(e,n,s){n==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function ms(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if($t(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||au.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&bl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&bl(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Al=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,_i=null;function vr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[je]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&yr(l)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var ra=!1;function ys(e,n,s){if(ra)return e(n,s);ra=!0;try{var l=e(n);return l}finally{if(ra=!1,(gs!==null||_i!==null)&&(tc(),gs&&(n=gs,e=_i,_i=gs=null,vr(n),e)))for(n=0;n<e.length;n++)vr(e[n])}}function Xn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Mn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Er=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Er=!1}var vi=null,wl=null,Tr=null;function Rl(){if(Tr)return Tr;var e,n=wl,s=n.length,l,h="value"in vi?vi.value:vi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Tr=h.slice(e,1<l?1-l:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function $n(){return!1}function Qe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:$n,this.isPropagationStopped=$n,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Qe(zi),_s=A({},zi,{view:0,detail:0}),Il=Qe(_s),vs,aa,Ti,la=A({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(vs=e.screenX-Ti.screenX,aa=e.screenY-Ti.screenY):aa=vs=0,Ti=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Cl=Qe(la),Sr=A({},la,{dataTransfer:0}),ou=Qe(Sr),uu=A({},_s,{relatedTarget:0}),Ar=Qe(uu),xl=A({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),cu=Qe(xl),oa=A({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hu=Qe(oa),fu=A({},zi,{data:0}),bi=Qe(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function Es(){return gu}var un=A({},_s,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Qe(un),_u=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Qe(_u),u=A({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=Qe(u),_=A({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(_),L=A({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(L),et=A({},zi,{newState:0,oldState:0}),Ct=Qe(et),ve=[9,13,27,32],Yt=Mn&&"CompositionEvent"in window,he=null;Mn&&"documentMode"in document&&(he=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!he,Si=Mn&&(!Yt||he&&8<he&&11>=he),Zn=" ",Jn=!1;function wr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function XT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function $T(e,n){if(ca)return e==="compositionend"||!Yt&&wr(e,n)?(e=Rl(),Tr=wl=vi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ZT[e.type]:n==="textarea"}function mp(e,n,s,l){gs?_i?_i.push(l):_i=[l]:gs=l,n=lc(n,"onChange"),0<n.length&&(s=new Ei("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function JT(e){$y(e,0)}function vu(e){var n=En(e);if(yr(n))return e}function pp(e,n){if(e==="change")return n}var gp=!1;if(Mn){var kh;if(Mn){var Uh="oninput"in document;if(!Uh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Uh=typeof yp.oninput=="function"}kh=Uh}else kh=!1;gp=kh&&(!document.documentMode||9<document.documentMode)}function _p(){Nl&&(Nl.detachEvent("onpropertychange",vp),Dl=Nl=null)}function vp(e){if(e.propertyName==="value"&&vu(Dl)){var n=[];mp(n,Dl,e,On(e)),ys(JT,n)}}function WT(e,n,s){e==="focusin"?(_p(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",vp)):e==="focusout"&&_p()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Dl)}function e1(e,n){if(e==="click")return vu(n)}function n1(e,n){if(e==="input"||e==="change")return vu(n)}function i1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:i1;function Ol(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ae.call(n,h)||!bn(e[h],n[h]))return!1}return!0}function Ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tp(e,n){var s=Ep(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ep(s)}}function bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Sp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s1=Mn&&"documentMode"in document&&11>=document.documentMode,ha=null,Ph=null,Ml=null,zh=!1;function Ap(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ha==null||ha!==yi(l)||(l=ha,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Ol(Ml,l)||(Ml=l,l=lc(Ph,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ha)))}function Rr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},jh={},wp={};Mn&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Ir(e){if(jh[e])return jh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wp)return jh[e]=n[s];return e}var Rp=Ir("animationend"),Ip=Ir("animationiteration"),Cp=Ir("animationstart"),r1=Ir("transitionrun"),a1=Ir("transitionstart"),l1=Ir("transitioncancel"),xp=Ir("transitionend"),Np=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Wn(e,n){Np.set(e,n),pi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],da=0,qh=0;function Tu(){for(var e=da,n=qh=da=0;n<e;){var s=kn[n];kn[n++]=null;var l=kn[n];kn[n++]=null;var h=kn[n];kn[n++]=null;var f=kn[n];if(kn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Dp(s,h,f)}}function bu(e,n,s,l){kn[da++]=e,kn[da++]=n,kn[da++]=s,kn[da++]=l,qh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Hh(e,n,s,l){return bu(e,n,s,l),Su(e)}function Cr(e,n){return bu(e,null,null,n),Su(e)}function Dp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<eo)throw eo=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function o1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,s,l){return new o1(e,n,s,l)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var s=e.alternate;return s===null?(s=Sn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Op(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=db(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Sn(31,s,n,h),e.elementType=R,e.lanes=f,e;case rt:return xr(s.children,h,f,n);case W:p=8,h|=24;break;case dt:return e=Sn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case re:return e=Sn(13,s,n,h),e.elementType=re,e.lanes=f,e;case Pt:return e=Sn(19,s,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:p=10;break t;case bt:p=9;break t;case Gt:p=11;break t;case x:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Sn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function xr(e,n,s,l){return e=Sn(7,e,l,n),e.lanes=s,e}function Fh(e,n,s){return e=Sn(6,e,null,n),e.lanes=s,e}function Mp(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vp=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var s=Vp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:cl(n)},Vp.set(e,n),n)}return{value:e,source:n,stack:cl(n)}}var pa=[],ga=0,wu=null,Vl=0,Ln=[],Pn=0,Ts=null,Ai=1,wi="";function qi(e,n){pa[ga++]=Vl,pa[ga++]=wu,wu=e,Vl=n}function kp(e,n,s){Ln[Pn++]=Ai,Ln[Pn++]=wi,Ln[Pn++]=Ts,Ts=e;var l=Ai;e=wi;var h=32-_e(l)-1;l&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ai=1<<32-_e(n)+h|s<<h|l,wi=f+e}else Ai=1<<f|s<<h|l,wi=e}function Yh(e){e.return!==null&&(qi(e,1),kp(e,1,0))}function Kh(e){for(;e===wu;)wu=pa[--ga],pa[ga]=null,Vl=pa[--ga],pa[ga]=null;for(;e===Ts;)Ts=Ln[--Pn],Ln[Pn]=null,wi=Ln[--Pn],Ln[Pn]=null,Ai=Ln[--Pn],Ln[Pn]=null}function Up(e,n){Ln[Pn++]=Ai,Ln[Pn++]=wi,Ln[Pn++]=Ts,Ai=n.id,wi=n.overflow,Ts=e}var Ye=null,oe=null,jt=!1,bs=null,zn=!1,Xh=Error(a(519));function Ss(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(Un(n,e)),Xh}function Lp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Re]=e,n[je]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)Ot(io[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),su(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ms(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||t_(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Ss(e,!0)}function Pp(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ye=Ye.return}}function ya(e){if(e!==Ye)return!1;if(!jt)return Pp(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&oe&&Ss(e),Pp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=u_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=u_(e)}else n===27?(n=oe,Ls(e.type)?(e=vd,vd=null,oe=e):oe=n):oe=Ye?Bn(e.stateNode.nextSibling):null;return!0}function Nr(){oe=Ye=null,jt=!1}function $h(){var e=bs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),bs=null),e}function kl(e){bs===null?bs=[e]:bs.push(e)}var Zh=O(null),Dr=null,Hi=null;function As(e,n,s){st(Zh,n._currentValue),n._currentValue=s}function Gi(e){e._currentValue=Zh.current,Y(Zh)}function Jh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Jh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;bn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===wt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}h=h.return}e!==null&&Wh(n,e,s,l),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){Dr=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return zp(Dr,e)}function Iu(e,n){return Dr===null&&Or(e),zp(e,n)}function zp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Hi===null){if(e===null)throw Error(a(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return s}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},c1=r.unstable_scheduleCallback,h1=r.unstable_NormalPriority,xe={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new u1,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&c1(h1,function(){e.controller.abort()})}var Ll=null,ef=0,va=0,Ea=null;function f1(e,n){if(Ll===null){var s=Ll=[];ef=0,va=rd(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ef++,n.then(jp,jp),n}function jp(){if(--ef===0&&Ll!==null){Ea!==null&&(Ea.status="fulfilled");var e=Ll;Ll=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bp=H.S;H.S=function(e,n){Ay=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(e,n),Bp!==null&&Bp(e,n)};var Mr=O(null);function nf(){var e=Mr.current;return e!==null?e:ae.pooledCache}function Cu(e,n){n===null?st(Mr,Mr.current):st(Mr,n.pool)}function qp(){var e=nf();return e===null?null:{parent:xe._currentValue,pool:e}}var Ta=Error(a(460)),sf=Error(a(474)),xu=Error(a(542)),Nu={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Kn,Kn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qp(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Qp(e),e}throw kr=n,Ta}}function Vr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(kr=s,Ta):s}}var kr=null;function Fp(){if(kr===null)throw Error(a(459));var e=kr;return kr=null,e}function Qp(e){if(e===Ta||e===xu)throw Error(a(483))}var ba=null,Pl=0;function Du(e){var n=Pl;return Pl+=1,ba===null&&(ba=[]),Gp(ba,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yp(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function s(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Bi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,Q){return N===null||N.tag!==6?(N=Fh(P,k.mode,Q),N.return=k,N):(N=h(N,P),N.return=k,N)}function I(k,N,P,Q){var ft=P.type;return ft===rt?G(k,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Vr(ft)===N.type)?(N=h(N,P.props),zl(N,P),N.return=k,N):(N=Au(P.type,P.key,P.props,null,k.mode,Q),zl(N,P),N.return=k,N)}function z(k,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Qh(P,k.mode,Q),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function G(k,N,P,Q,ft){return N===null||N.tag!==7?(N=xr(P,k.mode,Q,ft),N.return=k,N):(N=h(N,P),N.return=k,N)}function K(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Fh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return P=Au(N.type,N.key,N.props,null,k.mode,P),zl(P,N),P.return=k,P;case tt:return N=Qh(N,k.mode,P),N.return=k,N;case S:return N=Vr(N),K(k,N,P)}if($t(N)||U(N))return N=xr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return K(k,Du(N),P);if(N.$$typeof===_t)return K(k,Iu(k,N),P);Ou(k,N)}return null}function j(k,N,P,Q){var ft=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(k,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?I(k,N,P,Q):null;case tt:return P.key===ft?z(k,N,P,Q):null;case S:return P=Vr(P),j(k,N,P,Q)}if($t(P)||U(P))return ft!==null?null:G(k,N,P,Q,null);if(typeof P.then=="function")return j(k,N,Du(P),Q);if(P.$$typeof===_t)return j(k,N,Iu(k,P),Q);Ou(k,P)}return null}function q(k,N,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(N,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return k=k.get(Q.key===null?P:Q.key)||null,I(N,k,Q,ft);case tt:return k=k.get(Q.key===null?P:Q.key)||null,z(N,k,Q,ft);case S:return Q=Vr(Q),q(k,N,P,Q,ft)}if($t(Q)||U(Q))return k=k.get(P)||null,G(N,k,Q,ft,null);if(typeof Q.then=="function")return q(k,N,P,Du(Q),ft);if(Q.$$typeof===_t)return q(k,N,P,Iu(N,Q),ft);Ou(N,Q)}return null}function ot(k,N,P,Q){for(var ft=null,qt=null,ct=N,Nt=N=0,Vt=null;ct!==null&&Nt<P.length;Nt++){ct.index>Nt?(Vt=ct,ct=null):Vt=ct.sibling;var Ht=j(k,ct,P[Nt],Q);if(Ht===null){ct===null&&(ct=Vt);break}e&&ct&&Ht.alternate===null&&n(k,ct),N=f(Ht,N,Nt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ct=Vt}if(Nt===P.length)return s(k,ct),jt&&qi(k,Nt),ft;if(ct===null){for(;Nt<P.length;Nt++)ct=K(k,P[Nt],Q),ct!==null&&(N=f(ct,N,Nt),qt===null?ft=ct:qt.sibling=ct,qt=ct);return jt&&qi(k,Nt),ft}for(ct=l(ct);Nt<P.length;Nt++)Vt=q(ct,k,Nt,P[Nt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?Nt:Vt.key),N=f(Vt,N,Nt),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return e&&ct.forEach(function(qs){return n(k,qs)}),jt&&qi(k,Nt),ft}function yt(k,N,P,Q){if(P==null)throw Error(a(151));for(var ft=null,qt=null,ct=N,Nt=N=0,Vt=null,Ht=P.next();ct!==null&&!Ht.done;Nt++,Ht=P.next()){ct.index>Nt?(Vt=ct,ct=null):Vt=ct.sibling;var qs=j(k,ct,Ht.value,Q);if(qs===null){ct===null&&(ct=Vt);break}e&&ct&&qs.alternate===null&&n(k,ct),N=f(qs,N,Nt),qt===null?ft=qs:qt.sibling=qs,qt=qs,ct=Vt}if(Ht.done)return s(k,ct),jt&&qi(k,Nt),ft;if(ct===null){for(;!Ht.done;Nt++,Ht=P.next())Ht=K(k,Ht.value,Q),Ht!==null&&(N=f(Ht,N,Nt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return jt&&qi(k,Nt),ft}for(ct=l(ct);!Ht.done;Nt++,Ht=P.next())Ht=q(ct,k,Nt,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?Nt:Ht.key),N=f(Ht,N,Nt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ct.forEach(function(Ab){return n(k,Ab)}),jt&&qi(k,Nt),ft}function se(k,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===rt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;N!==null;){if(N.key===ft){if(ft=P.type,ft===rt){if(N.tag===7){s(k,N.sibling),Q=h(N,P.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Vr(ft)===N.type){s(k,N.sibling),Q=h(N,P.props),zl(Q,P),Q.return=k,k=Q;break t}s(k,N);break}else n(k,N);N=N.sibling}P.type===rt?(Q=xr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Au(P.type,P.key,P.props,null,k.mode,Q),zl(Q,P),Q.return=k,k=Q)}return p(k);case tt:t:{for(ft=P.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(k,N.sibling),Q=h(N,P.children||[]),Q.return=k,k=Q;break t}else{s(k,N);break}else n(k,N);N=N.sibling}Q=Qh(P,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return P=Vr(P),se(k,N,P,Q)}if($t(P))return ot(k,N,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),yt(k,N,P,Q)}if(typeof P.then=="function")return se(k,N,Du(P),Q);if(P.$$typeof===_t)return se(k,N,Iu(k,P),Q);Ou(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(k,N.sibling),Q=h(N,P),Q.return=k,k=Q):(s(k,N),Q=Fh(P,k.mode,Q),Q.return=k,k=Q),p(k)):s(k,N)}return function(k,N,P,Q){try{Pl=0;var ft=se(k,N,P,Q);return ba=null,ft}catch(ct){if(ct===Ta||ct===xu)throw ct;var qt=Sn(29,ct,null,k.mode);return qt.lanes=Q,qt.return=k,qt}finally{}}}var Ur=Yp(!0),Kp=Yp(!1),ws=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(e),Dp(e,null,s),n}return bu(e,l,n,s),Su(e)}function jl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}function lf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Bl(){if(of){var e=Ea;if(e!==null)throw e}}function ql(e,n,s,l){of=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(l&j)===j){j!==0&&j===va&&(of=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,yt=E;j=n;var se=s;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){K=ot.call(se,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,j=typeof ot=="function"?ot.call(se,K,j):ot,j==null)break t;K=A({},K,j);break t;case 2:ws=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Os|=p,e.lanes=p,e.memoizedState=K}}function Xp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $p(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xp(s[e],n)}var Sa=O(null),Mu=O(0);function Zp(e,n){e=Wi,st(Mu,e),st(Sa,n),Wi=e|n.baseLanes}function uf(){st(Mu,Wi),st(Sa,Sa.current)}function cf(){Wi=Mu.current,Y(Sa),Y(Mu)}var An=O(null),jn=null;function Cs(e){var n=e.alternate;st(Ee,Ee.current&1),st(An,e),jn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(jn=e)}function hf(e){st(Ee,Ee.current),st(An,e),jn===null&&(jn=e)}function Jp(e){e.tag===22?(st(Ee,Ee.current),st(An,e),jn===null&&(jn=e)):xs()}function xs(){st(Ee,Ee.current),st(An,An.current)}function wn(e){Y(An),jn===e&&(jn=null),Y(Ee)}var Ee=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,xt=null,ne=null,Ne=null,ku=!1,Aa=!1,Lr=!1,Uu=0,Hl=0,wa=null,m1=0;function pe(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!bn(e[s],n[s]))return!1;return!0}function df(e,n,s,l,h,f){return Fi=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?kg:Cf,Lr=!1,f=s(l,h),Lr=!1,Aa&&(f=tg(n,s,l,h)),Wp(e),f}function Wp(e){H.H=Ql;var n=ne!==null&&ne.next!==null;if(Fi=0,Ne=ne=xt=null,ku=!1,Hl=0,wa=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Ru(e)&&(De=!0))}function tg(e,n,s,l){xt=e;var h=0;do{if(Aa&&(wa=null),Hl=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Ug,f=n(s,l)}while(Aa);return f}function p1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(xt.flags|=1024),n}function mf(){var e=Uu!==0;return Uu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Fi=0,Ne=ne=xt=null,Aa=!1,Hl=Uu=0,wa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?xt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Te(){if(ne===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Ne===null?xt.memoizedState:Ne.next;if(n!==null)Ne=n,ne=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Ne===null?xt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=Hl;return Hl+=1,wa===null&&(wa=[]),e=Gp(wa,e,n),n=xt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?kg:Cf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===_t)return Ke(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Qi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Te();return _f(n,ne,e)}function _f(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Mt&K)===K:(Fi&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===va&&(G=!0);else if((Fi&j)===j){z=z.next,j===va&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,xt.lanes|=j,Os|=j;K=z.action,Lr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,xt.lanes|=K,Os|=K;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!bn(f,e.memoizedState)&&(De=!0,G&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function vf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);bn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function eg(e,n,s){var l=xt,h=Te(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!bn((ne||h).memoizedState,s);if(p&&(h.memoizedState=s,De=!0),h=h.queue,bf(sg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,l,h,s,n),null),ae===null)throw Error(a(349));f||(Fi&127)!==0||ng(l,n,s)}return s}function ng(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=Lu(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ig(e,n,s,l){n.value=s,n.getSnapshot=l,rg(n)&&ag(e)}function sg(e,n,s){return s(function(){rg(n)&&ag(e)})}function rg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!bn(e,s)}catch{return!0}}function ag(e){var n=Cr(e,2);n!==null&&yn(n,e,2)}function Ef(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Lr){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function lg(e,n,s,l){return e.baseState=s,_f(e,ne,typeof l=="function"?l:Qi)}function g1(e,n,s,l,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,og(n,f)):(f.next=s.next,n.pending=s.next=f)}}function og(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),I=H.S;I!==null&&I(p,E),ug(e,n,E)}catch(z){Tf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),ug(e,n,f)}catch(z){Tf(e,n,z)}}function ug(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){cg(e,n,l)},function(l){return Tf(e,n,l)}):cg(e,n,s)}function cg(e,n,s){n.status="fulfilled",n.value=s,hg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,og(e,s)))}function Tf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,hg(n),n=n.next;while(n!==l)}e.action=null}function hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fg(e,n){return n}function dg(e,n){if(jt){var s=ae.formState;if(s!==null){t:{var l=xt;if(jt){if(oe){e:{for(var h=oe,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Bn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},s.queue=l,s=Og.bind(null,xt,l),l.dispatch=s,l=Ef(!1),f=If.bind(null,xt,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=g1.bind(null,xt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function mg(e){var n=Te();return pg(n,ne,e)}function pg(e,n,s){if(n=_f(e,n,fg)[0],e=zu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gl(n)}catch(p){throw p===Ta?xu:p}else l=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,Ra(9,{destroy:void 0},y1.bind(null,h,s),null)),[l,f,e]}function y1(e,n){e.action=n}function gg(e){var n=Te(),s=ne;if(s!==null)return pg(n,s,e);Te(),n=n.memoizedState,s=Te();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ra(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Lu(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function yg(){return Te().memoizedState}function ju(e,n,s,l){var h=cn();xt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bu(e,n,s,l){var h=Te();l=l===void 0?null:l;var f=h.memoizedState.inst;ne!==null&&l!==null&&ff(l,ne.memoizedState.deps)?h.memoizedState=Ra(n,f,s,l):(xt.flags|=e,h.memoizedState=Ra(1|n,f,s,l))}function _g(e,n){ju(8390656,8,e,n)}function bf(e,n){Bu(2048,8,e,n)}function _1(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Lu(),xt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function vg(e){var n=Te().memoizedState;return _1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(e,n){return Bu(4,2,e,n)}function Tg(e,n){return Bu(4,4,e,n)}function bg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Sg(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,bg.bind(null,n,e),s)}function Sf(){}function Ag(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function wg(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=e(),Lr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,n],l}function Af(e,n,s){return s===void 0||(Fi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),xt.lanes|=e,Os|=e,s)}function Rg(e,n,s,l){return bn(s,n)?s:Sa.current!==null?(e=Af(e,s,l),bn(e,n)||(De=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Mt&261930)===0?(De=!0,e.memoizedState=s):(e=Ry(),xt.lanes|=e,Os|=e,n)}function Ig(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,If(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=d1(I,l);Fl(e,n,G,Cn(e))}else Fl(e,n,l,Cn(e))}catch(K){Fl(e,n,{then:function(){},status:"rejected",reason:K},Cn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function v1(){}function wf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Cg(e).queue;Ig(e,h,n,ut,s===null?v1:function(){return xg(e),s(l)})}function Cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Cg(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},Cn())}function Rf(){return Ke(oo)}function Ng(){return Te().memoizedState}function Dg(){return Te().memoizedState}function E1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Rs(s);var l=Is(n,e,s);l!==null&&(yn(l,n,s),jl(l,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function T1(e,n,s){var l=Cn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?Mg(n,s):(s=Hh(e,n,s,l),s!==null&&(yn(s,e,l),Vg(s,n,l)))}function Og(e,n,s){var l=Cn();Fl(e,n,s,l)}function Fl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Mg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,bn(E,p))return bu(e,n,h,0),ae===null&&Tu(),!1}catch{}finally{}if(s=Hh(e,n,h,l),s!==null)return yn(s,e,l),Vg(s,n,l),!0}return!1}function If(e,n,s,l){if(l={lane:2,revertLane:rd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,l,2),n!==null&&yn(n,e,2)}function qu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Mg(e,n){Aa=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Vg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,dl(e,s)}}var Ql={readContext:Ke,use:Pu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};Ql.useEffectEvent=pe;var kg={readContext:Ke,use:Pu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:_g,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,bg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var l=e();if(Lr){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=cn();if(s!==void 0){var h=s(n);if(Lr){Nn(!0);try{s(n)}finally{Nn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=T1.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Og.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=cn();return Af(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Ig.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=xt,h=cn();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Mt&127)!==0||ng(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_g(sg.bind(null,l,f,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},ig.bind(null,l,f,s,n),null),s},useId:function(){var e=cn(),n=ae.identifierPrefix;if(jt){var s=wi,l=Ai;s=(l&~(1<<32-_e(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=m1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:dg,useActionState:dg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return cn().memoizedState=E1.bind(null,xt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Ke,use:Pu,useCallback:Ag,useContext:Ke,useEffect:bf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:zu,useRef:yg,useState:function(){return zu(Qi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Te();return Rg(s,ne.memoizedState,e,n)},useTransition:function(){var e=zu(Qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:Rf,useFormState:mg,useActionState:mg,useOptimistic:function(e,n){var s=Te();return lg(s,ne,e,n)},useMemoCache:yf,useCacheRefresh:Dg};Cf.useEffectEvent=vg;var Ug={readContext:Ke,use:Pu,useCallback:Ag,useContext:Ke,useEffect:bf,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:vf,useRef:yg,useState:function(){return vf(Qi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Te();return ne===null?Af(s,e,n):Rg(s,ne.memoizedState,e,n)},useTransition:function(){var e=vf(Qi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:Rf,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var s=Te();return ne!==null?lg(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Dg};Ug.useEffectEvent=vg;function xf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Rs(l);h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(yn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Rs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(yn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),l=Rs(s);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,s),n!==null&&(yn(n,e,s),jl(n,e,s))}};function Lg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ol(s,l)||!Ol(h,f):!0}function Pg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Pr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function zg(e){Eu(e)}function jg(e){console.error(e)}function Bg(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Rs(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Hg(e){return e=Rs(e),e.tag=3,e}function Gg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){qg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qg(n,s,l),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function b1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?ec():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),nd(e,l,h)),!1;case 22:return s.flags|=65536,l===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),nd(e,l,h)),!1}throw Error(a(435,s.tag))}return nd(e,l,h),ec(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Xh&&(e=Error(a(422),{cause:l}),kl(Un(e,s)))):(l!==Xh&&(n=Error(a(423),{cause:l}),kl(Un(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Un(l,s),h=Df(e.stateNode,l,h),lf(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:l});if(f=Un(f,s),to===null?to=[f]:to.push(f),ge!==4&&(ge=2),n===null)return!0;l=Un(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,l,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hg(h),Gg(h,e,s,l),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),De=!1;function Xe(e,n,s,l){n.child=e===null?Kp(n,null,s,l):Ur(n,e.child,s,l)}function Fg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Or(n),l=df(e,n,s,p,f,h),E=mf(),e!==null&&!De?(pf(e,n,h),Yi(e,n,h)):(jt&&E&&Yh(n),n.flags|=1,Xe(e,n,l,h),n.child)}function Qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(e,n,f,l,h)):(e=Au(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ol,s(p,l)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=Bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Yg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ol(f,l)&&e.ref===n.ref)if(De=!1,n.pendingProps=l=f,jf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Mf(e,n,s,l,h)}function Kg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Xg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):uf(),Jp(n);else return l=n.lanes=536870912,Xg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Cu(n,f.cachePool),Zp(n,f),xs(),n.memoizedState=null):(e!==null&&Cu(n,null),uf(),xs());return Xe(e,n,h,s),n.child}function Yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(e,n,s,l,h){var f=nf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),uf(),Jp(n),e!==null&&_a(e,n,l,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $g(e,n,s){return Ur(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function S1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=Gu(n,l),n.lanes=536870912,Yl(null,e);if(hf(n),(e=oe)?(e=o_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Mp(e),s.return=n,n.child=s,Ye=n,oe=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Gu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=$g(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||_a(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(l=ae,l!==null&&(p=ml(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Cr(e,p),yn(l,e,p),Of;ec(),n=$g(e,n,s)}else e=f.treeContext,oe=Bn(p.nextSibling),Ye=n,jt=!0,bs=null,zn=!1,e!==null&&Up(n,e),n=Gu(n,l),n.flags|=4096;return n}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Mf(e,n,s,l,h){return Or(n),s=df(e,n,s,l,void 0,h),l=mf(),e!==null&&!De?(pf(e,n,h),Yi(e,n,h)):(jt&&l&&Yh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function Zg(e,n,s,l,h,f){return Or(n),n.updateQueue=null,s=tg(n,l,s,h),Wp(e),l=mf(),e!==null&&!De?(pf(e,n,f),Yi(e,n,f)):(jt&&l&&Yh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function Jg(e,n,s,l,h){if(Or(n),n.stateNode===null){var f=ma,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ke(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ke(p):ma,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(xf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Nf.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),Bl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Pr(s,E);f.props=I;var z=f.context,G=s.contextType;p=ma,typeof G=="object"&&G!==null&&(p=Ke(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Pg(n,f,l,p),ws=!1;var j=n.memoizedState;f.state=j,ql(n,l,f,h),Bl(),z=n.memoizedState,E||j!==z||ws?(typeof K=="function"&&(xf(n,s,K,l),z=n.memoizedState),(I=ws||Lg(n,s,I,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,af(e,n),p=n.memoizedProps,G=Pr(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,I=ma,typeof z=="object"&&z!==null&&(I=Ke(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==I)&&Pg(n,f,l,I),ws=!1,j=n.memoizedState,f.state=j,ql(n,l,f,h),Bl();var q=n.memoizedState;p!==K||j!==q||ws||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(xf(n,s,E,l),q=n.memoizedState),(G=ws||Lg(n,s,G,l,j,q,I)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Fu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function Wg(e,n,s,l){return Nr(),n.flags|=256,Xe(e,n,s,l),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:qp()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function ty(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Cs(n):xs(),(e=oe)?(e=o_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Mp(e),s.return=n,n.child=s,Ye=n,oe=null)):e=null,e===null)throw Ss(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(xs(),h=n.mode,E=Qu({mode:"hidden",children:E},h),l=xr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(e,p,s),n.memoizedState=Vf,Yl(null,l)):(Cs(n),Lf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=l.fallback,h=n.mode,l=Qu({mode:"visible",children:l.children},h),E=xr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ur(n,e.child,null,s),l=n.child,l.memoizedState=kf(s),l.childLanes=Uf(e,p,s),n.memoizedState=Vf,n=Yl(null,l));else if(Cs(n),_d(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,kl({value:l,source:null,stack:null}),n=Pf(e,n,s)}else if(De||_a(e,n,s,!1),p=(s&e.childLanes)!==0,De||p){if(p=ae,p!==null&&(l=ml(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Cr(e,l),yn(p,e,l),Of;yd(E)||ec(),n=Pf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,oe=Bn(E.nextSibling),Ye=n,jt=!0,bs=null,zn=!1,e!==null&&Up(n,e),n=Lf(n,l.children),n.flags|=4096);return n}return h?(xs(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Bi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Bi(z,E):(E=xr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=kf(s):(h=E.cachePool,h!==null?(I=xe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=qp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Uf(e,p,s),n.memoizedState=Vf,Yl(e.child,l)):(Cs(n),s=e.child,e=s.sibling,s=Bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return Ur(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ny(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ee.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(Ee,p),Xe(e,n,l,s),l=jt?Vl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Bi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Bi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function A1(e,n,s){switch(n.tag){case 3:X(n,n.stateNode.containerInfo),As(n,xe,e.memoizedState.cache),Nr();break;case 27:case 5:pt(n);break;case 4:X(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(Cs(n),e=Yi(e,n,s),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_a(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ee,Ee.current),l)break;return null;case 22:return n.lanes=0,Kg(e,n,s,n.pendingProps);case 24:As(n,xe,e.memoizedState.cache)}return Yi(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return De=!1,A1(e,n,s);De=(e.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&kp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Vr(n.elementType),n.type=e,typeof e=="function")Gh(e)?(l=Pr(e,l),n.tag=1,n=Jg(null,n,e,l,s)):(n.tag=0,n=Mf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=Fg(null,n,e,l,s);break t}else if(h===x){n.tag=14,n=Qg(null,n,e,l,s);break t}}throw n=le(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Pr(l,n.pendingProps),Jg(e,n,l,h,s);case 3:t:{if(X(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),ql(n,l,null,s);var p=n.memoizedState;if(l=p.cache,As(n,xe,l),l!==f.cache&&Wh(n,[xe],s,!0),Bl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(e,n,l,s);break t}else if(l!==h){h=Un(Error(a(424)),n),kl(h),n=Wg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Bn(e.firstChild),Ye=n,jt=!0,bs=null,zn=!0,s=Kp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Nr(),l===h){n=Yi(e,n,s);break t}Xe(e,n,l,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,l=oc(Tt.current).createElement(s),l[Re]=n,l[je]=e,$e(l,s,e),Ie(l),n.stateNode=l):n.memoizedState=m_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return pt(n),e===null&&jt&&(l=n.stateNode=h_(n.type,n.pendingProps,Tt.current),Ye=n,zn=!0,h=oe,Ls(n.type)?(vd=h,oe=Bn(l.firstChild)):oe=h),Xe(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=l=oe)&&(l=tb(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Ye=n,oe=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Ss(n)),pt(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,md(h,f)?l=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,p1,null,null,s),oo._currentValue=h),Fu(e,n),Xe(e,n,l,s),n.child;case 6:return e===null&&jt&&((e=s=oe)&&(s=eb(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Ye=n,oe=null,e=!0):e=!1),e||Ss(n)),null;case 13:return ty(e,n,s);case 4:return X(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ur(n,null,l,s):Xe(e,n,l,s),n.child;case 11:return Fg(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),Xe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Or(n),h=Ke(h),l=l(h),n.flags|=1,Xe(e,n,l,s),n.child;case 14:return Qg(e,n,n.type,n.pendingProps,s);case 15:return Yg(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return S1(e,n,s);case 22:return Kg(e,n,s,n.pendingProps);case 24:return Or(n),l=Ke(xe),e===null?(h=nf(),h===null&&(h=ae,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},rf(n),As(n,xe,h)):((e.lanes&s)!==0&&(af(e,n),ql(n,null,null,s),Bl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,xe,l)):(l=f.cache,As(n,xe,l),l!==h.cache&&Wh(n,[xe],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(e){e.flags|=4}function Bf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ny())e.flags|=8192;else throw kr=Nu,sf}else e.flags&=-16777217}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!v_(n))if(Ny())e.flags|=8192;else throw kr=Nu,sf}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wo():536870912,e.lanes|=n,Na|=n)}function Kl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function w1(e,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Gi(xe),J(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(ue(n),sy(n,f)):(ue(n),Bf(n,h,null,l,s))):f?f!==e.memoizedState?(Ki(n),ue(n),sy(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(n),ue(n),Bf(n,h,e,l,s)),null;case 27:if(nt(n),s=Tt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=at.current,ya(n)?Lp(n):(e=h_(h,l,s),n.stateNode=e,Ki(n))}return ue(n),null;case 5:if(nt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=at.current,ya(n))Lp(n);else{var p=oc(Tt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Re]=n,f[je]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch($e(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(n)}}return ue(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Tt.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||t_(e.nodeValue,s)),e||Ss(n,!0)}else e=oc(e).createTextNode(l),e[Re]=n,n.stateNode=e}return ue(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ya(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),ue(n),null);case 4:return J(),e===null&&ud(n.stateNode.containerInfo),ue(n),null;case 10:return Gi(n.type),ue(n),null;case 19:if(Y(Ee),l=n.memoizedState,l===null)return ue(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Kl(l,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Kl(l,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Op(s,e),s=s.sibling;return st(Ee,Ee.current&1|2),jt&&qi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&on()>Ju&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!jt)return ue(n),null}else 2*on()-l.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=on(),e.sibling=null,s=Ee.current,st(Ee,h?s&1|2:s&1),jt&&qi(n,l.treeForkCount),e):(ue(n),null);case 22:case 23:return wn(n),cf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Mr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Gi(xe),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function R1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(xe),J(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ee),null;case 4:return J(),null;case 10:return Gi(n.type),null;case 22:case 23:return wn(n),cf(),e!==null&&Y(Mr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(xe),null;case 25:return null;default:return null}}function ry(e,n){switch(Kh(n),n.tag){case 3:Gi(xe),J();break;case 26:case 27:case 5:nt(n);break;case 4:J();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Y(Ee);break;case 10:Gi(n.type);break;case 22:case 23:wn(n),cf(),e!==null&&Y(Mr);break;case 24:Gi(xe)}}function Xl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function Ns(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Wt(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){Wt(n,n.return,G)}}function ay(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$p(n,s)}catch(l){Wt(e,e.return,l)}}}function ly(e,n,s){s.props=Pr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(e,n,l)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Wt(e,n,h)}}function Ri(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function qf(e,n,s){try{var l=e.stateNode;K1(l,e.type,s,n),l[je]=n}catch(h){Wt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Kn));else if(l!==4&&(l===27&&Ls(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function Ku(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,l,s),n[Re]=e,n[je]=s}catch(f){Wt(e,e.return,f)}}var Xi=!1,Oe=!1,Ff=!1,hy=typeof WeakSet=="function"?WeakSet:Set,qe=null;function I1(e,n){if(e=e.containerInfo,fd=pc,e=Sp(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(I=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===l&&(I=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},pc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Pr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function fy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),l&4&&Xl(5,s);break;case 1:if(Zi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Wt(s,s.return,p)}else{var h=Pr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Wt(s,s.return,p)}}l&64&&ay(s),l&512&&$l(s,s.return);break;case 3:if(Zi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$p(e,n)}catch(p){Wt(s,s.return,p)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:Zi(e,s),n===null&&l&4&&oy(s),l&512&&$l(s,s.return);break;case 12:Zi(e,s);break;case 31:Zi(e,s),l&4&&py(e,s);break;case 13:Zi(e,s),l&4&&gy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=U1.bind(null,s),nb(e,s))));break;case 22:if(l=s.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Oe,h=Xi;var f=Oe;Xi=l,(Oe=n)&&!f?Ji(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),Xi=h,Oe=f}break;case 30:break;default:Zi(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,dn=!1;function $i(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Gn,s)}catch{}switch(s.tag){case 26:Oe||Ri(s,n),$i(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Ri(s,n);var l=fe,h=dn;Ls(s.type)&&(fe=s.stateNode,dn=!1),$i(e,n,s),ro(s.stateNode),fe=l,dn=h;break;case 5:Oe||Ri(s,n);case 6:if(l=fe,h=dn,fe=null,$i(e,n,s),fe=l,dn=h,fe!==null)if(dn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:fe!==null&&(dn?(e=fe,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):a_(fe,s.stateNode));break;case 4:l=fe,h=dn,fe=s.stateNode.containerInfo,dn=!0,$i(e,n,s),fe=l,dn=h;break;case 0:case 11:case 14:case 15:Ns(2,s,n),Oe||Ns(4,s,n),$i(e,n,s);break;case 1:Oe||(Ri(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),$i(e,n,s);break;case 21:$i(e,n,s);break;case 22:Oe=(l=Oe)||s.memoizedState!==null,$i(e,n,s),Oe=l;break;default:$i(e,n,s)}}function py(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Wt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Wt(n,n.return,s)}}function C1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=C1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=L1.bind(null,e,l);l.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){fe=E.stateNode,dn=!1;break t}break;case 5:fe=E.stateNode,dn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));my(f,p,h),fe=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,e),n=n.sibling}var ti=null;function yy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),l&4&&(Ns(3,e,e.return),Xl(3,e),Ns(5,e,e.return));break;case 1:mn(n,e),pn(e),l&512&&(Oe||s===null||Ri(s,s.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ti;if(mn(n,e),pn(e),l&512&&(Oe||s===null||Ri(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,l,s),f[Re]=e,Ie(f),l=f;break t;case"link":var p=y_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;case"meta":if(p=y_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),$e(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=e,Ie(f),l=f}e.stateNode=l}else __(h,e.type,e.stateNode);else e.stateNode=g_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?__(h,e.type,e.stateNode):g_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),pn(e),l&512&&(Oe||s===null||Ri(s,s.return)),s!==null&&l&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),pn(e),l&512&&(Oe||s===null||Ri(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(ot){Wt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(mn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(hc=null,h=ti,ti=uc(n.containerInfo),mn(n,e),ti=h,pn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}Ff&&(Ff=!1,_y(e));break;case 4:l=ti,ti=uc(e.stateNode.containerInfo),mn(n,e),pn(e),ti=l;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Xi,G=Oe;if(Xi=z||h,Oe=G||I,mn(n,e),Oe=G,Xi=z,pn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Xi||Oe||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?l_(q,!0):l_(I.stateNode,!1)}catch(ot){Wt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Xu(e,s))));break;case 19:mn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Xu(e,l)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);Ku(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(fn(p,""),s.flags&=-33);var E=Hf(e);Ku(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Hf(e);Gf(e,z,I);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),zr(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),zr(n);break;case 27:ro(n.stateNode);case 26:case 5:Ri(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Ji(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(h,f,s),Xl(4,f);break;case 1:if(Ji(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Xp(I[h],E)}catch(z){Wt(l,l.return,z)}}s&&p&64&&ay(f),$l(f,f.return);break;case 27:cy(f);case 26:case 5:Ji(h,f,s),s&&l===null&&p&4&&oy(f),$l(f,f.return);break;case 12:Ji(h,f,s);break;case 31:Ji(h,f,s),s&&p&4&&py(h,f);break;case 13:Ji(h,f,s),s&&p&4&&gy(h,f);break;case 22:f.memoizedState===null&&Ji(h,f,s),$l(f,f.return);break;case 30:break;default:Ji(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ul(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function ei(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,s,l),n=n.sibling}function vy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,l),h&2048&&Xl(9,n);break;case 1:ei(e,n,s,l);break;case 3:ei(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(h&2048){ei(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else ei(e,n,s,l);break;case 31:ei(e,n,s,l);break;case 13:ei(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,l):Zl(e,n):f._visibility&2?ei(e,n,s,l):(f._visibility|=2,Ia(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(p,n);break;case 24:ei(e,n,s,l),h&2048&&Yf(n.alternate,n);break;default:ei(e,n,s,l)}}function Ia(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,I,h),Xl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ia(f,p,E,I,h):Zl(f,p):(G._visibility|=2,Ia(f,p,E,I,h)),h&&z&2048&&Qf(p.alternate,p);break;case 24:Ia(f,p,E,I,h),h&&z&2048&&Yf(p.alternate,p);break;default:Ia(f,p,E,I,h)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zl(s,l),h&2048&&Qf(l.alternate,l);break;case 24:Zl(s,l),h&2048&&Yf(l.alternate,l);break;default:Zl(s,l)}n=n.sibling}}var Jl=8192;function Ca(e,n,s){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)Ey(e,n,s),e=e.sibling}function Ey(e,n,s){switch(e.tag){case 26:Ca(e,n,s),e.flags&Jl&&e.memoizedState!==null&&mb(s,ti,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,s);break;case 3:case 4:var l=ti;ti=uc(e.stateNode.containerInfo),Ca(e,n,s),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,Ca(e,n,s),Jl=l):Ca(e,n,s));break;default:Ca(e,n,s)}}function Ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,Sy(l,e)}Ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):Wl(e);break;default:Wl(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,Sy(l,e)}Ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function Sy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ns(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qe=l;else t:for(s=e;qe!==null;){l=qe;var h=l.sibling,f=l.return;if(dy(l),l===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var x1={getCacheForType:function(e){var n=Ke(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ke(xe).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Dt=null,Mt=0,Jt=0,Rn=null,Ds=!1,xa=!1,Kf=!1,Wi=0,ge=0,Os=0,jr=0,Xf=0,In=0,Na=0,to=null,gn=null,$f=!1,Zu=0,Ay=0,Ju=1/0,Wu=null,Ms=null,Le=0,Vs=null,Da=null,ts=0,Zf=0,Jf=null,wy=null,eo=0,Wf=null;function Cn(){return(Kt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?rd():tu()}function Ry(){if(In===0)if((Mt&536870912)===0||jt){var e=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),In=e}else In=536870912;return e=An.current,e!==null&&(e.flags|=32),In}function yn(e,n,s){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),ks(e,Mt,In,!1)),mr(e,s),((Kt&2)===0||e!==ae)&&(e===ae&&((Kt&2)===0&&(jr|=s),ge===4&&ks(e,Mt,In,!1)),Ii(e))}function Iy(e,n,s){if((Kt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=l?M1(e,n):ed(e,n,!0),f=l;do{if(h===0){xa&&!l&&ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!D1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=to;var I=E.current.memoizedState.isDehydrated;if(I&&(Oa(E,p).flags|=256),p=ed(E,p,!1),p!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),ks(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(l,n,In,!Ds);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Zu+300-on(),10<h)){if(ks(l,n,In,!Ds),ui(l,0,!0)!==0)break t;ts=n,l.timeoutHandle=s_(Cy.bind(null,l,s,gn,Wu,$f,n,In,jr,Na,Ds,f,"Throttled",-0,0),h);break t}Cy(l,s,gn,Wu,$f,n,In,jr,Na,Ds,f,null,-0,0)}}break}while(!0);Ii(e)}function Cy(e,n,s,l,h,f,p,E,I,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Ey(n,f,K);var ot=(f&62914560)===f?Zu-on():(f&4194048)===f?Ay-on():0;if(ot=pb(K,ot),ot!==null){ts=f,e.cancelPendingCommit=ot(Uy.bind(null,e,n,f,s,l,h,p,E,I,G,K,null,j,q)),ks(e,f,p,!z);return}}Uy(e,n,f,s,l,h,p,E,I)}function D1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,s,l){n&=~Xf,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&pr(e,s,n)}function tc(){return(Kt&6)===0?(no(0),!1):!0}function td(){if(Dt!==null){if(Jt===0)var e=Dt.return;else e=Dt,Hi=Dr=null,gf(e),ba=null,Pl=0,e=Dt;for(;e!==null;)ry(e.alternate,e),e=e.return;Dt=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Z1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ts=0,td(),ae=e,Dt=s=Bi(e.current,null),Mt=n,Jt=0,Rn=null,Ds=!1,xa=Fn(e,n),Kf=!1,Na=In=Xf=jr=Os=ge=0,gn=to=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-_e(l),f=1<<h;n|=e[h],l&=~f}return Wi=n,Tu(),s}function xy(e,n){xt=null,H.H=Ql,n===Ta||n===xu?(n=Fp(),Jt=3):n===sf?(n=Fp(),Jt=4):Jt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Dt===null&&(ge=1,Hu(e,Un(n,e.current)))}function Ny(){var e=An.current;return e===null?!0:(Mt&4194048)===Mt?jn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===jn:!1}function Dy(){var e=H.H;return H.H=Ql,e===null?Ql:e}function Oy(){var e=H.A;return H.A=x1,e}function ec(){ge=4,Ds||(Mt&4194048)!==Mt&&An.current!==null||(xa=!0),(Os&134217727)===0&&(jr&134217727)===0||ae===null||ks(ae,Mt,In,!1)}function ed(e,n,s){var l=Kt;Kt|=2;var h=Dy(),f=Oy();(ae!==e||Mt!==n)&&(Wu=null,Oa(e,n)),n=!1;var p=ge;t:do try{if(Jt!==0&&Dt!==null){var E=Dt,I=Rn;switch(Jt){case 8:td(),p=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Jt;if(Jt=0,Rn=null,Ma(e,E,I,z),s&&xa){p=0;break t}break;default:z=Jt,Jt=0,Rn=null,Ma(e,E,I,z)}}O1(),p=ge;break}catch(G){xy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Hi=Dr=null,Kt=l,H.H=h,H.A=f,Dt===null&&(ae=null,Mt=0,Tu()),p}function O1(){for(;Dt!==null;)My(Dt)}function M1(e,n){var s=Kt;Kt|=2;var l=Dy(),h=Oy();ae!==e||Mt!==n?(Wu=null,Ju=on()+500,Oa(e,n)):xa=Fn(e,n);t:do try{if(Jt!==0&&Dt!==null){n=Dt;var f=Rn;e:switch(Jt){case 1:Jt=0,Rn=null,Ma(e,n,f,1);break;case 2:case 9:if(Hp(f)){Jt=0,Rn=null,Vy(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),Ii(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Hp(f)?(Jt=0,Rn=null,Vy(n)):(Jt=0,Rn=null,Ma(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?v_(p):E.stateNode.complete){Jt=0,Rn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,nc(z)):Dt=null}break e}}Jt=0,Rn=null,Ma(e,n,f,5);break;case 6:Jt=0,Rn=null,Ma(e,n,f,6);break;case 8:td(),ge=6;break t;default:throw Error(a(462))}}V1();break}catch(G){xy(e,G)}while(!0);return Hi=Dr=null,H.H=l,H.A=h,Kt=s,Dt!==null?0:(ae=null,Mt=0,Tu(),ge)}function V1(){for(;Dt!==null&&!Nh();)My(Dt)}function My(e){var n=iy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?nc(e):Dt=n}function Vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:gf(n);default:ry(s,n),n=Dt=Op(n,Wi),n=iy(s,n,Wi)}e.memoizedProps=e.pendingProps,n===null?nc(e):Dt=n}function Ma(e,n,s,l){Hi=Dr=null,gf(n),ba=null,Pl=0;var h=n.return;try{if(b1(e,h,n,s,Mt)){ge=1,Hu(e,Un(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ge=1,Hu(e,Un(s,e.current)),Dt=null;return}n.flags&32768?(jt||l===1?e=!0:xa||(Mt&536870912)!==0?e=!1:(Ds=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){ky(n,Ds);return}e=n.return;var s=w1(n.alternate,n,Wi);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ge===0&&(ge=5)}function ky(e,n){do{var s=R1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);ge=6,Dt=null}function Uy(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do ic();while(Le!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(e,s,f,p,E,I),e===ae&&(Dt=ae=null,Mt=0),Da=n,Vs=e,ts=s,Zf=f,Jf=h,wy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P1(hs,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=it.p,it.p=2,p=Kt,Kt|=4;try{I1(e,n,s)}finally{Kt=p,it.p=h,H.T=l}}Le=1,Ly(),Py(),zy()}}function Ly(){if(Le===1){Le=0;var e=Vs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var h=Kt;Kt|=4;try{yy(n,e);var f=dd,p=Sp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&bp(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,yt=Math.min(I.start,ot),se=I.end===void 0?yt:Math.min(I.end,ot);!q.extend&&yt>se&&(p=se,se=yt,yt=p);var k=Tp(E,yt),N=Tp(E,se);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),yt>se?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pc=!!fd,dd=fd=null}finally{Kt=h,it.p=l,H.T=s}}e.current=n,Le=2}}function Py(){if(Le===2){Le=0;var e=Vs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var h=Kt;Kt|=4;try{fy(e,n.alternate,n)}finally{Kt=h,it.p=l,H.T=s}}Le=3}}function zy(){if(Le===4||Le===3){Le=0,Yo();var e=Vs,n=Da,s=ts,l=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Da=Vs=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ms=null),Li(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=it.p,it.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=h}}(ts&3)!==0&&ic(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?eo++:(eo=0,Wf=e):eo=0,no(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function ic(){return Ly(),Py(),zy(),By()}function By(){if(Le!==5)return!1;var e=Vs,n=Zf;Zf=0;var s=Li(ts),l=H.T,h=it.p;try{it.p=32>s?32:s,H.T=null,s=Jf,Jf=null;var f=Vs,p=ts;if(Le=0,Da=Vs=null,ts=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,by(f.current),vy(f,f.current,p,s),Kt=E,no(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Gn,f)}catch{}return!0}finally{it.p=h,H.T=l,jy(e,n)}}function qy(e,n,s){n=Un(s,n),n=Df(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(mr(e,2),Ii(e))}function Wt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){e=Un(s,e),s=Hg(2),l=Is(n,s,2),l!==null&&(Gg(s,l,n,e),mr(l,2),Ii(l));break}}n=n.return}}function nd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new N1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=k1.bind(null,e,n,s),n.then(e,e))}function k1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Mt&s)===s&&(ge===4||ge===3&&(Mt&62914560)===Mt&&300>on()-Zu?(Kt&2)===0&&Oa(e,0):Xf|=s,Na===Mt&&(Na=0)),Ii(e)}function Hy(e,n){n===0&&(n=Wo()),e=Cr(e,n),e!==null&&(mr(e,n),Ii(e))}function U1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function L1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Hy(e,s)}function P1(e,n){return Ue(e,n)}var sc=null,Va=null,id=!1,rc=!1,sd=!1,Us=0;function Ii(e){e!==Va&&e.next===null&&(Va===null?sc=Va=e:Va=Va.next=e),rc=!0,id||(id=!0,j1())}function no(e,n){if(!sd&&rc){sd=!0;do for(var s=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(l,f))}else f=Mt,f=ui(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Fn(l,f)||(s=!0,Yy(l,f));l=l.next}while(s);sd=!1}}function z1(){Gy()}function Gy(){rc=id=!1;var e=0;Us!==0&&$1()&&(e=Us);for(var n=on(),s=null,l=sc;l!==null;){var h=l.next,f=Fy(l,n);f===0?(l.next=null,s===null?sc=h:s.next=h,h===null&&(Va=s)):(s=l,(e!==0||(f&3)!==0)&&(rc=!0)),l=h}Le!==0&&Le!==5||no(e),Us!==0&&(Us=0)}function Fy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-_e(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Oh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=Mt,s=ui(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&cs(l),Li(s)){case 2:case 8:s=fl;break;case 32:s=hs;break;case 268435456:s=Ko;break;default:s=hs}return l=Qy.bind(null,e),s=Ue(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&cs(l),e.callbackPriority=2,e.callbackNode=null,2}function Qy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var l=Mt;return l=ui(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Iy(e,l,n),Fy(e,on()),e.callbackNode!=null&&e.callbackNode===s?Qy.bind(null,e):null)}function Yy(e,n){if(ic())return null;Iy(e,n,!0)}function j1(){J1(function(){(Kt&6)!==0?Ue(hl,z1):Gy()})}function rd(){if(Us===0){var e=va;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Us=e}return Us}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function B1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[je]||null).action),p=l.submitter;p&&(n=(n=p[je]||null)?Ky(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ei("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=p?Xy(h,p):new FormData(h);wf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Xy(h,p):new FormData(h),wf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var ld=Bh[ad],q1=ld.toLowerCase(),H1=ld[0].toUpperCase()+ld.slice(1);Wn(q1,"on"+H1)}Wn(Rp,"onAnimationEnd"),Wn(Ip,"onAnimationIteration"),Wn(Cp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(r1,"onTransitionRun"),Wn(a1,"onTransitionStart"),Wn(l1,"onTransitionCancel"),Wn(xp,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var l=e+"__bubble";s.has(l)||(Zy(n,e,2,!1),s.add(l))}function od(e,n,s){var l=0;n&&(l|=4),Zy(s,e,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[ac]){e[ac]=!0,pl.forEach(function(s){s!=="selectionchange"&&(G1.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,od("selectionchange",!1,n))}}function Zy(e,n,s,l){switch(R_(n)){case 2:var h=_b;break;case 8:h=vb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!Er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=di(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ys(function(){var z=f,G=On(s),K=[];t:{var j=Np.get(e);if(j!==void 0){var q=Ei,ot=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":q=yu;break;case"focusin":ot="focus",q=Ar;break;case"focusout":ot="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Rp:case Ip:case Cp:q=cu;break;case xp:q=T;break;case"scroll":case"scrollend":q=Il;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=Ct}var yt=(n&4)!==0,se=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Xn(N,k),Q!=null&&yt.push(so(N,Q,P))),se)break;N=N.return}0<yt.length&&(j=new q(j,ot,null,s,G),K.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Al&&(ot=s.relatedTarget||s.fromElement)&&(di(ot)||ot[hi]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?di(ot):null,ot!==null&&(se=c(ot),yt=ot.tag,ot!==se||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(yt=Cl,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ji,Q="onPointerLeave",k="onPointerEnter",N="pointer"),se=q==null?j:En(q),P=ot==null?j:En(ot),j=new yt(Q,N+"leave",q,s,G),j.target=se,j.relatedTarget=P,Q=null,di(G)===z&&(yt=new yt(k,N+"enter",ot,s,G),yt.target=P,yt.relatedTarget=se,Q=yt),se=Q,q&&ot)e:{for(yt=F1,k=q,N=ot,P=0,Q=k;Q;Q=yt(Q))P++;Q=0;for(var ft=N;ft;ft=yt(ft))Q++;for(;0<P-Q;)k=yt(k),P--;for(;0<Q-P;)N=yt(N),Q--;for(;P--;){if(k===N||N!==null&&k===N.alternate){yt=k;break e}k=yt(k),N=yt(N)}yt=null}else yt=null;q!==null&&Jy(K,j,q,yt,!1),ot!==null&&se!==null&&Jy(K,se,ot,yt,!0)}}t:{if(j=z?En(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=pp;else if(dp(j))if(gp)qt=n1;else{qt=t1;var ct=WT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ia(z.elementType)&&(qt=pp):qt=e1;if(qt&&(qt=qt(e,z))){mp(K,qt,s,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Tl(j,"number",j.value)}switch(ct=z?En(z):window,e){case"focusin":(dp(ct)||ct.contentEditable==="true")&&(ha=ct,Ph=z,Ml=null);break;case"focusout":Ml=Ph=ha=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ap(K,s,G);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":Ap(K,s,G)}var Nt;if(Yt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ca?wr(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&s.locale!=="ko"&&(ca||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ca&&(Nt=Rl()):(vi=G,wl="value"in vi?vi.value:vi.textContent,ca=!0)),ct=lc(z,Vt),0<ct.length&&(Vt=new bi(Vt,e,null,s,G),K.push({event:Vt,listeners:ct}),Nt?Vt.data=Nt:(Nt=ua(s),Nt!==null&&(Vt.data=Nt)))),(Nt=Vn?XT(e,s):$T(e,s))&&(Vt=lc(z,"onBeforeInput"),0<Vt.length&&(ct=new bi("onBeforeInput","beforeinput",null,s,G),K.push({event:ct,listeners:Vt}),ct.data=Nt)),B1(K,e,z,s,G)}$y(K,n)})}function so(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xn(e,s),h!=null&&l.unshift(so(e,h,f)),h=Xn(e,n),h!=null&&l.push(so(e,h,f))),e.tag===3)return l;e=e.return}return[]}function F1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Xn(s,f),z!=null&&p.unshift(so(s,z,I))):h||(z=Xn(s,f),z!=null&&p.push(so(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var Q1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(Y1,"")}function t_(e,n){return n=Wy(n),Wy(e)===n}function ie(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ea(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lu.get(s)||s,ea(e,s,l))}}function hd(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?fn(e,l):(typeof l=="number"||typeof l=="bigint")&&fn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ea(e,s,l)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,p,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),l&&ie(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ie(e,n,l,G,s,null)}}su(e,f,E,I,z,p,h,!1);return;case"select":Ot("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ie(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?ds(e,!!l,n,!1):s!=null&&ds(e,!!l,s,!0);return;case"textarea":Ot("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ie(e,n,p,E,s,null)}ms(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ie(e,n,I,l,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<io.length;l++)Ot(io[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,z,l,s,null)}return;default:if(ia(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&hd(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ie(e,n,E,l,s,null))}function K1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||ie(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&ie(e,n,j,q,l,K)}}na(e,p,E,I,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||ie(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ie(e,n,h,f,l,I)}n=E,s=p,l=q,j!=null?ds(e,!!s,j,!1):!!l!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ie(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,p,h,l,f)}ru(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ie(e,n,ot,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ie(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&ie(e,n,yt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ie(e,n,z,j,l,q)}return;default:if(ia(n)){for(var se in s)j=s[se],s.hasOwnProperty(se)&&j!==void 0&&!l.hasOwnProperty(se)&&hd(e,n,se,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||hd(e,n,G,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&ie(e,n,k,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||ie(e,n,K,j,l,q)}function e_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&e_(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&e_(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function $1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(W1)}:s_;function W1(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function a_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ro(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ro(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ro(e.ownerDocument.body);s=h}while(s);Pa(n)}function l_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function eb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function u_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function c_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function h_(e,n,s){switch(n=oc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var qn=new Map,f_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=it.d;it.d={f:ib,r:sb,D:rb,C:ab,L:lb,m:ob,X:cb,S:ub,M:hb};function ib(){var e=es.f(),n=tc();return e||n}function sb(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):es.r(e)}var ka=typeof document>"u"?null:document;function d_(e,n,s){var l=ka;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$e(n,"link",e),Ie(n),l.head.appendChild(n)))}}function rb(e){es.D(e),d_("dns-prefetch",e,null)}function ab(e,n){es.C(e,n),d_("preconnect",e,n)}function lb(e,n,s){es.L(e,n,s);var l=ka;if(l&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}qn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(lo(f))||(n=l.createElement("link"),$e(n,"link",e),Ie(n),l.head.appendChild(n)))}}function ob(e,n){es.m(e,n);var s=ka;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!qn.has(f)&&(e=A({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(f)))return}l=s.createElement("link"),$e(l,"link",e),Ie(l),s.head.appendChild(l)}}}function ub(e,n,s){es.S(e,n,s);var l=ka;if(l&&e){var h=mi(l).hoistableStyles,f=Ua(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ao(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&Ed(e,s);var I=p=l.createElement("link");Ie(I),$e(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function cb(e,n){es.X(e,n);var s=ka;if(s&&e){var l=mi(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=A({src:e,async:!0},n),(n=qn.get(h))&&Td(e,n),f=s.createElement("script"),Ie(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function hb(e,n){es.M(e,n);var s=ka;if(s&&e){var l=mi(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(lo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Td(e,n),f=s.createElement("script"),Ie(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function m_(e,n,s,l){var h=(h=Tt.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=mi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=mi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ao(e)))&&!f._p&&(p.instance=f,p.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||fb(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=mi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+hn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function p_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function fb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",s),Ie(n),e.head.appendChild(n))}function La(e){return'[src="'+hn(e)+'"]'}function lo(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(l)return n.instance=l,Ie(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),$e(l,"style",h),cc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ua(s.href);var f=e.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;l=p_(s),(h=qn.get(h))&&Ed(l,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),$e(f,"link",l),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(lo(f)))?(n.instance=h,Ie(h),h):(l=s,(h=qn.get(f))&&(l=A({},s),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),$e(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,cc(l,s.precedence,e));return n.instance}function cc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function y_(e,n,s){if(hc===null){var l=new Map,h=hc=new Map;h.set(s,l)}else h=hc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[fi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function __(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function db(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,l=p_(l),(h=qn.get(h))&&Ed(l,h),f=f.createElement("link"),Ie(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),$e(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function pb(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*X1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(gb,e),dc=null,fc.call(e))}function gb(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var l=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function yb(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function E_(e,n,s,l,h,f,p,E,I,z,G,K){return e=new yb(e,n,s,p,I,z,G,K,E),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},rf(f),e}function T_(e){return e?(e=ma,e):ma}function b_(e,n,s,l,h,f){h=T_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Is(e,l,n),s!==null&&(yn(s,e,n),jl(s,e,n))}function S_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){S_(e,n),(e=e.alternate)&&S_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&yn(n,e,67108864),Sd(e,67108864)}}function w_(e){if(e.tag===13||e.tag===31){var n=Cn();n=gr(n);var s=Cr(e,n);s!==null&&yn(s,e,n),Sd(e,n)}}var pc=!0;function _b(e,n,s,l){var h=H.T;H.T=null;var f=it.p;try{it.p=2,Ad(e,n,s,l)}finally{it.p=f,H.T=h}}function vb(e,n,s,l){var h=H.T;H.T=null;var f=it.p;try{it.p=8,Ad(e,n,s,l)}finally{it.p=f,H.T=h}}function Ad(e,n,s,l){if(pc){var h=wd(l);if(h===null)cd(e,n,l,gc,s),I_(e,l);else if(Tb(h,e,n,s,l))l.stopPropagation();else if(I_(e,l),n&4&&-1<Eb.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=oi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-_e(p);E.entanglements[1]|=I,p&=~I}Ii(f),(Kt&6)===0&&(Ju=on()+500,no(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&yn(E,f,2),tc(),Sd(f,2)}if(f=wd(l),f===null&&cd(e,n,l,gc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else cd(e,n,l,null,s)}}function wd(e){return e=On(e),Rd(e)}var gc=null;function Rd(e){if(gc=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case hl:return 2;case fl:return 8;case hs:case Dh:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var Id=!1,Ps=null,zs=null,js=null,uo=new Map,co=new Map,Bs=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function ho(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Tb(e,n,s,l,h){switch(n){case"focusin":return Ps=ho(Ps,e,n,s,l,h),!0;case"dragenter":return zs=ho(zs,e,n,s,l,h),!0;case"mouseover":return js=ho(js,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return uo.set(f,ho(uo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,co.set(f,ho(co.get(f)||null,e,n,s,l,h)),!0}return!1}function C_(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){w_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Qn(e.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Dn(s),n!==null&&A_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){yc(e)&&s.delete(n)}function bb(){Id=!1,Ps!==null&&yc(Ps)&&(Ps=null),zs!==null&&yc(zs)&&(zs=null),js!==null&&yc(js)&&(js=null),uo.forEach(x_),co.forEach(x_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var vc=null;function N_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Rd(l||s)===null)continue;break}var f=Dn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pa(e){function n(I){return _c(I,e)}Ps!==null&&_c(Ps,e),zs!==null&&_c(zs,e),js!==null&&_c(js,e),uo.forEach(n),co.forEach(n);for(var s=0;s<Bs.length;s++){var l=Bs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&Bs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[je]||null;if(typeof f=="function")p||N_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),N_(s)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ec.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Cn();b_(s,l,e,n,null,null)},Ec.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),tc(),n[hi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=tu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,e),s===0&&C_(e)}};var O_=t.version;if(O_!=="19.2.1")throw Error(a(527,O_,"19.2.1"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Gn=Tc.inject(Sb),Fe=Tc}catch{}}return mo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=zg,f=jg,p=Bg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=E_(e,1,!1,null,null,s,l,null,h,f,p,D_),e[hi]=n.current,ud(e),new Cd(n)},mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=zg,p=jg,E=Bg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=E_(e,1,!0,n,s??null,l,h,I,f,p,E,D_),n.context=T_(null),s=n.current,l=Cn(),l=gr(l),h=Rs(l),h.callback=null,Is(s,h,l),s=l,n.current.lanes=s,mr(n,s),Ii(n),e[hi]=n.current,ud(e),new Ec(n)},mo.version="19.2.1",mo}var q_;function Mb(){if(q_)return Dd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=Ob(),Dd.exports}var Vb=Mb();const kb=()=>{};var H_={};const bv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ub=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(V=64)),a.push(i[b],i[A],i[V],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ub(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||A==null)throw new Lb;const V=c<<2|g>>4;if(a.push(V),y!==64){const F=g<<4&240|y>>2;if(a.push(F),A!==64){const tt=y<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pb=function(r){const t=bv(r);return Sv.encodeByteArray(t,!0)},jc=function(r){return Pb(r).replace(/\./g,"")},Av=function(r){try{return Sv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jb=()=>zb().__FIREBASE_DEFAULTS__,Bb=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Av(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return kb()||jb()||Bb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wv=r=>ah()?.emulatorHosts?.[r],Hb=r=>{const t=wv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Rv=()=>ah()?.config,Iv=r=>ah()?.[`_${r}`];class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function nl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function Fb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const To={};function Qb(){const r={prod:[],emulator:[]};for(const t of Object.keys(To))To[t]?r.emulator.push(t):r.prod.push(t);return r}function Yb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let G_=!1;function xv(r,t){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||To[r]===t||To[r]||G_)return;To[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Qb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{G_=!0,d()},V}function b(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=Yb(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),dt=i("preprendIcon"),bt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;g(_t),b(W,rt);const Gt=y();v(bt,dt),_t.append(bt,tt,W,Gt),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Xb(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const iS="FirebaseError";class us extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=iS,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?sS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new us(o,g,a)}}function sS(r,t){return r.replace(rS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const rS=/\{\$([^}]+)}/g;function aS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(F_(c)&&F_(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}function Po(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lS(r,t){const i=new oS(r,t);return i.subscribe.bind(i)}class oS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");uS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function ln(r){return r&&r._delegate?r._delegate:r}class Fr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Br="[DEFAULT]";class cS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Gb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(r){return r===Br?void 0:r}function fS(r){return r.instantiationMode==="EAGER"}class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const mS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},pS=kt.INFO,gS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},yS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=gS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const _S=(r,t)=>t.some(i=>r instanceof i);let Q_,Y_;function vS(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,Zd=new WeakMap,Dv=new WeakMap,Ud=new WeakMap,wm=new WeakMap;function TS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Zs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Nv.set(i,r)}).catch(()=>{}),wm.set(t,r),t}function bS(r){if(Zd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Dv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function SS(r){Jd=r(Jd)}function AS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return Dv.set(a,t.sort?t.sort():[t]),Zs(a)}:ES().includes(r)?function(...t){return r.apply(Ld(this),t),Zs(Nv.get(this))}:function(...t){return Zs(r.apply(Ld(this),t))}}function wS(r){return typeof r=="function"?AS(r):(r instanceof IDBTransaction&&bS(r),_S(r,vS())?new Proxy(r,Jd):r)}function Zs(r){if(r instanceof IDBRequest)return TS(r);if(Ud.has(r))return Ud.get(r);const t=wS(r);return t!==r&&(Ud.set(r,t),wm.set(t,r)),t}const Ld=r=>wm.get(r);function RS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Zs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Zs(d.result),v.oldVersion,v.newVersion,Zs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const IS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Pd=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=CS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||IS.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return Pd.set(t,c),c}SS(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class xS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NS(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",X_="0.14.6";const ss=new Am("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",VS="@firebase/app-check-compat",kS="@firebase/app-check",US="@firebase/auth",LS="@firebase/auth-compat",PS="@firebase/database",zS="@firebase/data-connect",jS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",FS="@firebase/messaging",QS="@firebase/messaging-compat",YS="@firebase/performance",KS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",WS="@firebase/firestore",tA="@firebase/ai",eA="@firebase/firestore-compat",nA="firebase",iA="12.6.0";const tm="[DEFAULT]",sA={[Wd]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[kS]:"fire-app-check",[VS]:"fire-app-check-compat",[US]:"fire-auth",[LS]:"fire-auth-compat",[PS]:"fire-rtdb",[zS]:"fire-data-connect",[jS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[FS]:"fire-fcm",[QS]:"fire-fcm-compat",[YS]:"fire-perf",[KS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[WS]:"fire-fst",[eA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};const Bc=new Map,rA=new Map,em=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(i){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(em.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,r);for(const i of Bc.values())$_(i,r);for(const i of rA.values())$_(i,r);return!0}function Rm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Lo("app","Firebase",aA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const il=iA;function Ov(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(i||(i=Rv()),!i)throw Js.create("no-options");const c=Bc.get(o);if(c){if(Gr(i,c.options)&&Gr(a,c.config))return c;throw Js.create("duplicate-app",{appName:o})}const d=new dS(o);for(const v of em.values())d.addComponent(v);const g=new lA(i,a,d);return Bc.set(o,g),g}function Mv(r=tm){const t=Bc.get(r);if(!t&&r===tm&&Rv())return Ov();if(!t)throw Js.create("no-app",{appName:r});return t}function Ws(r,t,i){let a=sA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Xa(new Fr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const oA="firebase-heartbeat-database",uA=1,Io="firebase-heartbeat-store";let zd=null;function Vv(){return zd||(zd=RS(oA,uA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Js.create("idb-open",{originalErrorMessage:r.message})})),zd}async function cA(r){try{const i=(await Vv()).transaction(Io),a=await i.objectStore(Io).get(kv(r));return await i.done,a}catch(t){if(t instanceof us)ss.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});ss.warn(i.message)}}}async function Z_(r,t){try{const a=(await Vv()).transaction(Io,"readwrite");await a.objectStore(Io).put(t,kv(r)),await a.done}catch(i){if(i instanceof us)ss.warn(i.message);else{const a=Js.create("idb-set",{originalErrorMessage:i?.message});ss.warn(a.message)}}}function kv(r){return`${r.name}!${r.options.appId}`}const hA=1024,fA=30;class dA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>fA){const o=gA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=mA(this._heartbeatsCache.heartbeats),o=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ss.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function mA(r,t=hA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),W_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),W_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function W_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function gA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function yA(r){Xa(new Fr("platform-logger",t=>new xS(t),"PRIVATE")),Xa(new Fr("heartbeat",t=>new dA(t),"PRIVATE")),Ws(Wd,X_,r),Ws(Wd,X_,"esm2020"),Ws("fire-js","")}yA("");var _A="firebase",vA="12.6.0";Ws(_A,vA,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Uv,Lv=new Lo("auth","Firebase",Uv());const qc=new Am("@firebase/auth");function TA(r,...t){qc.logLevel<=kt.WARN&&qc.warn(`Auth (${il}): ${r}`,...t)}function Nc(r,...t){qc.logLevel<=kt.ERROR&&qc.error(`Auth (${il}): ${r}`,...t)}function rs(r,...t){throw Im(r,...t)}function xi(r,...t){return Im(r,...t)}function Pv(r,t,i){const a={...EA(),[t]:i};return new Lo("auth","Firebase",a).create(t,{appName:r.name})}function tr(r){return Pv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Lv.create(r,...t)}function St(r,t,...i){if(!r)throw Im(t,...i)}function ns(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function as(r,t){r||ns(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function bA(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||Zb()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zo{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Jb()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cm(r,t){as(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IA=new zo(3e4,6e4);function lh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function sl(r,t,i,a,o={}){return jv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Po({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return $b()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&nl(r.emulatorConfig.host)&&(y.credentials="include"),zv.fetch()(await qv(r,r.config.apiHost,i,g),y)})}async function jv(r,t,i){r._canInitEmulator=!1;const a={...wA,...t};try{const o=new CA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw bc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pv(r,b,y);rs(r,b)}}catch(o){if(o instanceof us)throw o;rs(r,"network-request-failed",{message:String(o)})}}async function Bv(r,t,i,a,o={}){const c=await sl(r,t,i,a,o);return"mfaPendingCredential"in c&&rs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,o):`${r.config.apiScheme}://${o}`;return RA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class CA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(xi(this.auth,"network-request-failed")),IA.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=xi(r,t,a);return o.customData._tokenResponse=i,o}async function xA(r,t){return sl(r,"POST","/v1/accounts:delete",t)}async function Hc(r,t){return sl(r,"POST","/v1/accounts:lookup",t)}function bo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NA(r,t=!1){const i=ln(r),a=await i.getIdToken(t),o=xm(a);St(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:bo(jd(o.auth_time)),issuedAtTime:bo(jd(o.iat)),expirationTime:bo(jd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function xm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Av(i);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function e0(r){const t=xm(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Co(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof us&&DA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function DA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Co(r,Hc(t,{idToken:i}));St(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Hv(o.providerUserInfo):[],d=VA(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function MA(r){const t=ln(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kA(r,t){const i=await jv(r,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await qv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&nl(r.emulatorConfig.host)&&(v.credentials="include"),zv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UA(r,t){return sl(r,"POST","/v2/accounts:revokeToken",lh(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=e0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await kA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ga;return a&&(St(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(St(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(St(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Hs(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Co(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return NA(this,t)}reload(){return MA(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Co(this,xA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:F,providerData:tt,stsTokenManager:rt}=i;St(A&&rt,t,"internal-error");const W=Ga.fromJSON(this.name,rt);St(typeof A=="string",t,"internal-error"),Hs(a,t.name),Hs(o,t.name),St(typeof V=="boolean",t,"internal-error"),St(typeof F=="boolean",t,"internal-error"),Hs(c,t.name),Hs(d,t.name),Hs(g,t.name),Hs(v,t.name),Hs(y,t.name),Hs(b,t.name);const dt=new si({uid:A,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:b});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(bt=>({...bt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ga;o.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];St(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Hv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ga;g.updateFromIdToken(a);const v=new si({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const n0=new Map;function is(r){as(r instanceof Function,"Expected a class definition");let t=n0.get(r);return t?(as(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,n0.set(r,t),t)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const i0=Gv;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Dc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(is(i0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||is(i0);const d=Dc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const V=await Hc(t,{idToken:b}).catch(()=>{});if(!V)break;A=await si._fromGetAccountInfoResponse(t,V,b)}else A=si._fromJSON(t,b);y!==c&&(g=A),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Fa(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Fa(c,t,a))}}function s0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($v(t))return"Blackberry";if(Zv(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Yv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=an()){return/firefox\//i.test(r)}function Qv(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yv(r=an()){return/crios\//i.test(r)}function Kv(r=an()){return/iemobile/i.test(r)}function Xv(r=an()){return/android/i.test(r)}function $v(r=an()){return/blackberry/i.test(r)}function Zv(r=an()){return/webos/i.test(r)}function Nm(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LA(r=an()){return Nm(r)&&!!window.navigator?.standalone}function PA(){return Wb()&&document.documentMode===10}function Jv(r=an()){return Nm(r)||Xv(r)||Zv(r)||$v(r)||/windows phone/i.test(r)||Kv(r)}function Wv(r,t=[]){let i;switch(r){case"Browser":i=s0(an());break;case"Worker":i=`${s0(an())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${il}/${a}`}class zA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jA(r,t={}){return sl(r,"GET","/v2/passwordPolicy",lh(r,t))}const BA=6;class qA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class HA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new zA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(tr(this));const i=t?ln(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jA(this),i=new qA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await UA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&is(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function oh(r){return ln(r)}class r0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GA(r){Dm=r}function FA(r){return Dm.loadJS(r)}function QA(){return Dm.gapiScript}function YA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KA(r,t){const i=Rm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Gr(c,t??{}))return o;rs(o,"already-initialized")}return i.initialize({options:t})}function XA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function $A(r,t,i){const a=oh(r);St(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=tE(t),{host:d,port:g}=ZA(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){St(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),St(Gr(y,a.config.emulator)&&Gr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,nl(d)?(Cv(`${c}//${d}${v}`),xv("Auth",!0)):JA()}function tE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ZA(r){const t=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:a0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:a0(d)}}}function a0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function JA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,i){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}async function Qa(r,t){return Bv(r,"POST","/v1/accounts:signInWithIdp",lh(r,t))}const WA="http://localhost";class Qr extends eE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:WA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Po(i)}return t}}class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jo extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends jo{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ys extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Ks extends jo{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Xs extends jo{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";async function t2(r,t){return Bv(r,"POST","/v1/accounts:signUp",lh(r,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await si._fromIdTokenResponse(t,a,o),d=l0(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=l0(a);return new ir({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function e2(r){if(ii(r.app))return Promise.reject(tr(r));const t=oh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await t2(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Fc extends us{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Fc(t,i,a,o)}}function iE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function n2(r,t,i=!1){const a=await Co(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ir._forOperation(r,"link",a)}async function i2(r,t,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(tr(a));const o="reauthenticate";try{const c=await Co(r,iE(a,o,t,r),i);St(c.idToken,a,"internal-error");const d=xm(c.idToken);St(d,a,"internal-error");const{sub:g}=d;return St(r.uid===g,a,"user-mismatch"),ir._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),c}}async function s2(r,t,i=!1){if(ii(r.app))return Promise.reject(tr(r));const a="signIn",o=await iE(r,a,t),c=await ir._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function r2(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function a2(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function l2(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}function o2(r){return ln(r).signOut()}const Qc="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const u2=1e3,c2=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);PA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,c2):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const h2=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const lE=aE;function f2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await f2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Om(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class d2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Om("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function m2(r){Ni().location.href=r}function oE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function p2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){return navigator?.serviceWorker?.controller||null}function y2(){return oE()?self:null}const uE="firebaseLocalStorageDb",_2=1,Yc="firebaseLocalStorage",cE="fbase_key";class Bo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function v2(){const r=indexedDB.deleteDatabase(uE);return new Bo(r).toPromise()}function sm(){const r=indexedDB.open(uE,_2);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:cE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await v2(),t(await sm()))})})}async function o0(r,t,i){const a=ch(r,!0).put({[cE]:t,value:i});return new Bo(a).toPromise()}async function E2(r,t){const i=ch(r,!1).get(t),a=await new Bo(i).toPromise();return a===void 0?null:a.value}function u0(r,t){const i=ch(r,!0).delete(t);return new Bo(i).toPromise()}const T2=800,b2=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>b2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(y2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await o0(t,Qc,"1"),await u0(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>E2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>u0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ch(o,!1).getAll();return new Bo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const S2=hE;new zo(3e4,6e4);function A2(r,t){return t?is(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mm extends eE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function w2(r){return s2(r.auth,new Mm(r),r.bypassAuthState)}function R2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),i2(i,new Mm(r),r.bypassAuthState)}async function I2(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),n2(i,new Mm(r),r.bypassAuthState)}class fE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const C2=new zo(2e3,1e4);class Ha extends fE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,C2.get())};t()}}Ha.currentPopupAction=null;const x2="pendingRedirect",Oc=new Map;class N2 extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await D2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D2(r,t){const i=V2(t),a=M2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function O2(r,t){Oc.set(r._key(),t)}function M2(r){return is(r._redirectPersistence)}function V2(r){return Dc(x2,r.config.apiKey,r.name)}async function k2(r,t,i=!1){if(ii(r.app))return Promise.reject(tr(r));const a=oh(r),o=A2(a,t),d=await new N2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const U2=600*1e3;class L2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!P2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=U2&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(t))}saveEventToCache(t){this.cachedEventUids.add(c0(t)),this.lastProcessedEventTime=Date.now()}}function c0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function dE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function P2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function z2(r,t={}){return sl(r,"GET","/v1/projects",t)}const j2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function q2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await z2(r);for(const i of t)try{if(H2(i))return}catch{}rs(r,"unauthorized-domain")}function H2(r){const t=nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!B2.test(i))return!1;if(j2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const G2=new zo(3e4,6e4);function h0(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function F2(r){return new Promise((t,i)=>{function a(){h0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(xi(r,"network-request-failed"))},timeout:G2.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const o=YA("iframefcb");return Ni()[o]=()=>{gapi.load?a():i(xi(r,"network-request-failed"))},FA(`${QA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function Q2(r){return Mc=Mc||F2(r),Mc}const Y2=new zo(5e3,15e3),K2="__/auth/iframe",X2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Cm(t,X2):`https://${r.config.authDomain}/${K2}`,a={apiKey:t.apiKey,appName:r.name,v:il},o=Z2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Po(a).slice(1)}`}async function W2(r){const t=await Q2(r),i=Ni().gapi;return St(i,r,"internal-error"),t.open({where:document.body,url:J2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},Y2.get());function v(){Ni().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const tw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ew=500,nw=600,iw="_blank",sw="http://localhost";class f0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rw(r,t,i,a=ew,o=nw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...tw,width:a.toString(),height:o.toString(),top:c,left:d},y=an().toLowerCase();i&&(g=Yv(y)?iw:i),Fv(y)&&(t=t||sw,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[F,tt])=>`${V}${F}=${tt},`,"");if(LA(y)&&g!=="_self")return aw(t||"",g),new f0(null);const A=window.open(t||"",g,b);St(A,r,"popup-blocked");try{A.focus()}catch{}return new f0(A)}function aw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const lw="__/auth/handler",ow="emulator/auth/handler",uw=encodeURIComponent("fac");async function d0(r,t,i,a,o,c){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:il,eventId:o};if(t instanceof nE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",aS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof jo){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${uw}=${encodeURIComponent(v)}`:"";return`${cw(r)}?${Po(g).slice(1)}${y}`}function cw({config:r}){return r.emulator?Cm(r,ow):`https://${r.authDomain}/${lw}`}const Bd="webStorageSupport";class hw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=k2,this._overrideRedirectResult=O2}async _openPopup(t,i,a,o){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d0(t,i,a,nm(),o);return rw(t,c,Om())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await d0(t,i,a,nm(),o);return m2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await W2(t),a=new L2(t);return i.register("authEvent",o=>(St(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},o=>{const c=o?.[0]?.[Bd];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=q2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||Nm()}}const fw=hw;var m0="@firebase/auth",p0="1.11.1";class dw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pw(r){Xa(new Fr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;St(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},y=new HA(a,o,c,v);return XA(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Fr("auth-internal",t=>{const i=oh(t.getProvider("auth").getImmediate());return(a=>new dw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(m0,p0,mw(r)),Ws(m0,p0,"esm2020")}const gw=300,yw=Iv("authIdTokenMaxAge")||gw;let g0=null;const _w=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>yw)return;const o=i?.token;g0!==o&&(g0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vw(r=Mv()){const t=Rm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=KA(r,{popupRedirectResolver:fw,persistence:[S2,h2,lE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=_w(c.toString());a2(i,d,()=>d(i.currentUser)),r2(i,g=>d(g))}}const o=wv("auth");return o&&$A(i,`http://${o}`),i}function Ew(){return document.getElementsByTagName("head")?.[0]??document}GA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=xi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Ew().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pw("Browser");var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,mE;(function(){var r;function t(x,S){function R(){}R.prototype=S.prototype,x.F=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(M,D,U){for(var w=Array(arguments.length-2),le=2;le<arguments.length;le++)w[le-2]=arguments[le];return S.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],D=x.g[2];let U=x.g[3],w;w=S+(U^R&(D^U))+M[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+M[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+M[2]+606105819&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+M[3]+3250441966&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+M[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+M[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+M[6]+2821735955&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+M[7]+4249261313&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+M[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+M[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+M[10]+4294925233&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+M[11]+2304563134&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(U^R&(D^U))+M[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(D^S&(R^D))+M[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=D+(R^U&(S^R))+M[14]+2792965006&4294967295,D=U+(w<<17&4294967295|w>>>15),w=R+(S^D&(U^S))+M[15]+1236535329&4294967295,R=D+(w<<22&4294967295|w>>>10),w=S+(D^U&(R^D))+M[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+M[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+M[11]+643717713&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+M[0]+3921069994&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+M[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+M[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+M[15]+3634488961&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+M[4]+3889429448&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+M[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+M[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+M[3]+4107603335&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+M[8]+1163531501&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(D^U&(R^D))+M[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^D&(S^R))+M[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=D+(S^R&(U^S))+M[7]+1735328473&4294967295,D=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(D^U))+M[12]+2368359562&4294967295,R=D+(w<<20&4294967295|w>>>12),w=S+(R^D^U)+M[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+M[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+M[11]+1839030562&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+M[14]+4259657740&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+M[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+M[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+M[7]+4139469664&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+M[10]+3200236656&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+M[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+M[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+M[3]+3572445317&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+M[6]+76029189&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(R^D^U)+M[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^D)+M[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=D+(U^S^R)+M[15]+530742520&4294967295,D=U+(w<<16&4294967295|w>>>16),w=R+(D^U^S)+M[2]+3299628645&4294967295,R=D+(w<<23&4294967295|w>>>9),w=S+(D^(R|~U))+M[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+M[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+M[14]+2878612391&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+M[5]+4237533241&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+M[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+M[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+M[10]+4293915773&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+M[1]+2240044497&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+M[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+M[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+M[6]+2734768916&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+M[13]+1309151649&4294967295,R=D+(w<<21&4294967295|w>>>11),w=S+(D^(R|~U))+M[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~D))+M[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=D+(S^(U|~R))+M[2]+718787259&4294967295,D=U+(w<<15&4294967295|w>>>17),w=R+(U^(D|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const R=S-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(M[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<S;)if(M[D++]=x[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)x[S++]=this.g[R]>>>M&255;return x};function c(x,S){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function d(x,S){this.h=S;const R=[];let M=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;M&&U==S||(R[D]=U,M=!1)}this.g=R}var g={};function v(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return W(y(-x));const S=[];let R=1;for(let M=0;x>=R;M++)S[M]=x/R|0,R*=4294967296;return new d(S,0)}function b(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(b(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let M=A;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const w=parseInt(x.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(w))):(M=M.j(R),M=M.add(y(w)))}return M}var A=v(0),V=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(rt(this))return-W(this).m();let x=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);x+=(M>=0?M:4294967296+M)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(tt(this))return"0";if(rt(this))return"-"+W(this).toString(x);const S=y(Math.pow(x,6));var R=this;let M="";for(;;){const D=Gt(R,S).g;R=dt(R,D.j(S));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=D,tt(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function tt(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function rt(x){return x.h==-1}r.l=function(x){return x=dt(this,x),rt(x)?-1:tt(x)?0:1};function W(x){const S=x.g.length,R=[];for(let M=0;M<S;M++)R[M]=~x.g[M];return new d(R,~x.h).add(V)}r.abs=function(){return rt(this)?W(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let U=M+(this.i(D)&65535)+(x.i(D)&65535),w=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=w>>>16,U&=65535,w&=65535,R[D]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(x,S){return x.add(W(S))}r.j=function(x){if(tt(this)||tt(x))return A;if(rt(this))return rt(x)?W(this).j(W(x)):W(W(this).j(x));if(rt(x))return W(this.j(W(x)));if(this.l(F)<0&&x.l(F)<0)return y(this.m()*x.m());const S=this.g.length+x.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const U=this.i(M)>>>16,w=this.i(M)&65535,le=x.i(D)>>>16,$t=x.i(D)&65535;R[2*M+2*D]+=w*$t,bt(R,2*M+2*D),R[2*M+2*D+1]+=U*$t,bt(R,2*M+2*D+1),R[2*M+2*D+1]+=w*le,bt(R,2*M+2*D+1),R[2*M+2*D+2]+=U*le,bt(R,2*M+2*D+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new d(R,0)};function bt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _t(x,S){this.g=x,this.h=S}function Gt(x,S){if(tt(S))throw Error("division by zero");if(tt(x))return new _t(A,A);if(rt(x))return S=Gt(W(x),S),new _t(W(S.g),W(S.h));if(rt(S))return S=Gt(x,W(S)),new _t(W(S.g),S.h);if(x.g.length>30){if(rt(x)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=S;M.l(x)<=0;)R=re(R),M=re(M);var D=Pt(R,1),U=Pt(M,1);for(M=Pt(M,2),R=Pt(R,2);!tt(M);){var w=U.add(M);w.l(x)<=0&&(D=D.add(R),U=w),M=Pt(M,1),R=Pt(R,1)}return S=dt(x,D.j(S)),new _t(D,S)}for(D=A;x.l(S)>=0;){for(R=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(R),w=U.j(S);rt(w)||w.l(x)>0;)R-=M,U=y(R),w=U.j(S);tt(U)&&(U=V),D=D.add(U),x=dt(x,w)}return new _t(D,x)}r.B=function(x){return Gt(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&x.i(M);return new d(R,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|x.i(M);return new d(R,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^x.i(M);return new d(R,this.h^x.h)};function re(x){const S=x.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(R,x.h)}function Pt(x,S){const R=S>>5;S%=32;const M=x.g.length-R,D=[];for(let U=0;U<M;U++)D[U]=S>0?x.i(U+R)>>>S|x.i(U+R+1)<<32-S:x.i(U+R);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,er=d}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,yo,gE,Vc,rm,yE,_E,vE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class rt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new rt(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Pt=!1,x=new bt,S=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){W(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function le(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(le,D),le.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var $t="closure_listenable_"+(Math.random()*1e6|0),H=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Tt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function Et(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Tt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var wt="closure_lm_"+(Math.random()*1e6|0),X={};function J(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)J(u,m[B],_,T,L);return null}return _=cl(_),u&&u[$t]?u.J(m,_,g(T)?!!T.capture:!1,L):pt(u,m,_,!1,T,L)}function pt(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Ct=tn(u);if(Ct||(u[wt]=Ct=new at(u)),_=Ct.add(m,_,T,et,B),_.proxy)return _;if(T=nt(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Se(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nt(){function u(_){return m.call(u.src,u.listener,_)}const m=ye;return u}function mt(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)mt(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=cl(_),u&&u[$t]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=Tt(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=tn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tt(m,_,T,L)),(_=u>-1?m[u]:null)&&Qt(_))}function Qt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[$t])Et(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Se(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=tn(m))?(Et(_,u),_.h==0&&(_.src=null,m[wt]=null)):ut(u)}}}function Se(u){return u in X?X[u]:X[u]="on"+u}function ye(u,m){if(u.da)u=!0;else{m=new le(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Qt(u),u=_.call(T,m)}return u}function tn(u){return u=u[wt],u instanceof at?u:null}var ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function cl(u){return typeof u=="function"?u:(u[ul]||(u[ul]=function(m){return u.handleEvent(m)}),u[ul])}function Ae(){M.call(this),this.i=new at(this),this.M=this,this.G=null}A(Ae,M),Ae.prototype[$t]=!0,Ae.prototype.removeEventListener=function(u,m,_,T){mt(this,u,m,_,T)};function Ue(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),st(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=cs(B,T,!0,m)&&L;if(B=m.g=u,L=cs(B,T,!0,m)&&L,L=cs(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=cs(B,T,!1,m)&&L}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ae.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function cs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const Ct=et.listener,ve=et.ha||et.src;et.fa&&Et(u.i,et),L=Ct.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yo(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){M.call(this),this.h=u,this.g={}}A(fr,M);var hl=[];function fl(u){zt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qt(m)},u),u.g={}}fr.prototype.N=function(){fr.Z.N.call(this),fl(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,Dh=d.JSON.parse,Ko=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xo(){}function $o(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}A(Fe,D);function Nn(){D.call(this,"c")}A(Nn,D);var _e={},Zo=null;function Jr(){return Zo=Zo||new Ae}_e.Ia="serverreachability";function Jo(u){D.call(this,_e.Ia,u)}A(Jo,D);function li(u){const m=Jr();Ue(m,new Jo(m))}_e.STAT_EVENT="statevent";function dr(u,m){D.call(this,_e.STAT_EVENT,u),this.stat=m}A(dr,D);function we(u){const m=Jr();Ue(m,new dr(m,u))}_e.Ja="timingevent";function oi(u,m){D.call(this,_e.Ja,u),this.size=m}A(oi,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Oh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",Ct=B.split("&");for(let Yt=0;Yt<Ct.length;Yt++){var ve=Ct[Yt].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const Vn=he.split("_");et=Vn.length>=2&&Vn[1]=="type"?et+(he+"="+ve+"&"):et+(he+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Wo(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function ci(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,_)+(T?" "+T:"")})}function mr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return hs(B)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ml;function gr(){}A(gr,Xo),gr.prototype.g=function(){return new XMLHttpRequest},ml=new gr;function Li(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function hi(u,m,_){u.M=1,u.A=yr(Ce(m)),u.u=_,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),fi(u),u.B=Ce(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Yn,u.g=pu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(hl[0]=L.toString()),L=hl);for(let B=0;B<L.length;B++){const et=J(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=$n(this.g),ve=this.g.ya(),Yt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Ct!=4||ve==7||(ve==8||Yt<=0?li(3):li(2)),di(this);var m=this.g.ca();this.X=m;var _=Vh(this);if(this.o=m==200,Wo(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,we(12),En(this),Dn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<_.length;)if(he=nu(this,_),he==je){Ct==4&&(this.m=4,we(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,we(15),ci(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,he,null),mi(this,he);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||_.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),Dn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xl(et),et.P=!0,we(11))}}else ci(this.i,this.l,_,null),mi(this,_);Ct==4&&En(this),this.o&&!this.K&&(Ct==4?hu(this.j,this):(this.o=!1,fi(this)))}else zi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),En(this),Dn(this)}}}catch{}finally{}};function Vh(u){if(!eu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let _="";const T=m.length,L=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function nu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?je:(_=Number(m.substring(_,T)),isNaN(_)?Re:(T+=1,T+_>m.length?je:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.K=!0,En(this)};function fi(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(y(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mr(this.i,this.B),this.M!=2&&(li(),we(17)),En(this),this.m=2,Dn(this)):ta(this,this.T-u)};function Dn(u){u.j.I==0||u.K||hu(u.j,u)}function En(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||gi(_.h,u))){if(!u.L&&gi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)oa(_),vs(_);else break t;Ar(_),we(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ui(y(_.Va,_),6e3));pi(_.h)<=1&&_.ta&&(_.ta=void 0)}else bi(_,11)}else if((u.L||_.g==u)&&oa(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const he=Yt[0];if(!(he<=_.K))if(_.K=he,Yt=Yt[1],_.I==2)if(Yt[0]=="c"){_.M=Yt[1],_.ba=Yt[2];const Vn=Yt[3];Vn!=null&&(_.ka=Vn,_.j.info("VER="+_.ka));const Si=Yt[4];Si!=null&&(_.za=Si,_.j.info("SVER="+_.za));const Zn=Yt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(T=1.5*Zn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Jn=u.g;if(Jn){const wr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var B=T.h;B.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yl(B,B.h),B.h=null))}if(T.G){const ua=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Zt(T.J,T.G,ua))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=mu(T,T.L?T.ba:null,T.W),et.L){_l(T.h,et);var Ct=et,ve=T.O;ve&&(Ct.H=ve),Ct.D&&(di(Ct),fi(Ct)),T.g=et}else uu(T);_.i.length>0&&Ti(_)}else Yt[0]!="stop"&&Yt[0]!="close"||bi(_,7);else _.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?bi(_,7):Il(_):Yt[0]!="noop"&&_.l&&_.l.qa(Yt),_.A=0)}}li(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yl(u,m){u.g?u.g.add(m):u.h=m}function _l(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pl.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,El(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(iu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),fs(this,m[4]),this.h=yi(m[5]||"",!0),El(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_r(m,na,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_r(m,na,!0),"@"),u.push(Li(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_r(_,_.charAt(0)=="/"?Tl:su,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_r(_,ru)),u.join("")},Tn.prototype.resolve=function(u){const m=Ce(this);let _=!!u.j;_?Be(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)fs(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Ct=L[et++];Ct=="."?T&&et==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?El(m,lu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ce(u){return new Tn(u)}function Be(u,m,_){u.j=_?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function El(u,m,_){m instanceof ms?(u.i=m,sa(u.i,u.l)):(_||(m=_r(m,ds)),u.i=new ms(m,u.l))}function Zt(u,m,_){u.i.set(m,_)}function yr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _r(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,su=/[#\?:]/g,Tl=/[#\?]/g,ds=/[#\?@]/g,ru=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ms.prototype,r.add=function(u,m){fn(this),this.i=null,u=ps(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function au(u,m){fn(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bl(u,m){return fn(u),m=ps(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){fn(u);let _=[];if(typeof m=="string")bl(u,m)&&(_=_.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return fn(this),this.i=null,u=ps(this,u),bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,_){au(u,m),_.length>0&&(u.i=null,u.g.set(ps(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Li(_);_=Sl(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+Li(_[B])),u.push(et)}}return this.i=u.join("&")};function lu(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(au(this,T),ia(this,L,_))},u)),u.j=m}function Kn(u,m){const _=new Fn;if(d.Image){const T=new Image;T.onload=b(On,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(On,_,"TestLoadImage: error",!1,m,T),T.onabort=b(On,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(On,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const _=new Fn,T=new AbortController,L=setTimeout(()=>{T.abort(),On(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?On(_,"TestPingServer: ok",!0,m):On(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),On(_,"TestPingServer: error",!1,m)})}function On(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function gs(){this.g=new Ko}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}A(_i,Xo),_i.prototype.g=function(){return new vr(this.i,this.h)};function vr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vr,Ae),r=vr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Xn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},r.Na=function(u){this.g&&(this.response=u,ys(this))},r.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Xn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return zt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Er(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Mn(_),typeof u=="string"?_!=null&&Li(_):Zt(u,m,_))}function ee(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ee,Ae);var vi=/^https?$/i,wl=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ml.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Tr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Tr(this,B)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Rl(u),Pi(u)}function Rl(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),$n(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(iu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!vi.test(et?et.toLowerCase():"")}_=T}if(_)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var L=$n(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Rl(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ue(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=tu(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_s.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){we(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=mu(this,null,this.W),Ti(this)};function Il(u){if(aa(u),u.I==3){var m=u.V++,_=Ce(u.J);if(Zt(_,"SID",u.M),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),Sr(u,_),m=new Qn(u,u.j,m),m.M=2,m.A=yr(Ce(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}du(u)}function vs(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function aa(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!gl(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||S(),Pt||(re(),Pt=!0),x.add(m,u),u.D=0}}function la(u,m){return pi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(y(u.Ea,u,m),fu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Qn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ou(this,L,m),_=Ce(this.J),Zt(_,"RID",u),Zt(_,"CVER",22),this.G&&Zt(_,"X-HTTP-Session-Id",this.G),Sr(this,_),B&&(this.R?m="headers="+Li(Mn(B))+"&"+m:this.u&&Er(_,this.u,B)),yl(this.h,L),this.Ra&&Zt(_,"TYPE","init"),this.S?(Zt(_,"$req",m),Zt(_,"SID","null"),L.U=!0,hi(L,_,null)):hi(L,_,m),this.I=2}}else this.I==3&&(u?Cl(this,u):this.i.length==0||gl(this.h)||Cl(this))};function Cl(u,m){var _;m?_=m.l:_=u.V++;const T=Ce(u.J);Zt(T,"SID",u.M),Zt(T,"RID",_),Zt(T,"AID",u.K),Sr(u,T),u.u&&u.o&&Er(T,u.u,u.o),_=new Qn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yl(u.h,_),hi(_,T,m)}function Sr(u,m){u.H&&zt(u.H,function(_,T){Zt(m,T,_)}),u.l&&zt({},function(_,T){Zt(m,T,_)})}function ou(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const ve=["count="+_];Ct==-1?_>0?(Ct=L[0].g,ve.push("ofs="+Ct)):Ct=0:ve.push("ofs="+Ct);let Yt=!0;for(let he=0;he<_;he++){var B=L[he].g;const Vn=L[he].map;if(B-=Ct,B<0)Ct=Math.max(0,L[he].g-100),Yt=!1;else try{B="req"+B+"_"||"";try{var et=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Si,Zn]of et){let Jn=Zn;g(Zn)&&(Jn=hs(Zn)),ve.push(B+Si+"="+encodeURIComponent(Jn))}}catch(Si){throw ve.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(Vn)}}if(Yt){et=ve.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||S(),Pt||(re(),Pt=!0),x.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(y(u.Da,u),fu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),vs(this),cu(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Er(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=yr(Ce(m)),_.u=null,_.R=!0,Wr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,vs(this),Ar(this),we(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function hu(u,m){var _=null;if(u.g==m){oa(u),xl(u),u.g=null;var T=2}else if(gi(u.h,m))_=m.G,_l(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),Ue(T,new oi(T,_)),Ti(u)}else uu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Ar(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function fu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),yr(T),L?Kn(T.toString(),_):Al(T.toString(),_)}else we(2);u.I=0,u.l&&u.l.pa(m),du(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function du(u){if(u.I=0,u.ja=[],u.l){const m=vl(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function mu(u,m,_){var T=_ instanceof Tn?Ce(_):new Tn(_);if(T.g!="")m&&(T.g=m+"."+T.g),fs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Tn(null);T&&Be(B,T),m&&(B.g=m),L&&fs(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Zt(T,_,m),Zt(T,"VER",u.ka),Sr(u,T),T}function pu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new _i({ab:_})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Es(){}Es.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Ae.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}A(un,Ae),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Il(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=hs(u),u=_);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,un.Z.N.call(this)};function yu(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(yu,Fe);function _u(){Nn.call(this),this.status=1}A(_u,Nn);function ji(u){this.g=u}A(ji,gu),ji.prototype.ra=function(){Ue(this.g,"a")},ji.prototype.qa=function(u){Ue(this.g,new yu(u))},ji.prototype.pa=function(u){Ue(this.g,new _u)},ji.prototype.oa=function(){Ue(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,vE=function(){return new Es},_E=function(){return Jr()},yE=_e,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Vc=pr,dl.COMPLETE="complete",gE=dl,$o.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,yo=$o,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,pE=ee}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const _0="@firebase/firestore",v0="4.9.2";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let rl="12.3.0";const Yr=new Am("@firebase/firestore");function za(){return Yr.logLevel}function lt(r,...t){if(Yr.logLevel<=kt.DEBUG){const i=t.map(Vm);Yr.debug(`Firestore (${rl}): ${r}`,...i)}}function ls(r,...t){if(Yr.logLevel<=kt.ERROR){const i=t.map(Vm);Yr.error(`Firestore (${rl}): ${r}`,...i)}}function $a(r,...t){if(Yr.logLevel<=kt.WARN){const i=t.map(Vm);Yr.warn(`Firestore (${rl}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(r,a,i)}function EE(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ls(a),new Error(a)}function Xt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||EE(t,o,a)}function It(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends us{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Tw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(sn.UNAUTHENTICATED)))}shutdown(){}}class bw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Sw{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new nr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new nr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class Aw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ww{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Aw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Iw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Iw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function am(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return qd(o)===qd(c)?Ut(o,c):qd(o)?1:-1}return Ut(r.length,t.length)}const Cw=55296,xw=57343;function qd(r){const t=r.charCodeAt(0);return t>=Cw&&t<=xw}function Za(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const T0="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class de extends Ci{construct(t,i,a){return new de(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const Nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ci{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return Nw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T0}static keyField(){return new Je([T0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ht(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ht(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(de.fromString(t))}static fromName(t){return new gt(de.fromString(t).popFirst(5))}static empty(){return new gt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new de(t.slice()))}}function Dw(r,t,i){if(!i)throw new ht(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Ow(r,t,i,a){if(t===!0&&a===!0)throw new ht(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function b0(r){if(!gt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ri(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new ht(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function qo(r,t){if(!bE(r))throw new ht(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(Z.INVALID_ARGUMENT,i);return!0}const S0=-62135596800,A0=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*A0);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<S0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qo(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-S0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ve("string",ce._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ce(0,0))}static max(){return new At(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xo=-1;function Mw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new sr(o,gt.empty(),t)}function Vw(r){return new sr(r.readTime,r.key,xo)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(At.min(),gt.empty(),xo)}static max(){return new sr(At.max(),gt.empty(),xo)}}function kw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const Uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Uw)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Pw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Lm=-1;function fh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function zw(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function jw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=w0(t)),t=Bw(r.get(i),t);return w0(t)}function Bw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function w0(r){return r+SE+""}function R0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function cr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function AE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=o??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(t){return new I0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class I0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new xn([])}unionWith(t){let i=new ze(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const qw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=qw.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ar(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const RE="server_timestamp",IE="__type__",CE="__previous_value__",xE="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===RE}function dh(r){const t=r.mapValue.fields[CE];return Pm(t)?dh(t):t}function No(r){const t=rr(r.mapValue.fields[xE].timestampValue);return new ce(t.seconds,t.nanos)}class Hw{constructor(t,i,a,o,c,d,g,v,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const Xc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}const NE="__type__",Gw="__max__",wc={mapValue:{}},DE="__vector__",$c="value";function lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:Qw(r)?9007199254740991:Fw(r)?10:11:vt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=lr(r);if(i!==lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=rr(o.timestampValue),g=rr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return ar(o.bytesValue).isEqual(ar(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return be(o.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return be(o.integerValue)===be(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=be(o.doubleValue),g=be(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(R0(d)!==R0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ki(d[v],g[v])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=lr(r),a=lr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=be(c.integerValue||c.doubleValue),v=be(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return C0(r.timestampValue,t.timestampValue);case 4:return C0(No(r),No(t));case 5:return am(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ar(c),v=ar(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Ut(g[y],v[y]);if(b!==0)return b}return Ut(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(be(c.latitude),be(d.latitude));return g!==0?g:Ut(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return x0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[$c]?.arrayValue,b=v[$c]?.arrayValue,A=Ut(y?.values?.length||0,b?.values?.length||0);return A!==0?A:x0(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const V=am(v[A],b[A]);if(V!==0)return V;const F=Ja(g[v[A]],y[b[A]]);if(F!==0)return F}return Ut(v.length,b.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function C0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=rr(r),a=rr(t),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function x0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ja(i[o],a[o]);if(c)return c}return Ut(i.length,a.length)}function Wa(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ar(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${lm(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function kc(r){switch(lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return ar(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return cr(a.fields,((c,d)=>{o+=c.length+kc(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function N0(r){return!!r&&"nullValue"in r}function D0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function Fw(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===DE}function So(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return cr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=So(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=So(r.arrayValue.values[i]);return t}return{...r}}function Qw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Gw}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=So(i)}setAll(t){let i=Je.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=So(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){cr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new vn(So(this.value))}}function OE(r){const t=[];return cr(r.fields,((i,a)=>{const o=new Je([i]);if(Uc(a)){const c=OE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new xn(t)}class rn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new rn(t,0,At.min(),At.min(),At.min(),vn.empty(),0)}static newFoundDocument(t,i,a,o){return new rn(t,1,i,At.min(),a,o,0)}static newNoDocument(t,i){return new rn(t,2,i,At.min(),At.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new rn(t,3,i,At.min(),At.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function O0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=gt.comparator(gt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function M0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Yw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ME{}class Pe extends ME{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Xw(t,i,a):i==="array-contains"?new Jw(t,a):i==="in"?new Ww(t,a):i==="not-in"?new tR(t,a):i==="array-contains-any"?new eR(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $w(t,a):new Zw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&lr(this.value)===lr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function kE(r){return Kw(r)&&VE(r)}function Kw(r){for(const t of r.filters)if(t instanceof Ui)return!1;return!0}function um(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(kE(r))return r.filters.map((t=>um(t))).join(",");{const t=r.filters.map((i=>um(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof Pe?(function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&ki(a.value,o.value)})(r,t):r instanceof Ui?(function(a,o){return o instanceof Ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&UE(d,o.filters[g])),!0):!1})(r,t):void vt(19439)}function LE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class Xw extends Pe{constructor(t,i,a){super(t,i,a),this.key=gt.fromName(a.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $w extends Pe{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Zw extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class Jw extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Oo(i.arrayValue,this.value)}}class Ww extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class tR extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class eR extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class nR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function V0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new nR(r,t,i,a,o,c,d)}function jm(r){const t=It(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Yw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!M0(r.startAt,t.startAt)&&M0(r.endAt,t.endAt)}function cm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(r,t,i,a,o,c,d,g){return new mh(r,t,i,a,o,c,d,g)}function ph(r){return new mh(r)}function k0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sR(r){return r.collectionGroup!==null}function Ao(r){const t=It(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ze(Je.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Jc(Je.keyField(),a))}return t.Ie}function Di(r){const t=It(r);return t.Ee||(t.Ee=rR(t,Ao(r))),t.Ee}function rR(r,t){if(r.limitType==="F")return V0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Jc(o.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return V0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function hm(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Bm(Di(r),Di(t))&&r.limitType===t.limitType}function zE(r){return`${jm(Di(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>LE(o))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Di(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):gt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=O0(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,g,v){const y=O0(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Ao(a),o))})(r,t)}function aR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=lR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function lR(r,t,i){const a=r.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?Ja(v,y):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const oR=new me(gt.comparator);function os(){return oR}const BE=new me(gt.comparator);function _o(...r){let t=BE;for(const i of r)t=t.insert(i.key,i);return t}function qE(r){let t=BE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qr(){return wo()}function HE(){return wo()}function wo(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uR=new me(gt.comparator),cR=new ze(gt.comparator);function Lt(...r){let t=cR;for(const i of r)t=t.add(i);return t}const hR=new ze(Ut);function fR(){return hR}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function GE(r){return{integerValue:""+r}}function FE(r,t){return zw(t)?GE(t):qm(r,t)}class _h{constructor(){this._=void 0}}function dR(r,t,i){return r instanceof Wc?(function(o,c){const d={fields:{[IE]:{stringValue:RE},[xE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pm(c)&&(c=dh(c)),c&&(d.fields[CE]=c),{mapValue:d}})(i,t):r instanceof Mo?YE(r,t):r instanceof Vo?KE(r,t):(function(o,c){const d=QE(o,c),g=U0(d)+U0(o.Ae);return om(d)&&om(o.Ae)?GE(g):qm(o.serializer,g)})(r,t)}function mR(r,t,i){return r instanceof Mo?YE(r,t):r instanceof Vo?KE(r,t):i}function QE(r,t){return r instanceof ko?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Wc extends _h{}class Mo extends _h{constructor(t){super(),this.elements=t}}function YE(r,t){const i=XE(t);for(const a of r.elements)i.some((o=>ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends _h{constructor(t){super(),this.elements=t}}function KE(r,t){let i=XE(t);for(const a of r.elements)i=i.filter((o=>!ki(o,a)));return{arrayValue:{values:i}}}class ko extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function U0(r){return be(r.integerValue||r.doubleValue)}function XE(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pR{constructor(t,i){this.field=t,this.transform=i}}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Mo&&o instanceof Mo||a instanceof Vo&&o instanceof Vo?Za(a.elements,o.elements,ki):a instanceof ko&&o instanceof ko?ki(a.Ae,o.Ae):a instanceof Wc&&o instanceof Wc})(r.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class ai{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ai}static exists(t){return new ai(void 0,t)}static updateTime(t){return new ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function $E(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,ai.none()):new Ho(r.key,r.data,ai.none());{const i=r.data,a=vn.empty();let o=new ze(Je.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new hr(r.key,a,new xn(o.toArray()),ai.none())}}function _R(r,t,i){r instanceof Ho?(function(o,c,d){const g=o.value.clone(),v=P0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof hr?(function(o,c,d){if(!Lc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=P0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(ZE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Ho?(function(c,d,g,v){if(!Lc(c.precondition,d))return g;const y=c.value.clone(),b=z0(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof hr?(function(c,d,g,v){if(!Lc(c.precondition,d))return g;const y=z0(c.fieldTransforms,v,d),b=d.data;return b.setAll(ZE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function vR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=QE(a.transform,o||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function L0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ho extends vh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hr extends vh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function P0(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,mR(d,g,i[o]))}return a}function z0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,dR(c,d,t))}return a}class Hm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&_R(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=$E(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>L0(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>L0(i,a)))}}class Gm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return uR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Gm(t,i,a,o)}}class bR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function AR(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function JE(r){if(r===void 0)return ls("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Me.OK:return Z.OK;case Me.CANCELLED:return Z.CANCELLED;case Me.UNKNOWN:return Z.UNKNOWN;case Me.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Me.INTERNAL:return Z.INTERNAL;case Me.UNAVAILABLE:return Z.UNAVAILABLE;case Me.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Me.NOT_FOUND:return Z.NOT_FOUND;case Me.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Me.ABORTED:return Z.ABORTED;case Me.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Me.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new er([4294967295,4294967295],0);function j0(r){const t=wR().encode(r),i=new mE;return i.update(t),new Uint8Array(i.digest())}function B0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([i,a],0),new er([o,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=er.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(er.fromNumber(a)));return o.compare(RR)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=j0(t),[a,o]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=j0(t),[a,o]=B0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Go.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(At.min(),o,new me(Ut),os(),Lt())}}class Go{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Go(a,i,Lt(),Lt(),Lt())}}class Pc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class WE{constructor(t,i){this.targetId=t,this.Ce=i}}class tT{constructor(t,i,a=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class q0{constructor(){this.ve=0,this.Fe=H0(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:c})}})),new Go(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=H0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IR{constructor(t){this.Ge=t,this.ze=new Map,this.je=os(),this.Je=Rc(),this.He=Rc(),this.Ye=new me(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(cm(c))if(a===0){const d=new gt(c.path);this.et(i,d,rn.newNoDocument(d,At.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ar(a).toUint8Array()}catch(v){if(v instanceof wE)return $a("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Fm(d,o,c)}catch(v){return $a(v instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const v=new gt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,rn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ye,this.je,a);return this.je=os(),this.Je=Rc(),this.He=Rc(),this.Ye=new me(Ut),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Rc(){return new me(gt.comparator)}function H0(){return new me(gt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OR(r,t){return th(r,t.toTimestamp())}function Oi(r){return Xt(!!r,49232),At.fromTimestamp((function(i){const a=rr(i);return new ce(a.seconds,a.nanos)})(r))}function Qm(r,t){return dm(r,t).canonicalString()}function dm(r,t){const i=(function(o){return new de(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function nT(r){const t=de.fromString(r);return Xt(lT(t),10190,{key:t.toString()}),t}function mm(r,t){return Qm(r.databaseId,t.path)}function Hd(r,t){const i=nT(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(sT(i))}function iT(r,t){return Qm(r.databaseId,t)}function MR(r){const t=nT(r);return t.length===4?de.emptyPath():sT(t)}function pm(r){return new de(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function G0(r,t,i){return{name:mm(r,t),fields:i.value.mapValue.fields}}function VR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Xt(b===void 0||typeof b=="string",58123),We.fromBase64String(b||"")):(Xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),We.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:JE(y.code);return new ht(b,y.message||"")})(d);i=new tT(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Hd(r,a.document.name),c=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):At.min(),g=new vn({mapValue:{fields:a.document.fields}}),v=rn.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Pc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Hd(r,a.document),c=a.readTime?Oi(a.readTime):At.min(),d=rn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Hd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new SR(o,c),g=a.targetId;i=new WE(g,d)}}return i}function kR(r,t){let i;if(t instanceof Ho)i={update:G0(r,t.key,t.value)};else if(t instanceof Hm)i={delete:mm(r,t.key)};else if(t instanceof hr)i={update:G0(r,t.key,t.data),updateMask:GR(t.fieldMask)};else{if(!(t instanceof ER))return vt(16599,{Vt:t.type});i={verify:mm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function UR(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Oi(o.updateTime):Oi(c);return d.isEqual(At.min())&&(d=Oi(c)),new yR(d,o.transformResults||[])})(i,t)))):[]}function LR(r,t){return{documents:[iT(r,t.path)]}}function PR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,o);const c=(function(y){if(y.length!==0)return aT(Ui.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Ba(V.field),direction:BR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function zR(r){let t=MR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Xt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const V=rT(A);return V instanceof Ui&&kE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(tt){return new Jc(qa(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let V;return V=typeof A=="object"?A.value:A,fh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,F=A.values||[];return new Zc(F,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,F=A.values||[];return new Zc(F,V)})(i.endAt)),iR(t,o,d,c,g,"F",v,y)}function jR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>rT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function BR(r){return CR[r]}function qR(r){return xR[r]}function HR(r){return NR[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Je.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(D0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(D0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(N0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:qR(i.op),value:i.value}}})(r):r instanceof Ui?(function(i){const a=i.getFilters().map((o=>aT(o)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function GR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $s{constructor(t,i,a,o,c=At.min(),d=At.min(),g=We.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FR{constructor(t){this.yt=t}}function QR(r){const t=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(t,t.limit,"L"):t}class YR{constructor(){this.Cn=new KR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(sr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class KR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new ze(de.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new ze(de.comparator)).toArray()}}const F0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(oT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}const Q0="LruGarbageCollector",XR=1048576;function Y0([r,t],[i,a]){const o=Ut(r,i);return o===0?Ut(t,a):o}class $R{constructor(t){this.Ir=t,this.buffer=new ze(Y0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Q0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?lt(Q0,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class JR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(hh.ce);const a=new $R(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(F0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),za()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function WR(r,t){return new JR(r,t)}class tI{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nI{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,xn.empty(),ce.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const o=qr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=_o();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=os();const d=wo(),g=(function(){return wo()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof hr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ro(b.mutation,y,b.mutation.getFieldMask(),ce.now())):d.set(y.key,xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new eI(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=wo();let o=new me(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||xn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const A=(o.get(g.batchId)||Lt()).add(v);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,A=HE();b.forEach((V=>{if(!c.has(V)){const F=$E(i.get(V),a.get(V));F!==null&&A.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(qr());let g=xo,v=c;return d.next((y=>$.forEach(y,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Lt()))).next((b=>({batchId:g,changes:qE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=_o();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(v=>{const y=(function(A,V){return new mh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,rn.newInvalidDocument(b)))}));let g=_o();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Ro(b.mutation,y,xn.empty(),ce.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class iI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:QR(o.bundledQuery),readTime:Oi(o.readTime)}})(i)),$.resolve()}}class sI{constructor(){this.overlays=new me(gt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=qr(),c=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new me(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=qr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=qr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return $.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rI{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Ym{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new gt(new de([])),a=new He(i,t),o=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new de([])),a=new He(i,t),o=new He(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class aI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new He(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Ut);return i.forEach((o=>{const c=new He(o,0),d=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;gt.isDocumentKey(c)||(c=c.child(""));const d=new He(new gt(c),0);let g=new ze(Ut);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new He(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lI{constructor(t){this.ri=t,this.docs=(function(){return new me(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():rn.newInvalidDocument(i))}getEntries(t,i){let a=os();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():rn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=os();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||kw(Vw(b),a)<=0||(o.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){vt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oI(this)}getSize(t){return $.resolve(this.size)}}class oI extends tI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uI{constructor(t){this.persistence=t,this.si=new $r((i=>jm(i)),Bm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new tl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new rI,this.referenceDelegate=t(this),this.Pi=new uI(this),this.indexManager=new YR,this.remoteDocumentCache=(function(o){return new lI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new FR(i),this.Ii=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new aI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new cI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class cI extends Lw{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Ym,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=gt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new $r((a=>jw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=WR(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(t,i.fromCache,a,o)}}class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:Pw(an())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(za()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(za()<=kt.DEBUG&&lt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(za()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(i))):$.resolve())}ys(t,i){if(k0(i))return $.resolve(null);let a=Di(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),a=Di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,hm(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return k0(i)||o.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(za()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(i)),this.vs(t,d,i,Mw(o,xo)).next((g=>g)))}))}Ds(t,i){let a=new ze(jE(t));return i.forEach(((o,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return za()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,sr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",dI=3e8;class mI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new me(Ut),this.xs=new $r((c=>jm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pI(r,t,i,a){return new mI(r,t,i,a)}async function cT(r,t){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Lt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function gI(r,t){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const A=y.batch,V=A.keys();let F=$.resolve();return V.forEach((tt=>{F=F.next((()=>b.getEntry(v,tt))).next((rt=>{const W=y.docVersions.get(tt);Xt(W!==null,48541),rt.version.compareTo(W)<0&&(A.applyToRemoteDocument(rt,y),rt.isValidDocument()&&(rt.setReadTime(y.commitVersion),b.addEntry(rt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function hT(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yI(r,t){const i=It(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const V=o.get(A);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(A,F),(function(rt,W,dt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=dI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,F,b)&&g.push(i.Pi.updateTargetData(c,F))}));let v=os(),y=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(_I(c,d,t.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!a.isEqual(At.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function _I(r,t,i){let a=Lt(),o=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=os();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(At.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):lt($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function vI(r,t){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EI(r,t){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new $s(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=It(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;lt($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function K0(r,t,i){const a=It(r);let o=At.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=It(v),V=A.xs.get(b);return V!==void 0?$.resolve(A.Ms.get(V)):A.Pi.getTargetData(y,b)})(a,d,Di(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:At.min(),i?c:Lt()))).next((g=>(TI(a,aR(t),g),{documents:g,Qs:c})))))}function TI(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class X0{constructor(){this.activeTargetIds=fR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bI{constructor(){this.Mo=new X0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new X0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SI{Oo(t){}shutdown(){}}const $0="ConnectivityMonitor";class Z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt($0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt($0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function ym(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Gd="RestConnection",AI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=ym(),g=this.zo(t,i.toUriEncodedString());lt(Gd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),b=nl(y);return this.Jo(t,g,v,a,b).then((A=>(lt(Gd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw $a(Gd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=AI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class RI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class II extends wI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=ym();return new Promise(((g,v)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(gE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const A=y.getResponseJson();lt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Vc.TIMEOUT:lt(nn,`RPC '${t}' ${d} timed out`),v(new ht(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const V=y.getStatus();if(lt(nn,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const rt=(function(dt){const bt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(bt)>=0?bt:Z.UNKNOWN})(tt.status);v(new ht(rt,tt.message))}else v(new ht(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ht(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(nn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);lt(nn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),g=_E(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=c.join("");lt(nn,`Creating RPC '${t}' stream ${o}: ${b}`,v);const A=d.createWebChannel(b,v);this.I_(A);let V=!1,F=!1;const tt=new RI({Yo:W=>{F?lt(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(V||(lt(nn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),V=!0),lt(nn,`RPC '${t}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),rt=(W,dt,bt)=>{W.listen(dt,(_t=>{try{bt(_t)}catch(Gt){setTimeout((()=>{throw Gt}),0)}}))};return rt(A,yo.EventType.OPEN,(()=>{F||(lt(nn,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),rt(A,yo.EventType.CLOSE,(()=>{F||(F=!0,lt(nn,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(A))})),rt(A,yo.EventType.ERROR,(W=>{F||(F=!0,$a(nn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ht(Z.UNAVAILABLE,"The operation could not be completed")))})),rt(A,yo.EventType.MESSAGE,(W=>{if(!F){const dt=W.data[0];Xt(!!dt,16349);const bt=dt,_t=bt?.error||bt[0]?.error;if(_t){lt(nn,`RPC '${t}' stream ${o} received error:`,_t);const Gt=_t.status;let re=(function(S){const R=Me[S];if(R!==void 0)return JE(R)})(Gt),Pt=_t.message;re===void 0&&(re=Z.INTERNAL,Pt="Unknown error status: "+Gt+" with message "+_t.message),F=!0,tt.a_(new ht(re,Pt)),A.close()}else lt(nn,`RPC '${t}' stream ${o} received:`,dt),tt.u_(dt)}})),rt(g,yE.STAT_EVENT,(W=>{W.stat===rm.PROXY?lt(nn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===rm.NOPROXY&&lt(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Th(r){return new DR(r,!0)}class fT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const J0="PersistentStream";class dT{constructor(t,i,a,o,c,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ht(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(J0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CI extends dT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Oi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=cm(v)?{documents:LR(c,v)}:{query:PR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eT(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=jR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class xI extends dT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=UR(t.writeResults,t.commitTime),a=Oi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.q_(i)}}class NI{}class DI extends NI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,dm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,dm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class MI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(lt(Kr,"Restarting streams for network reachability change."),await(async function(v){const y=It(v);y.Ea.add(4),await Fo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Ra=new OI(a,o)}}async function bh(r){if(Zr(r))for(const t of r.da)await t(!0)}async function Fo(r){for(const t of r.da)await t(!1)}function mT(r,t){const i=It(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):ol(i).O_()&&Jm(i,t))}function Zm(r,t){const i=It(r),a=ol(i);i.Ia.delete(t),a.O_()&&pT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Ra.set("Unknown"))}function Jm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Y_(t)}function pT(r,t){r.Va.Ue(t),ol(r).Z_(t)}function Wm(r){r.Va=new IR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function tp(r){return Zr(r)&&!ol(r).x_()&&r.Ia.size>0}function Zr(r){return It(r).Ea.size===0}function gT(r){r.Va=void 0}async function VI(r){r.Ra.set("Online")}async function kI(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function UI(r,t){gT(r),tp(r)?(r.Ra.ha(t),Wm(r)):r.Ra.set("Unknown")}async function LI(r,t,i){if(r.Ra.set("Online"),t instanceof tT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){lt(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof WE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(We.EMPTY_BYTE_STRING,b.snapshotVersion)),pT(c,v);const A=new $s(b.target,v,y,b.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){lt(Kr,"Failed to raise snapshot:",a),await nh(r,a)}}async function nh(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await Fo(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function yT(r,t){return t().catch((i=>nh(r,i,t)))}async function Sh(r){const t=It(r),i=or(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;PI(t);)try{const o=await vI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,zI(t,o)}catch(o){await nh(t,o)}_T(t)&&vT(t)}function PI(r){return Zr(r)&&r.Ta.length<10}function zI(r,t){r.Ta.push(t);const i=or(r);i.O_()&&i.X_&&i.ea(t.mutations)}function _T(r){return Zr(r)&&!or(r).x_()&&r.Ta.length>0}function vT(r){or(r).start()}async function jI(r){or(r).ra()}async function BI(r){const t=or(r);for(const i of r.Ta)t.ea(i.mutations)}async function qI(r,t,i){const a=r.Ta.shift(),o=Gm.from(a,t,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function HI(r,t){t&&or(r).X_&&await(async function(a,o){if((function(d){return AR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();or(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Sh(a)}})(r,t),_T(r)&&vT(r)}async function W0(r,t){const i=It(r);i.asyncQueue.verifyOperationInProgress(),lt(Kr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Fo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function GI(r,t){const i=It(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Fo(i),i.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=It(i);return c.sa(),new CI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VI.bind(null,r),t_:kI.bind(null,r),r_:UI.bind(null,r),H_:LI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function or(r){return r.fa||(r.fa=(function(i,a,o){const c=It(i);return c.sa(),new xI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jI.bind(null,r),r_:HI.bind(null,r),ta:BI.bind(null,r),na:qI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new ep(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(ls("AsyncQueue",`${t}: ${r}`),ll(r))return new ht(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||gt.comparator(i.key,a.key):(i,a)=>gt.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class tv{constructor(){this.ga=new me(gt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class el{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new el(t,i,Ya.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class FI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QI{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=It(i),c=o.queries;o.queries=ev(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ht(Z.ABORTED,"Firestore shutting down"))}}function ev(){return new $r((r=>zE(r)),gh)}async function ET(r,t){const i=It(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new FI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function TT(r,t){const i=It(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YI(r,t){const i=It(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function KI(r,t,i){const a=It(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var _m,nv;(nv=_m||(_m={})).Ma="default",nv.Cache="cache";class bT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new el(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class ST{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class XI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=jE(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new tv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const V=o.get(b),F=yh(this.query,A)?A:null,tt=!!V&&this.mutatedKeys.has(V.key),rt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;V&&F?V.data.isEqual(F.data)?tt!==rt&&(a.track({type:3,doc:F}),W=!0):this.su(V,F)||(a.track({type:2,doc:F}),W=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!V&&F?(a.track({type:0,doc:F}),W=!0):V&&!F&&(a.track({type:1,doc:V}),W=!0,(v||y)&&(g=!0)),W&&(F?(d=d.add(F),c=rt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,tt){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return rt(F)-rt(tt)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new el(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ST(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class $I{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZI{constructor(t){this.key=t,this.hu=!1}}class JI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>zE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new me(gt.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WI(r,t,i=!0){const a=NT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await wT(a,t,i,!0),o}async function tC(r,t){const i=NT(r);await wT(i,t,!0,!1)}async function wT(r,t,i,a){const o=await EI(r.localStore,Di(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await eC(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,o),g}async function eC(r,t,i,a,o){r.pu=(A,V,F)=>(async function(rt,W,dt,bt){let _t=W.view.ru(dt);_t.Cs&&(_t=await K0(rt.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,_t))));const Gt=bt&&bt.targetChanges.get(W.targetId),re=bt&&bt.targetMismatches.get(W.targetId)!=null,Pt=W.view.applyChanges(_t,rt.isPrimaryClient,Gt,re);return sv(rt,W.targetId,Pt.au),Pt.snapshot})(r,A,V,F);const c=await K0(r.localStore,t,!0),d=new XI(t,c.Qs),g=d.ru(c.documents),v=Go.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);sv(r,i,y.au);const b=new $I(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function nC(r,t,i){const a=It(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Zm(a.remoteStore,o.targetId),vm(a,o.targetId)})).catch(al)):(vm(a,o.targetId),await gm(a.localStore,o.targetId,!0))}async function iC(r,t){const i=It(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function sC(r,t,i){const a=hC(r);try{const o=await(function(d,g){const v=It(d),y=ce.now(),b=g.reduce(((F,tt)=>F.add(tt.key)),Lt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=os(),rt=Lt();return v.Ns.getEntries(F,b).next((W=>{tt=W,tt.forEach(((dt,bt)=>{bt.isValidDocument()||(rt=rt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,tt))).next((W=>{A=W;const dt=[];for(const bt of g){const _t=vR(bt,A.get(bt.key).overlayedDocument);_t!=null&&dt.push(new hr(bt.key,_t,OE(_t.value.mapValue),ai.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,dt,g)})).next((W=>{V=W;const dt=W.applyToLocalDocumentSet(A,rt);return v.documentOverlayCache.saveOverlays(F,W.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:qE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new me(Ut)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Qo(a,o.changes),await Sh(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function RT(r,t){const i=It(r);try{const a=await yI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Xt(d.hu,14607):o.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Qo(i,a,t)}catch(a){await al(a)}}function iv(r,t,i){const a=It(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=It(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,A)=>{for(const V of A.Sa)V.va(g)&&(y=!0)})),y&&ip(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rC(r,t,i){const a=It(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new me(gt.comparator);d=d.insert(c,rn.newNoDocument(c,At.min()));const g=Lt().add(c),v=new Eh(At.min(),new Map,new me(Ut),d,g);await RT(a,v),a.du=a.du.remove(c),a.Au.delete(t),rp(a)}else await gm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(al)}async function aC(r,t){const i=It(r),a=t.batch.batchId;try{const o=await gI(i.localStore,t);CT(i,a,null),IT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Qo(i,o)}catch(o){await al(o)}}async function lC(r,t,i){const a=It(r);try{const o=await(function(d,g){const v=It(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((A=>(Xt(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);CT(a,t,i),IT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Qo(a,o)}catch(o){await al(o)}}function IT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function CT(r,t,i){const a=It(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||xT(r,a)}))}function xT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),rp(r))}function sv(r,t,i){for(const a of i)a instanceof ST?(r.Ru.addReference(a.key,t),oC(r,a)):a instanceof AT?(lt(sp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||xT(r,a.key)):vt(19791,{wu:a})}function oC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(sp,"New document in limbo: "+i),r.Eu.add(a),rp(r))}function rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new gt(de.fromString(t)),a=r.fu.next();r.Au.set(a,new ZI(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new $s(Di(ph(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Qo(r,t,i){const a=It(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Xm.As(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const b=It(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(y,(V=>$.forEach(V.Es,(F=>b.persistence.referenceDelegate.addReference(A,V.targetId,F))).next((()=>$.forEach(V.ds,(F=>b.persistence.referenceDelegate.removeReference(A,V.targetId,F)))))))))}catch(A){if(!ll(A))throw A;lt($m,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const F=b.Ms.get(V),tt=F.snapshotVersion,rt=F.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(V,rt)}}})(a.localStore,c))}async function uC(r,t){const i=It(r);if(!i.currentUser.isEqual(t)){lt(sp,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ht(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Qo(i,a.Ls)}}function cC(r,t){const i=It(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let o=Lt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function NT(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.Pu.H_=YI.bind(null,t.eventManager),t.Pu.yu=KI.bind(null,t.eventManager),t}function hC(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pI(this.persistence,new fI,t.initialUser,this.serializer)}Cu(t){return new uT(Km.mi,this.serializer)}Du(t){return new bI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class fC extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ZR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new uT((a=>eh.mi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uC.bind(null,this.syncEngine),await GI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QI})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new II(c)})(t.databaseInfo);return(function(c,d,g,v){return new DI(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new MI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>iv(this.syncEngine,i,0)),(function(){return Z0.v()?new Z0:new SI})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const A=new JI(o,c,d,g,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=It(i);lt(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Fo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class DT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class dC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await cT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function rv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mC(r);lt(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>W0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>W0(t.remoteStore,o))),r._onlineComponents=t}async function mC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(ur,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new ih)}}else lt(ur,"Using default OfflineComponentProvider"),await Qd(r,new fC(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(ur,"Using user provided OnlineComponentProvider"),await rv(r,r._uninitializedComponentsProvider._online)):(lt(ur,"Using default OnlineComponentProvider"),await rv(r,new Em))),r._onlineComponents}function pC(r){return OT(r).then((t=>t.syncEngine))}async function Tm(r){const t=await OT(r),i=t.eventManager;return i.onListen=WI.bind(null,t.syncEngine),i.onUnlisten=nC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iC.bind(null,t.syncEngine),i}function gC(r,t,i={}){const a=new nr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new DT({next:V=>{b.Nu(),d.enqueueAndForget((()=>TT(c,A)));const F=V.docs.has(g);!F&&V.fromCache?y.reject(new ht(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&v&&v.source==="server"?y.reject(new ht(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),A=new bT(ph(g.path),b,{includeMetadataChanges:!0,qa:!0});return ET(c,A)})(await Tm(r),r.asyncQueue,t,i,a))),a.promise}function MT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const av=new Map;const VT="firestore.googleapis.com",lv=!0;class ov{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=lv}else this.host=t.host,this.ssl=t.ssl??lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new ht(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ap{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Tw;switch(a.type){case"firstParty":return new ww(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=av.get(i);a&&(lt("ComponentProvider","Removing Datastore"),av.delete(i),a.terminate())})(this),Promise.resolve()}}function yC(r,t,i,a={}){r=ri(r,ap);const o=nl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Cv(`https://${g}`),xv("Firestore",!0)),c.host!==VT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!Gr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=sn.MOCK_USER;else{y=Fb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ht(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(A)}r._authCredentials=new bw(new TE(y,b))}}class Ah{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ah(this.firestore,t,this._query)}}class ke{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(qo(i,ke._jsonSchema))return new ke(t,a||null,new gt(de.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ve("string",ke._jsonSchemaVersion),referencePath:Ve("string")};class Uo extends Ah{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new gt(t))}withConverter(t){return new Uo(this.firestore,t,this._path)}}function Cc(r,t,...i){if(r=ln(r),arguments.length===1&&(t=km.newId()),Dw("doc","path",t),r instanceof ap){const a=de.fromString(t,...i);return b0(a),new ke(r,null,new gt(a))}{if(!(r instanceof ke||r instanceof Uo))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(de.fromString(t,...i));return b0(a),new ke(r.firestore,r instanceof Uo?r.converter:null,new gt(a))}}const uv="AsyncQueue";class cv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&lt(uv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;lt(uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",hv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ep.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function hv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Xr extends ap{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new cv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cv(t),this._firestoreClient=void 0,await t}}}function _C(r,t){const i=typeof r=="object"?r:Mv(),a=typeof r=="string"?r:Xc,o=Rm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Hb("firestore");c&&yC(o,...c)}return o}function lp(r){if(r._terminated)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new Hw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,MT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(We.fromBase64String(t))}catch(i){throw new ht(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qo(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ve("string",Hn._jsonSchemaVersion),bytes:Ve("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Mi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(qo(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ve("string",Mi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Vi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qo(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Vi(t.vectorValues);throw new ht(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ve("string",Vi._jsonSchemaVersion),vectorValues:Ve("object")};const EC=/^__.*__$/;class TC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ho(t,this.data,i,this.fieldTransforms)}}class kT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class op{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&EC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,o=!1){return new op({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new bC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function SC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);cp("Data must be an object, but it was:",d,a);const g=PT(a,d);let v,y;if(c.merge)v=new xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const V=bm(t,A,i);if(!d.contains(V))throw new ht(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);jT(b,V)||b.push(V)}v=new xn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new TC(new vn(g),v,y)}class Ih extends Rh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class up extends Rh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new ko(t.serializer,FE(t.serializer,this.Fc));return new pR(t.path,i)}isEqual(t){return t instanceof up&&this.Fc===t.Fc}}function AC(r,t,i,a){const o=r.Cc(1,t,i);cp("Data must be an object, but it was:",o,a);const c=[],d=vn.empty();cr(a,((v,y)=>{const b=hp(t,v,i);y=ln(y);const A=o.yc(b);if(y instanceof Ih)c.push(b);else{const V=Ch(y,A);V!=null&&(c.push(b),d.set(b,V))}}));const g=new xn(c);return new kT(d,g,o.fieldTransforms)}function wC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[bm(t,a,i)],v=[o];if(c.length%2!=0)throw new ht(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(bm(t,c[V])),v.push(c[V+1]);const y=[],b=vn.empty();for(let V=g.length-1;V>=0;--V)if(!jT(y,g[V])){const F=g[V];let tt=v[V];tt=ln(tt);const rt=d.yc(F);if(tt instanceof Ih)y.push(F);else{const W=Ch(tt,rt);W!=null&&(y.push(F),b.set(F,W))}}const A=new xn(y);return new kT(b,A,d.fieldTransforms)}function Ch(r,t){if(zT(r=ln(r)))return cp("Unsupported field value:",t,r),PT(r,t);if(r instanceof Rh)return(function(a,o){if(!UT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=Ch(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return FE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:th(o.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(a instanceof Mi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:eT(o.serializer,a._byteString)};if(a instanceof ke){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Vi)return(function(d,g){return{mapValue:{fields:{[NE]:{stringValue:DE},[$c]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Um(a)}`)})(r,t)}function PT(r,t){const i={};return AE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(r,((a,o)=>{const c=Ch(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Mi||r instanceof Hn||r instanceof ke||r instanceof Rh||r instanceof Vi)}function cp(r,t,i){if(!zT(i)||!bE(i)){const a=Um(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function bm(r,t,i){if((t=ln(t))instanceof wh)return t._internalPath;if(typeof t=="string")return hp(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,i)}const RC=new RegExp("[~\\*/\\[\\]]");function hp(r,t,i){if(t.search(RC)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function sh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ht(Z.INVALID_ARGUMENT,g+r+v)}function jT(r,t){return r.some((i=>i.isEqual(t)))}class BT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IC extends BT{data(){return super.data()}}function qT(r,t){return typeof t=="string"?hp(r,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function CC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xC{convertValue(t,i="none"){switch(lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Vi(i)}convertGeoPoint(t){return new Mi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=rr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=de.fromString(t);Xt(lT(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new gt(a.popFirst(5));return o.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Eo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hr extends BT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Ve("string",Hr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class zc extends Hr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:DC(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function dv(r){r=ri(r,ke);const t=ri(r.firestore,Xr);return gC(lp(t),r._key).then((i=>GT(t,r,i)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ve("string",Ka._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class HT extends xC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function OC(r,t,i){r=ri(r,ke);const a=ri(r.firestore,Xr),o=NC(r.converter,t);return fp(a,[SC(LT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ai.none())])}function Yd(r,t,i,...a){r=ri(r,ke);const o=ri(r.firestore,Xr),c=LT(o);let d;return d=typeof(t=ln(t))=="string"||t instanceof wh?wC(c,"updateDoc",r._key,t,i,a):AC(c,"updateDoc",r._key,t),fp(o,[d.toMutation(r._key,ai.exists(!0))])}function MC(r){return fp(ri(r.firestore,Xr),[new Hm(r._key,ai.none())])}function VC(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof ke)d=ri(r.firestore,Xr),g=ph(r._key.path),c={next:v=>{t[a]&&t[a](GT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=ri(r,Ah);d=ri(v.firestore,Xr),g=v._query;const y=new HT(d);c={next:b=>{t[a]&&t[a](new Ka(d,y,v,b))},error:t[a+1],complete:t[a+2]},CC(r._query)}return(function(y,b,A,V){const F=new DT(V),tt=new bT(b,F,A);return y.asyncQueue.enqueueAndForget((async()=>ET(await Tm(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>TT(await Tm(y),tt)))}})(lp(d),g,o,c)}function fp(r,t){return(function(a,o){const c=new nr;return a.asyncQueue.enqueueAndForget((async()=>sC(await pC(a),o,c))),c.promise})(lp(r),t)}function GT(r,t,i){const a=i.docs.get(t._key),o=new HT(r);return new Hr(r,o,t._key,a,new Eo(i.hasPendingWrites,i.fromCache),t.converter)}function kC(r){return new up("increment",r)}(function(t,i=!0){(function(o){rl=o})(il),Xa(new Fr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Xr(new Sw(a.getProvider("auth-internal")),new Rw(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ws(_0,v0,t),Ws(_0,v0,"esm2020")})();const UC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),mv=r=>{const t=LC(r);return t.charAt(0).toUpperCase()+t.slice(1)},FT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),PC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jC=te.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>te.createElement("svg",{ref:v,...zC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:FT("lucide",o),...!c&&!PC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>te.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Ge=(r,t)=>{const i=te.forwardRef(({className:a,...o},c)=>te.createElement(jC,{ref:c,iconNode:t,className:FT(`lucide-${UC(mv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=mv(r),i};const BC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qC=Ge("arrow-right",BC);const HC=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],GC=Ge("bomb",HC);const FC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QC=Ge("circle-check-big",FC);const YC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Kd=Ge("gift",YC);const KC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],pv=Ge("hash",KC);const XC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],QT=Ge("info",XC);const $C=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ZC=Ge("log-in",$C);const JC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gv=Ge("log-out",JC);const WC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tx=Ge("pen-line",WC);const ex=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nx=Ge("rotate-ccw",ex);const ix=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],sx=Ge("share-2",ix);const rx=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],yv=Ge("shuffle",rx);const ax=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],_v=Ge("snowflake",ax);const lx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rh=Ge("star",lx);const ox=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ux=Ge("ticket",ox);const cx=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],Xd=Ge("trees",cx);const hx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fx=Ge("triangle-alert",hx);const dx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mx=Ge("users",dx),YT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},xh=YT.apiKey!=="_apiKey",KT=xh?Ov(YT):null,xc=xh?vw(KT):null,po=xh?_C(KT):null,$d=r=>[...r].sort((t,i)=>t>i?1:-1),vv=[" +1 ()"," -1 ()"," +2 ()","",""," 1 ","",""," 3 "," -2 ()"," +3 ()",""],go=["","","","","","",""," 20 "],Ev=({message:r,onClose:t})=>(te.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),C.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%] pointer-events-none",children:C.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md text-white px-6 py-3 rounded-full shadow-[0_0_20px_rgba(251,191,36,0.3)] border border-amber-500/30 flex items-center gap-2",children:[C.jsx(QT,{size:18,className:"text-amber-400 shrink-0"}),C.jsx("span",{className:"font-bold text-sm md:text-base tracking-wide",children:r})]})})),px=({text:r,isSpinning:t,hasResult:i})=>C.jsxs("div",{className:"w-full max-w-xs mx-auto relative transition-all duration-500",children:[C.jsx("div",{className:`absolute -inset-1 rounded-2xl blur opacity-75 transition-all duration-300 ${t?"bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse":i?"bg-gradient-to-r from-red-600 to-rose-600":"bg-slate-700"}`}),C.jsxs("div",{className:"relative bg-slate-900 rounded-xl border-2 border-slate-700 p-4 min-h-[140px] flex flex-col items-center justify-center text-center shadow-2xl overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:20px_20px]"}),C.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 flex items-center gap-2 text-slate-500 text-[10px] font-bold tracking-[0.2em] uppercase",children:[C.jsx(ux,{size:10})," Punishment"]}),C.jsx("div",{className:`relative z-10 font-black text-2xl md:text-3xl leading-snug transition-all duration-100 ${t?"text-slate-300 blur-[0.5px] scale-95":i?"text-yellow-400 scale-110 drop-shadow-[0_0_10px_rgba(250,204,21,0.5)]":"text-slate-500"}`,children:r}),t&&C.jsx("div",{className:"absolute inset-0 w-full h-1 bg-white/20 animate-scan"})]})]}),Tv=te.memo(()=>{const r=te.useRef(null);return te.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:60}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5,drift:(Math.random()-.5)*.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 250, 240, 0.25)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.x+=g.drift,g.y>t.height&&(g.y=0,g.x=Math.random()*t.width),g.x>t.width&&(g.x=0),g.x<0&&(g.x=t.width)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),C.jsx("canvas",{ref:r,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-0"})}),Gs=({children:r,className:t=""})=>C.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),Fs=({title:r,text:t})=>C.jsxs("div",{className:"bg-sky-500/10 border border-sky-500/30 rounded-xl p-4 mb-6 flex items-start gap-3 animate-fade-in shadow-[0_0_15px_rgba(14,165,233,0.1)]",children:[C.jsx(QT,{className:"text-sky-400 shrink-0 mt-0.5",size:20}),C.jsxs("div",{className:"text-left",children:[C.jsx("h3",{className:"font-bold text-sky-200 text-sm mb-1",children:r}),C.jsx("p",{className:"text-sky-200/70 text-sm leading-relaxed",children:t})]})]}),ni=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},v={primary:"bg-gradient-to-r from-rose-700 to-red-600 hover:from-rose-600 hover:to-red-500 text-white border border-white/10 shadow-rose-900/30",secondary:"bg-gradient-to-r from-emerald-700 to-green-600 hover:from-emerald-600 hover:to-green-500 text-white border border-white/10",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-800 hover:bg-red-700 text-white shadow-red-900/50"};return C.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${v[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},gx=({onFinish:r})=>{const[t,i]=te.useState(10);return te.useEffect(()=>{if(t<=0){r();return}const a=setTimeout(()=>i(o=>o-1),1e3);return()=>clearTimeout(a)},[t,r]),C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:C.jsxs("div",{className:"text-center animate-pulse",children:[C.jsxs("div",{className:"text-amber-400 text-4xl mb-4 font-bold flex items-center justify-center gap-2",children:[C.jsx(rh,{className:"text-amber-400",fill:"currentColor"}),"  ",C.jsx(rh,{className:"text-amber-400",fill:"currentColor"})]}),C.jsx("div",{className:"text-[15rem] font-black text-white leading-none drop-shadow-[0_0_30px_rgba(251,191,36,0.6)]",children:t})]})})},yx=()=>{const[r,t]=te.useState(null),[i,a]=te.useState(""),[o,c]=te.useState(""),[d,g]=te.useState(null),[v,y]=te.useState(!1),[b,A]=te.useState(!0),[V,F]=te.useState(null),[tt,rt]=te.useState(""),[W,dt]=te.useState(""),[bt,_t]=te.useState(""),[Gt,re]=te.useState({}),[Pt,x]=te.useState(" ..."),S=te.useRef(!1),R=d?.participantNumbers?.[r?.uid],M=X=>{F(X)};if(te.useMemo(()=>{const X=d?.punishments?Object.values(d.punishments):[],J=X.length===0?[...go]:X;return $d(J)},[d?.punishments]),!xh)return C.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:C.jsxs("div",{className:"max-w-md",children:[C.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),C.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});te.useEffect(()=>{const X=async()=>{try{await e2(xc)}catch(J){console.error(":",J)}};if(xc){X();const J=l2(xc,pt=>{t(pt),A(!1)});return()=>J()}else A(!1)},[]),te.useEffect(()=>{if(r&&!v){const J=new URLSearchParams(window.location.search).get("room");if(J)a(J);else{const pt=localStorage.getItem("xmas_last_room_id");pt&&a(pt)}}},[r]),te.useEffect(()=>{if(!r||!i||!po)return;const X=Cc(po,"xmas_rooms",`room_${i}`),J=VC(X,pt=>{if(pt.exists()){const nt=pt.data();if(g(nt),nt.participants&&nt.participants[r.uid]){if(y(!0),c(nt.participants[r.uid]),nt.phase==="gift-entry"){const mt=nt.gifts?nt.gifts[r.uid]:"";mt&&_t(mt)}if(nt.phase==="rule-entry"){const mt=nt.rules.find(Qt=>Qt.uid===r.uid);mt&&mt.text&&rt(mt.text)}if(nt.phase==="punishment-entry"){const mt=nt.punishments?nt.punishments[r.uid]:"";mt&&dt(mt)}}if(nt.isSpinning&&!S.current){S.current=!0;let mt=0;const Qt=setInterval(()=>{let ye=nt.punishments?Object.values(nt.punishments):go;ye=$d(ye),x(ye[mt%ye.length]),mt++},80),Se=setTimeout(()=>{clearInterval(Qt)},1e4);return window.spinInterval=Qt,()=>{clearInterval(Qt),clearTimeout(Se)}}if(nt.finalPunishment&&!nt.isSpinning?(window.spinInterval&&clearInterval(window.spinInterval),S.current=!1):nt.isSpinning===!1&&!nt.finalPunishment&&(S.current=!1,x(" ...")),nt.hostId===r.uid){const mt=Object.keys(nt.participants).length;nt.phase==="gift-entry"&&mt>1&&Object.keys(nt.gifts||{}).length===mt&&ut("rule-entry",nt),nt.phase==="rule-entry"&&mt>1&&nt.rules.filter(Se=>Se.text&&Se.text.trim()!=="").length===mt&&ut("punishment-entry",nt),nt.phase==="punishment-entry"&&mt>1&&Object.keys(nt.punishments||{}).length===mt&&ut("game-playing",nt),nt.phase==="voting"&&mt>1&&Object.keys(nt.votingStatus||{}).length===mt&&ut("countdown",nt)}}else g(null)});return()=>J()},[r,i]);const D=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await o2(xc),window.location.reload())},U=async()=>{if(!confirm(""))return;const X=Cc(po,"xmas_rooms",`room_${i}`),J=await dv(X);if(!J.exists()){localStorage.removeItem("xmas_last_room_id"),window.location.reload();return}const nt={...J.data().participants};delete nt[r.uid],Object.keys(nt).length===0?(await MC(X),M(" ")):await Yd(X,{participants:nt}),localStorage.removeItem("xmas_last_room_id"),window.location.reload()},w=async()=>{const X=i.toString().trim(),J=o.trim();if(!X||!J){M("");return}a(X),c(J);const pt=Cc(po,"xmas_rooms",`room_${X}`);try{const nt=await dv(pt);if(!nt.exists())await OC(pt,{hostId:r.uid,phase:"entry",participants:{[r.uid]:J},participantNumbers:{},gifts:{},rules:[],punishments:{},currentRuleIndex:0,votingStatus:{},ratings:{},finalResults:null,finalPunishment:null,isSpinning:!1,createdAt:new Date().toISOString()});else{const mt=nt.data();if(mt.phase!=="entry"&&!mt.participants[r.uid]){M("");return}await Yd(pt,{[`participants.${r.uid}`]:J})}localStorage.setItem("xmas_last_room_id",X),y(!0)}catch{M("")}},le=()=>{const X=new URL(window.location.href);X.searchParams.set("room",i);const J=` 
${X.toString()}
${i}`,pt=document.createElement("textarea");pt.value=J,pt.style.position="fixed",pt.style.left="-9999px",document.body.appendChild(pt),pt.focus(),pt.select();try{document.execCommand("copy"),M(" ()")}catch{M("")}document.body.removeChild(pt)},$t=async X=>{if(!i)return;const J=Cc(po,"xmas_rooms",`room_${i}`);await Yd(J,X)},H=()=>{const X=vv[Math.floor(Math.random()*vv.length)];rt(X)},it=()=>{const X=go[Math.floor(Math.random()*go.length)];dt(X)},ut=async(X,J=d)=>{if(!J)return;let pt={phase:X};if(X==="gift-entry"&&J.phase==="entry"){const nt=Object.keys(J.participants),mt=nt.length,Qt=Array.from({length:mt},(ye,tn)=>tn+1);for(let ye=Qt.length-1;ye>0;ye--){const tn=Math.floor(Math.random()*(ye+1));[Qt[ye],Qt[tn]]=[Qt[tn],Qt[ye]]}const Se={};nt.forEach((ye,tn)=>{Se[ye]=Qt[tn]}),pt.participantNumbers=Se}if(X==="rule-entry"){const mt=Object.keys(J.participants).map(Qt=>({uid:Qt,authorName:J.participants[Qt],text:""}));pt.rules=mt}if(X==="game-playing"){const nt=[...J.rules];for(let mt=nt.length-1;mt>0;mt--){const Qt=Math.floor(Math.random()*(mt+1));[nt[mt],nt[Qt]]=[nt[Qt],nt[mt]]}pt.rules=nt,pt.currentRuleIndex=0}if(X==="result-entry"&&(pt.resultMapping={}),X==="voting"){const nt={};Object.keys(J.participants).forEach(mt=>{nt[mt]={giftName:"",ratings:{}}}),pt.matchDetails=nt}if(X==="result"){const nt=Object.keys(J.participants).map(mt=>{const Qt=J.ratings?J.ratings[mt]:{},Se=Object.values(Qt||{}).reduce((ye,tn)=>ye+tn,0);return{uid:mt,name:J.participants[mt],giftName:J.gifts?J.gifts[mt]:"",totalScore:Se}});pt.finalResults=nt}await $t(pt)},zt=async()=>{bt.trim()&&(await $t({[`gifts.${r.uid}`]:bt}),M("..."))},Ft=async()=>{if(!tt.trim())return;const X=d.rules.findIndex(pt=>pt.uid===r.uid);if(X===-1)return;const J=[...d.rules];J[X].text=tt,await $t({rules:J}),M("...")},O=async()=>{W.trim()&&(await $t({[`punishments.${r.uid}`]:W}),M("..."))},Y=async()=>{d.currentRuleIndex<d.rules.length-1?await $t({currentRuleIndex:kC(1)}):ut("voting")},st=(X,J)=>{re(pt=>({...pt,[X]:J}))},at=async()=>{const X={[`votingStatus.${r.uid}`]:!0};Object.keys(d.participants).forEach(J=>{if(J===r.uid)return;const pt=Gt[J]||1;X[`ratings.${J}.${r.uid}`]=pt}),await $t(X),M("...")},Et=async()=>{try{await $t({isSpinning:!0,finalPunishment:null}),setTimeout(async()=>{let X=Object.values(d.punishments||{});X.length===0&&(X=go),X=$d(X);const J=X[Math.floor(Math.random()*X.length)];await $t({finalPunishment:J,isSpinning:!1})},3e3)}catch{M(""),await $t({isSpinning:!1})}};if(b)return C.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-950 via-emerald-950 to-slate-950 text-white",children:[C.jsxs("div",{className:"relative mb-6",children:[C.jsx("div",{className:"absolute inset-0 bg-rose-500/20 blur-xl rounded-full animate-pulse"}),C.jsx(Kd,{size:64,className:"text-rose-500 animate-bounce relative z-10"}),C.jsx(_v,{size:24,className:"text-sky-300 absolute -top-2 -right-4 animate-spin"}),C.jsx(Xd,{size:24,className:"text-emerald-500 absolute -bottom-2 -left-4 animate-pulse"})]}),C.jsx("p",{className:"text-xl font-bold text-amber-400 tracking-[0.2em] animate-pulse",children:"LOADING..."}),C.jsx("p",{className:"text-sm text-slate-500 mt-2",children:""})]});if(!v)return C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-emerald-950 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[C.jsx(Tv,{}),V&&C.jsx(Ev,{message:V,onClose:()=>F(null)}),C.jsxs(Gs,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-amber-500",children:[C.jsx("div",{className:"flex justify-center mb-6",children:C.jsx("div",{className:"p-5 bg-rose-600/20 rounded-full border border-rose-500/30 shadow-[0_0_15px_rgba(225,29,72,0.3)]",children:C.jsx(Kd,{size:64,className:"text-rose-400"})})}),C.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-amber-200 to-yellow-500 drop-shadow-sm",children:""}),C.jsxs("div",{className:"flex items-center justify-center gap-2 mb-10",children:[C.jsx(Xd,{className:"text-emerald-500",size:18}),C.jsx("p",{className:"text-slate-400 text-base uppercase tracking-widest",children:"Midnight Party"}),C.jsx(_v,{className:"text-sky-300",size:18})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"text-left",children:[C.jsx("label",{className:"text-sm font-bold text-amber-500/80 ml-1 mb-2 block",children:" / Nickname"}),C.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-amber-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:X=>c(X.target.value)})]}),C.jsxs("div",{className:"text-left",children:[C.jsx("label",{className:"text-sm font-bold text-amber-500/80 ml-1 mb-2 block",children:" / Room ID"}),C.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-amber-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:X=>a(X.target.value)})]}),C.jsxs(ni,{onClick:w,size:"lg",className:"w-full mt-6 text-xl py-5 shadow-[0_4px_14px_0_rgba(225,29,72,0.39)]",children:[C.jsx(ZC,{size:24})," "]}),C.jsx("div",{className:"pt-8 border-t border-white/5",children:C.jsxs("button",{onClick:D,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[C.jsx(nx,{size:14})," "]})})]})]})]});if(!d)return C.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const Tt=r.uid===d.hostId,wt=Object.entries(d.participants).sort((X,J)=>X[1].localeCompare(J[1]));return C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-emerald-950 to-slate-950 font-sans text-white relative pb-20 overflow-hidden",children:[C.jsx(Tv,{}),V&&C.jsx(Ev,{message:V,onClose:()=>F(null)}),d.phase==="countdown"&&C.jsx(gx,{onFinish:()=>Tt&&ut("result")}),C.jsx("div",{className:"bg-slate-900/95 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg px-4 py-3 transition-all duration-300",children:C.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[C.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[C.jsxs("div",{className:"bg-rose-600/90 text-white px-3 py-1 rounded text-xs font-bold shadow-lg shadow-rose-900/20 shrink-0 tracking-wider",children:["Room ",i]}),C.jsxs("div",{className:"flex flex-col min-w-0",children:[C.jsx("span",{className:"font-bold truncate max-w-[120px] text-amber-50 text-sm leading-tight mb-0.5",children:o}),R&&C.jsxs("span",{className:"text-[10px] text-amber-400 font-bold flex items-center gap-1",children:[C.jsx(pv,{size:8})," No. ",R]})]})]}),C.jsx("div",{className:"h-6 w-px bg-white/10 hidden sm:block shrink-0"}),C.jsxs("div",{className:"flex-1 flex flex-wrap items-center gap-2 min-w-[200px]",children:[C.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mr-1",children:[C.jsx(mx,{size:12})," ",wt.length]}),wt.map(([X,J])=>C.jsx("span",{className:`text-xs px-2 py-1 rounded-full border transition-all ${X===r.uid?"bg-amber-500/20 border-amber-500/50 text-amber-200 font-bold shadow-[0_0_10px_rgba(245,158,11,0.2)]":"bg-slate-800/50 border-white/10 text-slate-400"}`,children:J},X))]}),C.jsx("div",{className:"ml-auto shrink-0",children:C.jsx("button",{onClick:U,className:"bg-slate-800/50 hover:bg-red-500/20 text-slate-400 hover:text-red-400 border border-white/5 p-2 rounded-lg transition-colors",title:"",children:C.jsx(gv,{size:18})})})]})}),C.jsxs("main",{className:`relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 ${d.phase==="punishment-reveal"?"h-screen p-0 m-0 max-w-none":"mt-6"}`,children:[d.phase==="entry"&&C.jsxs("div",{className:"animate-fade-in space-y-8",children:[C.jsx(Fs,{title:"",text:" ->  ->  ->  ->  -> "}),C.jsxs(Gs,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[C.jsx("div",{className:"flex justify-center mb-4",children:C.jsx(Xd,{className:"text-emerald-500 animate-pulse",size:48})}),C.jsx("h2",{className:"text-3xl font-bold mb-3 text-amber-50",children:""}),C.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"..."}),C.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:wt.map(([X,J])=>C.jsx("span",{className:"bg-slate-800/80 text-slate-200 px-5 py-2 rounded-xl text-lg font-bold border border-slate-700 shadow-sm",children:J},X))}),C.jsx("div",{className:"mb-8",children:C.jsxs(ni,{onClick:le,variant:"secondary",className:"w-full py-4 text-emerald-100 shadow-[0_0_15px_rgba(16,185,129,0.3)]",children:[C.jsx(sx,{size:22})," "]})}),Tt?C.jsxs(ni,{onClick:()=>ut("gift-entry"),size:"lg",className:"w-full text-2xl py-6 shadow-[0_0_20px_rgba(225,29,72,0.4)]",disabled:wt.length<2,children:[" ",C.jsx(qC,{})]}):C.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})]}),d.phase==="gift-entry"&&C.jsxs("div",{className:"animate-fade-in space-y-8",children:[C.jsx(Fs,{title:" 1",text:""}),R&&C.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-6 rounded-2xl text-center shadow-[0_0_30px_rgba(245,158,11,0.1)] animate-fade-in-up",children:[C.jsx("p",{className:"text-amber-200 text-sm mb-1 uppercase tracking-widest",children:"Your Number"}),C.jsxs("div",{className:"text-6xl font-black text-amber-400 flex items-center justify-center gap-2 drop-shadow-md",children:[C.jsx(pv,{size:40,className:"opacity-50"})," ",R]}),C.jsx("p",{className:"text-xs text-amber-200/50 mt-3",children:""})]}),C.jsxs(Gs,{children:[C.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[C.jsx(Kd,{className:"text-rose-400",size:28})," "]}),C.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),C.jsx("div",{className:"mb-6",children:C.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-rose-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[120px]",placeholder:"7-11  500 ...",value:bt,onChange:X=>_t(X.target.value),disabled:d.gifts&&d.gifts[r.uid]})}),C.jsx(ni,{onClick:zt,className:"w-full text-xl py-5",disabled:!bt,children:d.gifts&&d.gifts[r.uid]?"...":""})]}),C.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.gifts||{}).length," / ",wt.length]})]}),d.phase==="rule-entry"&&C.jsxs("div",{className:"animate-fade-in space-y-8",children:[C.jsx(Fs,{title:" 2",text:""}),C.jsxs(Gs,{children:[C.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[C.jsx(tx,{className:"text-amber-400",size:28})," "]}),C.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),C.jsx("div",{className:"mb-6",children:C.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-amber-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:" +1 ...",value:tt,onChange:X=>rt(X.target.value),disabled:d.rules.find(X=>X.uid===r.uid)?.text!==""})}),C.jsx("div",{className:"flex justify-end mb-8",children:C.jsxs("button",{onClick:H,disabled:d.rules.find(X=>X.uid===r.uid)?.text!=="",className:"text-sm text-amber-300 flex items-center gap-2 hover:text-white transition-colors bg-amber-500/10 px-4 py-2 rounded-full border border-amber-500/20",children:[C.jsx(yv,{size:16})," "]})}),C.jsx(ni,{onClick:Ft,className:"w-full text-xl py-5",disabled:!tt,children:d.rules.find(X=>X.uid===r.uid)?.text!==""?"...":""})]}),C.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(X=>X.text).length," / ",wt.length]})]}),d.phase==="punishment-entry"&&C.jsxs("div",{className:"animate-fade-in space-y-8",children:[C.jsx(Fs,{title:" 3",text:""}),C.jsxs(Gs,{children:[C.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[C.jsx(GC,{className:"text-rose-500",size:28})," "]}),C.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),C.jsx("div",{className:"mb-6",children:C.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-rose-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:W,onChange:X=>dt(X.target.value),disabled:d.punishments&&d.punishments[r.uid]})}),C.jsx("div",{className:"flex justify-end mb-8",children:C.jsxs("button",{onClick:it,disabled:d.punishments&&d.punishments[r.uid],className:"text-sm text-rose-300 flex items-center gap-2 hover:text-white transition-colors bg-rose-500/10 px-4 py-2 rounded-full border border-rose-500/20",children:[C.jsx(yv,{size:16})," "]})}),C.jsx(ni,{onClick:O,className:"w-full text-xl py-5 bg-rose-600 hover:bg-rose-500 shadow-rose-900/50 border-none",disabled:!W,children:d.punishments&&d.punishments[r.uid]?"...":""})]}),C.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.punishments||{}).length," / ",wt.length]})]}),d.phase==="game-playing"&&C.jsxs("div",{className:"animate-fade-in py-2 flex flex-col items-center",children:[C.jsx("div",{className:"w-full",children:C.jsx(Fs,{title:" 4",text:""})}),C.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full px-4",children:[C.jsxs("div",{className:"flex justify-between text-sm mb-3 px-1 font-bold tracking-widest uppercase",children:[C.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),C.jsxs("span",{children:["Total ",d.rules.length]})]}),C.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden border border-white/5",children:C.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-rose-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),C.jsxs(Gs,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-amber-500 relative overflow-hidden group",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),C.jsx("div",{className:"mb-8",children:C.jsxs("span",{className:"bg-slate-800 text-amber-200 px-5 py-2 rounded-full text-sm font-bold border border-amber-500/20 shadow-sm",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),C.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),Tt&&C.jsx("div",{className:"mt-10 w-full",children:C.jsx(ni,{onClick:Y,size:"lg",className:"w-full text-2xl py-6 shadow-[0_0_25px_rgba(225,29,72,0.4)]",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="voting"&&C.jsxs("div",{className:"animate-fade-in space-y-6 pb-24",children:[C.jsx(Fs,{title:" 5",text:"1 = 10 = "}),d.votingStatus&&d.votingStatus[r.uid]?C.jsxs(Gs,{className:"text-center py-12 border-t-4 border-t-emerald-500",children:[C.jsx(QC,{size:64,className:"text-emerald-400 mx-auto mb-4"}),C.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:""}),C.jsx("p",{className:"text-slate-400",children:"..."}),C.jsxs("div",{className:"mt-6 text-sm text-slate-500 bg-slate-800/50 inline-block px-4 py-1 rounded-full",children:["",Object.keys(d.votingStatus||{}).length," / ",wt.length]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[C.jsx(fx,{className:"text-amber-500 shrink-0 mt-1",size:24}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-lg font-bold text-amber-500",children:""}),C.jsxs("p",{className:"text-sm text-amber-200/70 mt-1",children:["",C.jsx("br",{})," =  (10=)"]})]})]}),wt.map(([X,J])=>{if(X===r.uid)return null;const pt=d.gifts?d.gifts[X]:"",nt=Gt[X]||1;return C.jsxs(Gs,{className:"p-5 border border-white/5 relative overflow-hidden mb-4",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{children:[C.jsxs("div",{className:"text-sm text-slate-400 mb-1",children:[J," "]}),C.jsx("div",{className:"text-xl font-bold text-white",children:pt})]}),C.jsx("div",{className:"text-4xl font-black text-amber-400",children:nt})]}),C.jsx("input",{type:"range",min:"1",max:"10",value:nt,onChange:mt=>st(X,parseInt(mt.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500"}),C.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mt-2 px-1 font-bold",children:[C.jsx("span",{children:"1 ()"}),C.jsx("span",{children:"5 ()"}),C.jsx("span",{children:"10 ()"})]})]},X)}),C.jsx("div",{className:"h-20"})," ",C.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:C.jsx(ni,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:at,children:" "})})]})]}),d.phase==="result"&&C.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[C.jsx(Fs,{title:"",text:""}),C.jsx("div",{className:"bg-amber-500/20 text-amber-300 py-2 text-center text-sm font-bold border-y border-amber-500/30 animate-pulse",children:" ..."}),C.jsxs("div",{className:"text-center mb-10",children:[C.jsxs("h2",{className:"text-5xl font-black text-amber-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[C.jsx(rh,{fill:"currentColor",size:40}),"  ",C.jsx(rh,{fill:"currentColor",size:40})]}),C.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),(d.finalResults||[]).sort((X,J)=>J.totalScore-X.totalScore).map((X,J,pt)=>{J>0&&(X.totalScore,pt[J-1].totalScore);const nt=X.totalScore===pt[0].totalScore;return C.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${nt?"bg-gradient-to-r from-amber-900/80 to-slate-900 border-amber-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[nt&&C.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),C.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${nt?"bg-amber-500 shadow-lg shadow-amber-500/50":J===1?"bg-slate-500":"bg-orange-700"}`,children:["#",J+1]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:X.name}),C.jsx("div",{className:"text-base text-slate-400 truncate",children:X.giftName})]}),C.jsxs("div",{className:"text-right",children:[C.jsx("div",{className:"text-4xl font-black text-rose-500",children:X.totalScore}),C.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},X.uid)}),Tt&&C.jsx("div",{className:"mt-12 text-center",children:C.jsx(ni,{variant:"danger",size:"lg",onClick:()=>ut("punishment-reveal"),className:"w-full max-w-md mx-auto text-2xl py-6 shadow-2xl animate-bounce",children:"  "})})]}),d.phase==="punishment-reveal"&&C.jsxs("div",{className:"animate-fade-in flex flex-col h-full w-full max-w-md mx-auto relative overflow-hidden pt-28 px-6",children:[C.jsx(Fs,{title:"",text:""}),(()=>{const X=(d.finalResults||[]).sort((nt,mt)=>mt.totalScore-nt.totalScore),J=X[0]?.totalScore,pt=X.filter(nt=>nt.totalScore===J);return pt.length===0?null:C.jsxs("div",{className:"shrink-0 text-center relative z-20 mb-6",children:[C.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-[0.2em] mb-2",children:"The Loser is"}),C.jsx("div",{className:"flex flex-wrap justify-center gap-4 items-end",children:pt.map(nt=>C.jsx("div",{className:"flex flex-col items-center",children:C.jsxs("h2",{className:"text-4xl font-black text-rose-500 drop-shadow-[0_0_20px_rgba(225,29,72,0.8)] leading-none flex items-center gap-2",children:[pt.length>1&&C.jsx("span",{className:"text-2xl animate-bounce",children:""}),nt.name]})},nt.uid))}),C.jsx("div",{className:"mt-3",children:C.jsxs("span",{className:"text-xs font-bold text-white bg-rose-600 px-3 py-1 rounded-full shadow-lg border border-rose-400",children:[J," "]})})]})})(),C.jsx("div",{className:"w-full relative z-20",children:C.jsx(px,{text:d.isSpinning||!d.finalPunishment?Pt:d.finalPunishment,isSpinning:d.isSpinning,hasResult:!!d.finalPunishment&&!d.isSpinning})}),C.jsx("div",{className:"w-full mt-10 relative z-30",children:C.jsxs("div",{className:"space-y-3",children:[Tt&&!d.finalPunishment&&C.jsx(ni,{variant:"neutral",size:"lg",onClick:Et,className:"w-full text-lg py-4 shadow-xl shadow-blue-900/30 border border-slate-600",disabled:d.isSpinning,children:d.isSpinning?" ...":" "}),!Tt&&!d.finalPunishment&&C.jsx("div",{className:"text-center text-slate-500 py-2 text-xs animate-pulse",children:"..."}),d.finalPunishment&&!d.isSpinning&&C.jsxs(ni,{variant:"secondary",onClick:U,className:"w-full bg-emerald-600 border-emerald-500 text-white hover:bg-emerald-500 py-4 text-lg font-bold shadow-2xl animate-fade-in",children:[C.jsx(gv,{size:20})," "]})]})})]})]}),C.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        @keyframes scan { 0% { left: -100%; } 100% { left: 100%; } }
        .animate-scan { animation: scan 1.5s linear infinite; }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
      `})]})};Vb.createRoot(document.getElementById("root")).render(C.jsx(te.StrictMode,{children:C.jsx(yx,{})}));
