(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Rd={exports:{}},ho={};var C_;function _S(){if(C_)return ho;C_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var N_;function vS(){return N_||(N_=1,Rd.exports=_S()),Rd.exports}var k=vS(),Id={exports:{}},wt={};var x_;function ES(){if(x_)return wt;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function dt(D,Y,it){this.props=D,this.context=Y,this.refs=W,this.updater=it||tt}dt.prototype.isReactComponent={},dt.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},dt.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=dt.prototype;function gt(D,Y,it){this.props=D,this.context=Y,this.refs=W,this.updater=it||tt}var qt=gt.prototype=new Et;qt.constructor=gt,st(qt,dt.prototype),qt.isPureReactComponent=!0;var ie=Array.isArray;function Pt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,Y,it){var rt=it.ref;return{$$typeof:r,type:D,key:Y,ref:rt!==void 0?rt:null,props:it}}function O(D,Y){return R(D.type,Y,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function U(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return Y[it]})}var w=/\/+/g;function ae(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):Y.toString(36)}function se(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Pt,Pt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,Y,it,rt,_t){var vt=typeof D;(vt==="undefined"||vt==="boolean")&&(D=null);var St=!1;if(D===null)St=!0;else switch(vt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(D.$$typeof){case r:case t:St=!0;break;case S:return St=D._init,H(St(D._payload),Y,it,rt,_t)}}if(St)return _t=_t(D),St=rt===""?"."+ae(D,0):rt,ie(_t)?(it="",St!=null&&(it=St.replace(w,"$&/")+"/"),H(_t,Y,it,"",function(It){return It})):_t!=null&&(x(_t)&&(_t=O(_t,it+(_t.key==null||D&&D.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+St)),Y.push(_t)),1;St=0;var X=rt===""?".":rt+":";if(ie(D))for(var J=0;J<D.length;J++)rt=D[J],vt=X+ae(rt,J),St+=H(rt,Y,it,vt,_t);else if(J=F(D),typeof J=="function")for(D=J.call(D),J=0;!(rt=D.next()).done;)rt=rt.value,vt=X+ae(rt,J++),St+=H(rt,Y,it,vt,_t);else if(vt==="object"){if(typeof D.then=="function")return H(se(D),Y,it,rt,_t);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return St}function nt(D,Y,it){if(D==null)return D;var rt=[],_t=0;return H(D,rt,"","",function(vt){return Y.call(it,vt,_t++)}),rt}function ot(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var zt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ft={map:nt,forEach:function(D,Y,it){nt(D,function(){Y.apply(this,arguments)},it)},count:function(D){var Y=0;return nt(D,function(){Y++}),Y},toArray:function(D){return nt(D,function(Y){return Y})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return wt.Activity=b,wt.Children=Ft,wt.Component=dt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=gt,wt.StrictMode=a,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(D,Y,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=st({},D.props),_t=D.key;if(Y!=null)for(vt in Y.key!==void 0&&(_t=""+Y.key),Y)!A.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(rt[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)rt.children=it;else if(1<vt){for(var St=Array(vt),X=0;X<vt;X++)St[X]=arguments[X+2];rt.children=St}return R(D.type,_t,rt)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,Y,it){var rt,_t={},vt=null;if(Y!=null)for(rt in Y.key!==void 0&&(vt=""+Y.key),Y)A.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var St=arguments.length-2;if(St===1)_t.children=it;else if(1<St){for(var X=Array(St),J=0;J<St;J++)X[J]=arguments[J+2];_t.children=X}if(D&&D.defaultProps)for(rt in St=D.defaultProps,St)_t[rt]===void 0&&(_t[rt]=St[rt]);return R(D,vt,_t)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=x,wt.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ot}},wt.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},wt.startTransition=function(D){var Y=C.T,it={};C.T=it;try{var rt=D(),_t=C.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Pt,zt)}catch(vt){zt(vt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),C.T=Y}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(D){return C.H.use(D)},wt.useActionState=function(D,Y,it){return C.H.useActionState(D,Y,it)},wt.useCallback=function(D,Y){return C.H.useCallback(D,Y)},wt.useContext=function(D){return C.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Y){return C.H.useDeferredValue(D,Y)},wt.useEffect=function(D,Y){return C.H.useEffect(D,Y)},wt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(D,Y,it){return C.H.useImperativeHandle(D,Y,it)},wt.useInsertionEffect=function(D,Y){return C.H.useInsertionEffect(D,Y)},wt.useLayoutEffect=function(D,Y){return C.H.useLayoutEffect(D,Y)},wt.useMemo=function(D,Y){return C.H.useMemo(D,Y)},wt.useOptimistic=function(D,Y){return C.H.useOptimistic(D,Y)},wt.useReducer=function(D,Y,it){return C.H.useReducer(D,Y,it)},wt.useRef=function(D){return C.H.useRef(D)},wt.useState=function(D){return C.H.useState(D)},wt.useSyncExternalStore=function(D,Y,it){return C.H.useSyncExternalStore(D,Y,it)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.1",wt}var D_;function _m(){return D_||(D_=1,Id.exports=ES()),Id.exports}var ne=_m(),Cd={exports:{}},fo={},Nd={exports:{}},xd={};var O_;function TS(){return O_||(O_=1,(function(r){function t(H,nt){var ot=H.length;H.push(nt);t:for(;0<ot;){var zt=ot-1>>>1,Ft=H[zt];if(0<o(Ft,nt))H[zt]=nt,H[ot]=Ft,ot=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var nt=H[0],ot=H.pop();if(ot!==nt){H[0]=ot;t:for(var zt=0,Ft=H.length,D=Ft>>>1;zt<D;){var Y=2*(zt+1)-1,it=H[Y],rt=Y+1,_t=H[rt];if(0>o(it,ot))rt<Ft&&0>o(_t,it)?(H[zt]=_t,H[rt]=ot,zt=rt):(H[zt]=it,H[Y]=ot,zt=Y);else if(rt<Ft&&0>o(_t,ot))H[zt]=_t,H[rt]=ot,zt=rt;else break t}}return nt}function o(H,nt){var ot=H.sortIndex-nt.sortIndex;return ot!==0?ot:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],S=1,b=null,M=3,F=!1,tt=!1,st=!1,W=!1,dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=H)a(y),nt.sortIndex=nt.expirationTime,t(v,nt);else break;nt=i(y)}}function ie(H){if(st=!1,qt(H),!tt)if(i(v)!==null)tt=!0,Pt||(Pt=!0,U());else{var nt=i(y);nt!==null&&se(ie,nt.startTime-H)}}var Pt=!1,C=-1,A=5,R=-1;function O(){return W?!0:!(r.unstable_now()-R<A)}function x(){if(W=!1,Pt){var H=r.unstable_now();R=H;var nt=!0;try{t:{tt=!1,st&&(st=!1,Et(C),C=-1),F=!0;var ot=M;try{e:{for(qt(H),b=i(v);b!==null&&!(b.expirationTime>H&&O());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,M=b.priorityLevel;var Ft=zt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Ft=="function"){b.callback=Ft,qt(H),nt=!0;break e}b===i(v)&&a(v),qt(H)}else a(v);b=i(v)}if(b!==null)nt=!0;else{var D=i(y);D!==null&&se(ie,D.startTime-H),nt=!1}}break t}finally{b=null,M=ot,F=!1}nt=void 0}}finally{nt?U():Pt=!1}}}var U;if(typeof gt=="function")U=function(){gt(x)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=x,U=function(){ae.postMessage(null)}}else U=function(){dt(x,0)};function se(H,nt){C=dt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ot=M;M=nt;try{return H()}finally{M=ot}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=M;M=H;try{return nt()}finally{M=ot}},r.unstable_scheduleCallback=function(H,nt,ot){var zt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,H){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ot+Ft,H={id:S++,callback:nt,priorityLevel:H,startTime:ot,expirationTime:Ft,sortIndex:-1},ot>zt?(H.sortIndex=ot,t(y,H),i(v)===null&&H===i(y)&&(st?(Et(C),C=-1):st=!0,se(ie,ot-zt))):(H.sortIndex=Ft,t(v,H),tt||F||(tt=!0,Pt||(Pt=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var nt=M;return function(){var ot=M;M=nt;try{return H.apply(this,arguments)}finally{M=ot}}}})(xd)),xd}var M_;function SS(){return M_||(M_=1,Nd.exports=TS()),Nd.exports}var Dd={exports:{}},Ze={};var V_;function AS(){if(V_)return Ze;V_=1;var r=_m();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},Ze.flushSync=function(v){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=S,a.d.f()}},Ze.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ze.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ze.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(v,{crossOrigin:b,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ze.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,b=g(S,y.crossOrigin);a.d.L(v,S,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ze.requestFormReset=function(v){a.d.r(v)},Ze.unstable_batchedUpdates=function(v,y){return v(y)},Ze.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.1",Ze}var k_;function bS(){if(k_)return Dd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=AS(),Dd.exports}var U_;function wS(){if(U_)return fo;U_=1;var r=SS(),t=_m(),i=bS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case dt:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case Pt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],Ft=-1;function D(e){return{current:e}}function Y(e){0>Ft||(e.current=zt[Ft],zt[Ft]=null,Ft--)}function it(e,n){Ft++,zt[Ft]=e.current,e.current=n}var rt=D(null),_t=D(null),vt=D(null),St=D(null);function X(e,n){switch(it(vt,n),it(_t,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),it(rt,e)}function J(){Y(rt),Y(_t),Y(vt)}function It(e){e.memoizedState!==null&&it(St,e);var n=rt.current,s=Jy(n,e.type);n!==s&&(it(_t,e),it(rt,s))}function ut(e){_t.current===e&&(Y(rt),Y(_t)),St.current===e&&(Y(St),lo._currentValue=ot)}var bt,Te;function yn(e){if(bt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);bt=n&&n[1]||"",Te=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+e+Te}var ll=!1;function ur(e,n){if(!e||ll)return"";ll=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{ll=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?yn(s):""}function ol(e,n){switch(e.tag){case 26:case 27:case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return e.child!==n&&n!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return ur(e.type,!1);case 11:return ur(e.type.render,!1);case 1:return ur(e.type,!0);case 31:return yn("Activity");default:return""}}function ul(e){try{var n="",s=null;do n+=ol(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,Fo=r.unstable_requestPaint,sn=r.unstable_now,cr=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,Ch=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Yo=r.log,Ko=r.unstable_setDisableYieldValue,qn=null,qe=null;function Cn(e){if(typeof Yo=="function"&&Ko(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(qn,e)}catch{}}var ge=Math.clz32?Math.clz32:$o,Xo=Math.log,$r=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Xo(e)/$r|0)|0}var ri=256,hr=262144,Ae=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ai(l):(p&=E,p!==0?h=ai(p):s||(s=E&~e,s!==0&&(h=ai(s))))):(E=l&~f,E!==0?h=ai(E):p!==0?h=ai(p):s||(s=l&~e,s!==0&&(h=ai(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-ge(s),K=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&dr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ge(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ge(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:mr(s),(s&(e.suspendedLanes|n))!==0?0:s}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jo(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function Gn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var Fn=Math.random().toString(36).slice(2),be="__reactFiber$"+Fn,Pe="__reactProps$"+Fn,ui="__reactContainer$"+Fn,Zr="__reactEvents$"+Fn,Dh="__reactListeners$"+Fn,Wo="__reactHandles$"+Fn,tu="__reactResources$"+Fn,ci="__reactMarker$"+Fn;function Jr(e){delete e[be],delete e[Pe],delete e[Zr],delete e[Dh],delete e[Wo]}function hi(e){var n=e[be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=r_(e);e!==null;){if(s=e[be])return s;e=r_(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[be]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _n(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[ci]=!0}var ml=new Set,pl={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function eu(e){return Se.call(_l,e)?!0:Se.call(yl,e)?!1:gl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function Wr(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=cs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function on(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?El(e,p,ze(n)):s!=null?El(e,p,ze(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Xt(e)}function El(e,n,s){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function fs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(se(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Xt(e)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Al=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,gi=null;function yr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(a(90));ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&pr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(e,!!s.multiple,n,!1)}}}var ia=!1;function ps(e,n,s){if(ia)return e(n,s);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(ms!==null||gi!==null)&&(Ju(),ms&&(n=ms,e=gi,gi=ms=null,yr(n),e)))for(n=0;n<e.length;n++)yr(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Dn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{_r=!1}var yi=null,bl=null,vr=null;function wl(){if(vr)return vr;var e,n=bl,s=n.length,l,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return vr=h.slice(e,1<l?1-l:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Kn(){return!1}function He(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=He(Li),gs=b({},Li,{view:0,detail:0}),Rl=He(gs),ys,sa,vi,ra=b({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(ys=e.screenX-vi.screenX,sa=e.screenY-vi.screenY):sa=ys=0,vi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Il=He(ra),Tr=b({},ra,{dataTransfer:0}),au=He(Tr),lu=b({},gs,{relatedTarget:0}),Sr=He(lu),Cl=b({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=He(Cl),aa=b({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=He(aa),cu=b({},Li,{data:0}),Ei=He(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function _s(){return mu}var rn=b({},gs,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=He(rn),gu=b({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=He(gu),u=b({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=He(u),_=b({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=He(_),L=b({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(L),et=b({},Li,{newState:0,oldState:0}),Ct=He(et),ye=[9,13,27,32],Qt=Dn&&"CompositionEvent"in window,ce=null;Dn&&"documentMode"in document&&(ce=document.documentMode);var On=Dn&&"TextEvent"in window&&!ce,Ti=Dn&&(!Qt||ce&&8<ce&&11>=ce),Xn=" ",$n=!1;function Ar(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function qT(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function HT(e,n){if(oa)return e==="compositionend"||!Qt&&Ar(e,n)?(e=wl(),vr=bl=yi=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GT[e.type]:n==="textarea"}function up(e,n,s,l){ms?gi?gi.push(l):gi=[l]:ms=l,n=rc(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,xl=null;function FT(e){Fy(e,0)}function yu(e){var n=_n(e);if(pr(n))return e}function cp(e,n){if(e==="change")return n}var hp=!1;if(Dn){var Oh;if(Dn){var Mh="oninput"in document;if(!Mh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Mh=typeof fp.oninput=="function"}Oh=Mh}else Oh=!1;hp=Oh&&(!document.documentMode||9<document.documentMode)}function dp(){Nl&&(Nl.detachEvent("onpropertychange",mp),xl=Nl=null)}function mp(e){if(e.propertyName==="value"&&yu(xl)){var n=[];up(n,xl,e,xn(e)),ps(FT,n)}}function QT(e,n,s){e==="focusin"?(dp(),Nl=n,xl=s,Nl.attachEvent("onpropertychange",mp)):e==="focusout"&&dp()}function YT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(xl)}function KT(e,n){if(e==="click")return yu(n)}function XT(e,n){if(e==="input"||e==="change")return yu(n)}function $T(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var En=typeof Object.is=="function"?Object.is:$T;function Dl(e,n){if(En(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Se.call(n,h)||!En(e[h],n[h]))return!1}return!0}function pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gp(e,n){var s=pp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=pp(s)}}function yp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=pi(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZT=Dn&&"documentMode"in document&&11>=document.documentMode,ua=null,kh=null,Ol=null,Uh=!1;function vp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||ua==null||ua!==pi(l)||(l=ua,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Dl(Ol,l)||(Ol=l,l=rc(kh,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ua)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Lh={},Ep={};Dn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function wr(e){if(Lh[e])return Lh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ep)return Lh[e]=n[s];return e}var Tp=wr("animationend"),Sp=wr("animationiteration"),Ap=wr("animationstart"),JT=wr("transitionrun"),WT=wr("transitionstart"),t1=wr("transitioncancel"),bp=wr("transitionend"),wp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Zn(e,n){wp.set(e,n),di(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],ha=0,zh=0;function vu(){for(var e=ha,n=zh=ha=0;n<e;){var s=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Rp(s,h,f)}}function Eu(e,n,s,l){Mn[ha++]=e,Mn[ha++]=n,Mn[ha++]=s,Mn[ha++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Rr(e,n){return Eu(e,null,null,n),Tu(e)}function Rp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<to)throw to=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function e1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,n,s,l){return new e1(e,n,s,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var s=e.alternate;return s===null?(s=Tn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ip(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Bh(e)&&(p=1);else if(typeof e=="string")p=aS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Tn(31,s,n,h),e.elementType=R,e.lanes=f,e;case st:return Ir(s.children,h,f,n);case W:p=8,h|=24;break;case dt:return e=Tn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ie:return e=Tn(13,s,n,h),e.elementType=ie,e.lanes=f,e;case Pt:return e=Tn(19,s,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case Et:p=9;break t;case qt:p=11;break t;case C:p=14;break t;case A:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Tn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ir(e,n,s,l){return e=Tn(7,e,l,n),e.lanes=s,e}function qh(e,n,s){return e=Tn(6,e,null,n),e.lanes=s,e}function Cp(e){var n=Tn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=Tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=Np.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ul(n)},Np.set(e,n),n)}return{value:e,source:n,stack:ul(n)}}var da=[],ma=0,Au=null,Ml=0,kn=[],Un=0,vs=null,Si=1,Ai="";function ji(e,n){da[ma++]=Ml,da[ma++]=Au,Au=e,Ml=n}function xp(e,n,s){kn[Un++]=Si,kn[Un++]=Ai,kn[Un++]=vs,vs=e;var l=Si;e=Ai;var h=32-ge(l)-1;l&=~(1<<h),s+=1;var f=32-ge(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Si=1<<32-ge(n)+h|s<<h|l,Ai=f+e}else Si=1<<f|s<<h|l,Ai=e}function Gh(e){e.return!==null&&(ji(e,1),xp(e,1,0))}function Fh(e){for(;e===Au;)Au=da[--ma],da[ma]=null,Ml=da[--ma],da[ma]=null;for(;e===vs;)vs=kn[--Un],kn[Un]=null,Ai=kn[--Un],kn[Un]=null,Si=kn[--Un],kn[Un]=null}function Dp(e,n){kn[Un++]=Si,kn[Un++]=Ai,kn[Un++]=vs,Si=n.id,Ai=n.overflow,vs=e}var Ge=null,le=null,jt=!1,Es=null,Ln=!1,Qh=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Vn(n,e)),Qh}function Op(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[be]=e,n[Pe]=l,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Ot(no[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),fs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Xy(n.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Ts(e,!0)}function Mp(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ge=Ge.return}}function pa(e){if(e!==Ge)return!1;if(!jt)return Mp(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&le&&Ts(e),Mp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));le=s_(e)}else n===27?(n=le,ks(e.type)?(e=gd,gd=null,le=e):le=n):le=Ge?zn(e.stateNode.nextSibling):null;return!0}function Cr(){le=Ge=null,jt=!1}function Yh(){var e=Es;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Es=null),e}function Vl(e){Es===null?Es=[e]:Es.push(e)}var Kh=D(null),Nr=null,Bi=null;function Ss(e,n,s){it(Kh,n._currentValue),n._currentValue=s}function qi(e){e._currentValue=Kh.current,Y(Kh)}function Xh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Xh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ga(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;En(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===St.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&$h(n,e,s,l),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Nr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Vp(Nr,e)}function wu(e,n){return Nr===null&&xr(e),Vp(e,n)}function Vp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(e===null)throw Error(a(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Ie={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new n1,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&i1(s1,function(){e.controller.abort()})}var Ul=null,Jh=0,ya=0,_a=null;function r1(e,n){if(Ul===null){var s=Ul=[];Jh=0,ya=nd(),_a={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(kp,kp),n}function kp(){if(--Jh===0&&Ul!==null){_a!==null&&(_a.status="fulfilled");var e=Ul;Ul=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Up=H.S;H.S=function(e,n){vy=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(e,n),Up!==null&&Up(e,n)};var Dr=D(null);function Wh(){var e=Dr.current;return e!==null?e:re.pooledCache}function Ru(e,n){n===null?it(Dr,Dr.current):it(Dr,n.pool)}function Lp(){var e=Wh();return e===null?null:{parent:Ie._currentValue,pool:e}}var va=Error(a(460)),tf=Error(a(474)),Iu=Error(a(542)),Cu={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e}throw Mr=n,va}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Mr=s,va):s}}var Mr=null;function jp(){if(Mr===null)throw Error(a(459));var e=Mr;return Mr=null,e}function Bp(e){if(e===va||e===Iu)throw Error(a(483))}var Ea=null,Ll=0;function Nu(e){var n=Ll;return Ll+=1,Ea===null&&(Ea=[]),zp(Ea,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qp(e){function n(V,N){if(e){var P=V.deletions;P===null?(V.deletions=[N],V.flags|=16):P.push(N)}}function s(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=zi(V,N),V.index=0,V.sibling=null,V}function f(V,N,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<N?(V.flags|=67108866,N):P):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,P,Q){return N===null||N.tag!==6?(N=qh(P,V.mode,Q),N.return=V,N):(N=h(N,P),N.return=V,N)}function I(V,N,P,Q){var ft=P.type;return ft===st?G(V,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Or(ft)===N.type)?(N=h(N,P.props),Pl(N,P),N.return=V,N):(N=Su(P.type,P.key,P.props,null,V.mode,Q),Pl(N,P),N.return=V,N)}function z(V,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Hh(P,V.mode,Q),N.return=V,N):(N=h(N,P.children||[]),N.return=V,N)}function G(V,N,P,Q,ft){return N===null||N.tag!==7?(N=Ir(P,V.mode,Q,ft),N.return=V,N):(N=h(N,P),N.return=V,N)}function K(V,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qh(""+N,V.mode,P),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return P=Su(N.type,N.key,N.props,null,V.mode,P),Pl(P,N),P.return=V,P;case tt:return N=Hh(N,V.mode,P),N.return=V,N;case A:return N=Or(N),K(V,N,P)}if(se(N)||U(N))return N=Ir(N,V.mode,P,null),N.return=V,N;if(typeof N.then=="function")return K(V,Nu(N),P);if(N.$$typeof===gt)return K(V,wu(V,N),P);xu(V,N)}return null}function j(V,N,P,Q){var ft=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?I(V,N,P,Q):null;case tt:return P.key===ft?z(V,N,P,Q):null;case A:return P=Or(P),j(V,N,P,Q)}if(se(P)||U(P))return ft!==null?null:G(V,N,P,Q,null);if(typeof P.then=="function")return j(V,N,Nu(P),Q);if(P.$$typeof===gt)return j(V,N,wu(V,P),Q);xu(V,P)}return null}function q(V,N,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(P)||null,E(N,V,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return V=V.get(Q.key===null?P:Q.key)||null,I(N,V,Q,ft);case tt:return V=V.get(Q.key===null?P:Q.key)||null,z(N,V,Q,ft);case A:return Q=Or(Q),q(V,N,P,Q,ft)}if(se(Q)||U(Q))return V=V.get(P)||null,G(N,V,Q,ft,null);if(typeof Q.then=="function")return q(V,N,P,Nu(Q),ft);if(Q.$$typeof===gt)return q(V,N,P,wu(N,Q),ft);xu(N,Q)}return null}function lt(V,N,P,Q){for(var ft=null,Ht=null,ct=N,xt=N=0,Vt=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var Gt=j(V,ct,P[xt],Q);if(Gt===null){ct===null&&(ct=Vt);break}e&&ct&&Gt.alternate===null&&n(V,ct),N=f(Gt,N,xt),Ht===null?ft=Gt:Ht.sibling=Gt,Ht=Gt,ct=Vt}if(xt===P.length)return s(V,ct),jt&&ji(V,xt),ft;if(ct===null){for(;xt<P.length;xt++)ct=K(V,P[xt],Q),ct!==null&&(N=f(ct,N,xt),Ht===null?ft=ct:Ht.sibling=ct,Ht=ct);return jt&&ji(V,xt),ft}for(ct=l(ct);xt<P.length;xt++)Vt=q(ct,V,xt,P[xt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?xt:Vt.key),N=f(Vt,N,xt),Ht===null?ft=Vt:Ht.sibling=Vt,Ht=Vt);return e&&ct.forEach(function(js){return n(V,js)}),jt&&ji(V,xt),ft}function pt(V,N,P,Q){if(P==null)throw Error(a(151));for(var ft=null,Ht=null,ct=N,xt=N=0,Vt=null,Gt=P.next();ct!==null&&!Gt.done;xt++,Gt=P.next()){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var js=j(V,ct,Gt.value,Q);if(js===null){ct===null&&(ct=Vt);break}e&&ct&&js.alternate===null&&n(V,ct),N=f(js,N,xt),Ht===null?ft=js:Ht.sibling=js,Ht=js,ct=Vt}if(Gt.done)return s(V,ct),jt&&ji(V,xt),ft;if(ct===null){for(;!Gt.done;xt++,Gt=P.next())Gt=K(V,Gt.value,Q),Gt!==null&&(N=f(Gt,N,xt),Ht===null?ft=Gt:Ht.sibling=Gt,Ht=Gt);return jt&&ji(V,xt),ft}for(ct=l(ct);!Gt.done;xt++,Gt=P.next())Gt=q(ct,V,xt,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?xt:Gt.key),N=f(Gt,N,xt),Ht===null?ft=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ct.forEach(function(yS){return n(V,yS)}),jt&&ji(V,xt),ft}function ee(V,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;N!==null;){if(N.key===ft){if(ft=P.type,ft===st){if(N.tag===7){s(V,N.sibling),Q=h(N,P.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Or(ft)===N.type){s(V,N.sibling),Q=h(N,P.props),Pl(Q,P),Q.return=V,V=Q;break t}s(V,N);break}else n(V,N);N=N.sibling}P.type===st?(Q=Ir(P.props.children,V.mode,Q,P.key),Q.return=V,V=Q):(Q=Su(P.type,P.key,P.props,null,V.mode,Q),Pl(Q,P),Q.return=V,V=Q)}return p(V);case tt:t:{for(ft=P.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(V,N.sibling),Q=h(N,P.children||[]),Q.return=V,V=Q;break t}else{s(V,N);break}else n(V,N);N=N.sibling}Q=Hh(P,V.mode,Q),Q.return=V,V=Q}return p(V);case A:return P=Or(P),ee(V,N,P,Q)}if(se(P))return lt(V,N,P,Q);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(V,N,P,Q)}if(typeof P.then=="function")return ee(V,N,Nu(P),Q);if(P.$$typeof===gt)return ee(V,N,wu(V,P),Q);xu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(V,N.sibling),Q=h(N,P),Q.return=V,V=Q):(s(V,N),Q=qh(P,V.mode,Q),Q.return=V,V=Q),p(V)):s(V,N)}return function(V,N,P,Q){try{Ll=0;var ft=ee(V,N,P,Q);return Ea=null,ft}catch(ct){if(ct===va||ct===Iu)throw ct;var Ht=Tn(29,ct,null,V.mode);return Ht.lanes=Q,Ht.return=V,Ht}finally{}}}var Vr=qp(!0),Hp=qp(!1),As=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),Rp(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function sf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function jl(){if(rf){var e=_a;if(e!==null)throw e}}function Bl(e,n,s,l){rf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(l&j)===j){j!==0&&j===ya&&(rf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,pt=E;j=n;var ee=s;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){K=lt.call(ee,K,j);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,j=typeof lt=="function"?lt.call(ee,K,j):lt,j==null)break t;K=b({},K,j);break t;case 2:As=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),xs|=p,e.lanes=p,e.memoizedState=K}}function Gp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Fp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Gp(s[e],n)}var Ta=D(null),Du=D(0);function Qp(e,n){e=Zi,it(Du,e),it(Ta,n),Zi=e|n.baseLanes}function af(){it(Du,Zi),it(Ta,Ta.current)}function lf(){Zi=Du.current,Y(Ta),Y(Du)}var Sn=D(null),Pn=null;function Rs(e){var n=e.alternate;it(_e,_e.current&1),it(Sn,e),Pn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Pn=e)}function of(e){it(_e,_e.current),it(Sn,e),Pn===null&&(Pn=e)}function Yp(e){e.tag===22?(it(_e,_e.current),it(Sn,e),Pn===null&&(Pn=e)):Is()}function Is(){it(_e,_e.current),it(Sn,Sn.current)}function An(e){Y(Sn),Pn===e&&(Pn=null),Y(_e)}var _e=D(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Nt=null,Wt=null,Ce=null,Mu=!1,Sa=!1,kr=!1,Vu=0,ql=0,Aa=null,l1=0;function me(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!En(e[s],n[s]))return!1;return!0}function cf(e,n,s,l,h,f){return Hi=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?xg:wf,kr=!1,f=s(l,h),kr=!1,Sa&&(f=Xp(n,s,l,h)),Kp(e),f}function Kp(e){H.H=Fl;var n=Wt!==null&&Wt.next!==null;if(Hi=0,Ce=Wt=Nt=null,Mu=!1,ql=0,Aa=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&bu(e)&&(Ne=!0))}function Xp(e,n,s,l){Nt=e;var h=0;do{if(Sa&&(Aa=null),ql=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ce=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Dg,f=n(s,l)}while(Sa);return f}function o1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Nt.flags|=1024),n}function hf(){var e=Vu!==0;return Vu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Hi=0,Ce=Wt=Nt=null,Sa=!1,ql=Vu=0,Aa=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ce===null?Nt.memoizedState:Ce.next;if(n!==null)Ce=n,Wt=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Aa===null&&(Aa=[]),e=zp(Aa,e,n),n=Nt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?xg:wf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===gt)return Fe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Gi(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=ve();return pf(n,Wt,e)}function pf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Mt&K)===K:(Hi&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ya&&(G=!0);else if((Hi&j)===j){z=z.next,j===ya&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,Nt.lanes|=j,xs|=j;K=z.action,kr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,Nt.lanes|=K,xs|=K;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!En(f,e.memoizedState)&&(Ne=!0,G&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gf(e){var n=ve(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);En(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function $p(e,n,s){var l=Nt,h=ve(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!En((Wt||h).memoizedState,s);if(p&&(h.memoizedState=s,Ne=!0),h=h.queue,vf(Wp.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,ba(9,{destroy:void 0},Jp.bind(null,l,h,s,n),null),re===null)throw Error(a(349));f||(Hi&127)!==0||Zp(l,n,s)}return s}function Zp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=ku(),Nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Jp(e,n,s,l){n.value=s,n.getSnapshot=l,tg(n)&&eg(e)}function Wp(e,n,s){return s(function(){tg(n)&&eg(e)})}function tg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!En(e,s)}catch{return!0}}function eg(e){var n=Rr(e,2);n!==null&&mn(n,e,2)}function yf(e){var n=an();if(typeof e=="function"){var s=e;if(e=s(),kr){Cn(!0);try{s()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},n}function ng(e,n,s,l){return e.baseState=s,pf(e,Wt,typeof l=="function"?l:Gi)}function u1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ig(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ig(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),I=H.S;I!==null&&I(p,E),sg(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),sg(e,n,f)}catch(z){_f(e,n,z)}}function sg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){rg(e,n,l)},function(l){return _f(e,n,l)}):rg(e,n,s)}function rg(e,n,s){n.status="fulfilled",n.value=s,ag(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ig(e,s)))}function _f(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,ag(n),n=n.next;while(n!==l)}e.action=null}function ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lg(e,n){return n}function og(e,n){if(jt){var s=re.formState;if(s!==null){t:{var l=Nt;if(jt){if(le){e:{for(var h=le,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){le=zn(h.nextSibling),l=h.data==="F!";break t}}Ts(l)}l=!1}l&&(n=s[0])}}return s=an(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=l,s=Ig.bind(null,Nt,l),l.dispatch=s,l=yf(!1),f=bf.bind(null,Nt,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=u1.bind(null,Nt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function ug(e){var n=ve();return cg(n,Wt,e)}function cg(e,n,s){if(n=pf(e,n,lg)[0],e=Lu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(p){throw p===va?Iu:p}else l=n;n=ve();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,ba(9,{destroy:void 0},c1.bind(null,h,s),null)),[l,f,e]}function c1(e,n){e.action=n}function hg(e){var n=ve(),s=Wt;if(s!==null)return cg(n,s,e);ve(),n=n.memoizedState,s=ve();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ba(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=ku(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function fg(){return ve().memoizedState}function Pu(e,n,s,l){var h=an();Nt.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Wt!==null&&l!==null&&uf(l,Wt.memoizedState.deps)?h.memoizedState=ba(n,f,s,l):(Nt.flags|=e,h.memoizedState=ba(1|n,f,s,l))}function dg(e,n){Pu(8390656,8,e,n)}function vf(e,n){zu(2048,8,e,n)}function h1(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=ku(),Nt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function mg(e){var n=ve().memoizedState;return h1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pg(e,n){return zu(4,2,e,n)}function gg(e,n){return zu(4,4,e,n)}function yg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _g(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,yg.bind(null,n,e),s)}function Ef(){}function vg(e,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&uf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Eg(e,n){var s=ve();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&uf(n,l[1]))return l[0];if(l=e(),kr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[l,n],l}function Tf(e,n,s){return s===void 0||(Hi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ty(),Nt.lanes|=e,xs|=e,s)}function Tg(e,n,s,l){return En(s,n)?s:Ta.current!==null?(e=Tf(e,s,l),En(e,n)||(Ne=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Mt&261930)===0?(Ne=!0,e.memoizedState=s):(e=Ty(),Nt.lanes|=e,xs|=e,n)}function Sg(e,n,s,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,bf(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=a1(I,l);Gl(e,n,G,Rn(e))}else Gl(e,n,l,Rn(e))}catch(K){Gl(e,n,{then:function(){},status:"rejected",reason:K},Rn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function f1(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ot,s===null?f1:function(){return bg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Rn())}function Af(){return Fe(lo)}function wg(){return ve().memoizedState}function Rg(){return ve().memoizedState}function d1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Rn();e=bs(s);var l=ws(n,e,s);l!==null&&(mn(l,n,s),zl(l,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function m1(e,n,s){var l=Rn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Cg(n,s):(s=jh(e,n,s,l),s!==null&&(mn(s,e,l),Ng(s,n,l)))}function Ig(e,n,s){var l=Rn();Gl(e,n,s,l)}function Gl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Cg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,En(E,p))return Eu(e,n,h,0),re===null&&vu(),!1}catch{}finally{}if(s=jh(e,n,h,l),s!==null)return mn(s,e,l),Ng(s,n,l),!0}return!1}function bf(e,n,s,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=jh(e,s,l,2),n!==null&&mn(n,e,2)}function ju(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function Cg(e,n){Sa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ng(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Fl={readContext:Fe,use:Uu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Fl.useEffectEvent=me;var xg={readContext:Fe,use:Uu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:dg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,yg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=an();n=n===void 0?null:n;var l=e();if(kr){Cn(!0);try{e()}finally{Cn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=an();if(s!==void 0){var h=s(n);if(kr){Cn(!0);try{s(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=m1.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=Ig.bind(null,Nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=an();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=Sg.bind(null,Nt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Nt,h=an();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),re===null)throw Error(a(349));(Mt&127)!==0||Zp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dg(Wp.bind(null,l,f,e),[e]),l.flags|=2048,ba(9,{destroy:void 0},Jp.bind(null,l,f,s,n),null),s},useId:function(){var e=an(),n=re.identifierPrefix;if(jt){var s=Ai,l=Si;s=(l&~(1<<32-ge(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=l1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:og,useActionState:og,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,Nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return an().memoizedState=d1.bind(null,Nt)},useEffectEvent:function(e){var n=an(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:Fe,use:Uu,useCallback:vg,useContext:Fe,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:Lu,useRef:fg,useState:function(){return Lu(Gi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ve();return Tg(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Lu(Gi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e,n){var s=ve();return ng(s,Wt,e,n)},useMemoCache:mf,useCacheRefresh:Rg};wf.useEffectEvent=mg;var Dg={readContext:Fe,use:Uu,useCallback:vg,useContext:Fe,useEffect:vf,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:gf,useRef:fg,useState:function(){return gf(Gi)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ve();return Wt===null?Tf(s,e,n):Tg(s,Wt.memoizedState,e,n)},useTransition:function(){var e=gf(Gi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:$p,useId:wg,useHostTransitionStatus:Af,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var s=ve();return Wt!==null?ng(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:Rg};Dg.useEffectEvent=mg;function Rf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var If={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=bs(l);h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,l),n!==null&&(mn(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Rn(),h=bs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,l),n!==null&&(mn(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Rn(),l=bs(s);l.tag=2,n!=null&&(l.callback=n),n=ws(e,l,s),n!==null&&(mn(n,e,s),zl(n,e,s))}};function Og(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,l)||!Dl(h,f):!0}function Mg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&If.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Vg(e){_u(e)}function kg(e){console.error(e)}function Ug(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Pg(e){return e=bs(e),e.tag=3,e}function zg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Lg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Lg(n,s,l),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function p1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Wu():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Cu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wf(e,l,h)),!1;case 22:return s.flags|=65536,l===Cu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wf(e,l,h)),!1}throw Error(a(435,s.tag))}return Wf(e,l,h),Wu(),!1}if(jt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(e=Error(a(422),{cause:l}),Vl(Vn(e,s)))):(l!==Qh&&(n=Error(a(423),{cause:l}),Vl(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,s),h=Cf(e.stateNode,l,h),sf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,s),Wl===null?Wl=[f]:Wl.push(f),pe!==4&&(pe=2),n===null)return!0;l=Vn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,l,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pg(h),zg(h,e,s,l),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Ne=!1;function Qe(e,n,s,l){n.child=e===null?Hp(n,null,s,l):Vr(n,e.child,s,l)}function jg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return xr(n),l=cf(e,n,s,p,f,h),E=hf(),e!==null&&!Ne?(ff(e,n,h),Fi(e,n,h)):(jt&&E&&Gh(n),n.flags|=1,Qe(e,n,l,h),n.child)}function Bg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qg(e,n,f,l,h)):(e=Su(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(p,l)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=zi(f,l),e.ref=n.ref,e.return=n,n.child=e}function qg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Dl(f,l)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Lf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return xf(e,n,s,l,h)}function Hg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):af(),Yp(n);else return l=n.lanes=536870912,Gg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),Qp(n,f),Is(),n.memoizedState=null):(e!==null&&Ru(n,null),af(),Is());return Qe(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(e,n,s,l,h){var f=Wh();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),af(),Yp(n),e!==null&&ga(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fg(e,n,s){return Vr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function g1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Ql(null,e);if(of(n),(e=le)?(e=i_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Cp(e),s.return=n,n.child=s,Ge=n,le=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Fg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(l=re,l!==null&&(p=dl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Rr(e,p),mn(l,e,p),Nf;Wu(),n=Fg(e,n,s)}else e=f.treeContext,le=zn(p.nextSibling),Ge=n,jt=!0,Es=null,Ln=!1,e!==null&&Dp(n,e),n=qu(n,l),n.flags|=4096;return n}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function xf(e,n,s,l,h){return xr(n),s=cf(e,n,s,l,void 0,h),l=hf(),e!==null&&!Ne?(ff(e,n,h),Fi(e,n,h)):(jt&&l&&Gh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function Qg(e,n,s,l,h,f){return xr(n),n.updateQueue=null,s=Xp(n,l,s,h),Kp(e),l=hf(),e!==null&&!Ne?(ff(e,n,f),Fi(e,n,f)):(jt&&l&&Gh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function Yg(e,n,s,l,h){if(xr(n),n.stateNode===null){var f=fa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Fe(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ef(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Fe(p):fa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Rf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),Bl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Ur(s,E);f.props=I;var z=f.context,G=s.contextType;p=fa,typeof G=="object"&&G!==null&&(p=Fe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Mg(n,f,l,p),As=!1;var j=n.memoizedState;f.state=j,Bl(n,l,f,h),jl(),z=n.memoizedState,E||j!==z||As?(typeof K=="function"&&(Rf(n,s,K,l),z=n.memoizedState),(I=As||Og(n,s,I,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(e,n),p=n.memoizedProps,G=Ur(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,I=fa,typeof z=="object"&&z!==null&&(I=Fe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==I)&&Mg(n,f,l,I),As=!1,j=n.memoizedState,f.state=j,Bl(n,l,f,h),jl();var q=n.memoizedState;p!==K||j!==q||As||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,l),q=n.memoizedState),(G=As||Og(n,s,G,l,j,q,I)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function Kg(e,n,s,l){return Cr(),n.flags|=256,Qe(e,n,s,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Lp()}}function Mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=wn),e}function Xg(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Rs(n):Is(),(e=le)?(e=i_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Cp(e),s.return=n,n.child=s,Ge=n,le=null)):e=null,e===null)throw Ts(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Is(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=Ir(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,p,s),n.memoizedState=Df,Ql(null,l)):(Rs(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=Ir(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Vr(n,e.child,null,s),l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,p,s),n.memoizedState=Df,n=Ql(null,l));else if(Rs(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Vl({value:l,source:null,stack:null}),n=kf(e,n,s)}else if(Ne||ga(e,n,s,!1),p=(s&e.childLanes)!==0,Ne||p){if(p=re,p!==null&&(l=dl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Rr(e,l),mn(p,e,l),Nf;md(E)||Wu(),n=kf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,le=zn(E.nextSibling),Ge=n,jt=!0,Es=null,Ln=!1,e!==null&&Dp(n,e),n=Vf(n,l.children),n.flags|=4096);return n}return h?(Is(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=zi(z,E):(E=Ir(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(I=Ie._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Lp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Mf(e,p,s),n.memoizedState=Df,Ql(e.child,l)):(Rs(n),s=e.child,e=s.sibling,s=zi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=Tn(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return Vr(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $g(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xh(e.return,n,s)}function Uf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Zg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=_e.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(_e,p),Qe(e,n,l,s),l=jt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,s,n);else if(e.tag===19)$g(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,f,l);break;case"together":Uf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function y1(e,n,s){switch(n.tag){case 3:X(n,n.stateNode.containerInfo),Ss(n,Ie,e.memoizedState.cache),Cr();break;case 27:case 5:It(n);break;case 4:X(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xg(e,n,s):(Rs(n),e=Fi(e,n,s),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ga(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Zg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(_e,_e.current),l)break;return null;case 22:return n.lanes=0,Hg(e,n,s,n.pendingProps);case 24:Ss(n,Ie,e.memoizedState.cache)}return Fi(e,n,s)}function Jg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Ne=!1,y1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&xp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Bh(e)?(l=Ur(e,l),n.tag=1,n=Yg(null,n,e,l,s)):(n.tag=0,n=xf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=jg(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=Bg(null,n,e,l,s);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Ur(l,n.pendingProps),Yg(e,n,l,h,s);case 3:t:{if(X(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Bl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Ss(n,Ie,l),l!==f.cache&&$h(n,[Ie],s,!0),jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kg(e,n,l,s);break t}else if(l!==h){h=Vn(Error(a(424)),n),Vl(h),n=Kg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=zn(e.firstChild),Ge=n,jt=!0,Es=null,Ln=!0,s=Hp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Cr(),l===h){n=Fi(e,n,s);break t}Qe(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,l=ac(vt.current).createElement(s),l[be]=n,l[Pe]=e,Ye(l,s,e),we(l),n.stateNode=l):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return It(n),e===null&&jt&&(l=n.stateNode=a_(n.type,n.pendingProps,vt.current),Ge=n,Ln=!0,h=le,ks(n.type)?(gd=h,le=zn(l.firstChild)):le=h),Qe(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=l=le)&&(l=Y1(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ge=n,le=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||Ts(n)),It(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,hd(h,f)?l=null:p!==null&&hd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,o1,null,null,s),lo._currentValue=h),Hu(e,n),Qe(e,n,l,s),n.child;case 6:return e===null&&jt&&((e=s=le)&&(s=K1(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Ge=n,le=null,e=!0):e=!1),e||Ts(n)),null;case 13:return Xg(e,n,s);case 4:return X(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vr(n,null,l,s):Qe(e,n,l,s),n.child;case 11:return jg(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ss(n,n.type,l.value),Qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=Fe(h),l=l(h),n.flags|=1,Qe(e,n,l,s),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,s);case 15:return qg(e,n,n.type,n.pendingProps,s);case 19:return Zg(e,n,s);case 31:return g1(e,n,s);case 22:return Hg(e,n,s,n.pendingProps);case 24:return xr(n),l=Fe(Ie),e===null?(h=Wh(),h===null&&(h=re,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},ef(n),Ss(n,Ie,h)):((e.lanes&s)!==0&&(nf(e,n),Bl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,Ie,l)):(l=f.cache,Ss(n,Ie,l),l!==h.cache&&$h(n,[Ie],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Qi(e){e.flags|=4}function Pf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Mr=Cu,tf}else e.flags&=-16777217}function Wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(wy())e.flags|=8192;else throw Mr=Cu,tf}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zo():536870912,e.lanes|=n,Ca|=n)}function Yl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function _1(e,n,s){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qi(Ie),J(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(oe(n),Wg(n,f)):(oe(n),Pf(n,h,null,l,s))):f?f!==e.memoizedState?(Qi(n),oe(n),Wg(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Qi(n),oe(n),Pf(n,h,e,l,s)),null;case 27:if(ut(n),s=vt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=rt.current,pa(n)?Op(n):(e=a_(h,l,s),n.stateNode=e,Qi(n))}return oe(n),null;case 5:if(ut(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=rt.current,pa(n))Op(n);else{var p=ac(vt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[be]=n,f[Pe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ye(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Qi(n)}}return oe(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=vt.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[be]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Xy(e.nodeValue,s)),e||Ts(n,!0)}else e=ac(e).createTextNode(l),e[be]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=pa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[be]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[be]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),oe(n),null);case 4:return J(),e===null&&ad(n.stateNode.containerInfo),oe(n),null;case 10:return qi(n.type),oe(n),null;case 19:if(Y(_e),l=n.memoizedState,l===null)return oe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ip(s,e),s=s.sibling;return it(_e,_e.current&1|2),jt&&ji(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&sn()>$u&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!jt)return oe(n),null}else 2*sn()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=sn(),e.sibling=null,s=_e.current,it(_e,h?s&1|2:s&1),jt&&ji(n,l.treeForkCount),e):(oe(n),null);case 22:case 23:return An(n),lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Dr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),qi(Ie),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(Ie),J(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ut(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(_e),null;case 4:return J(),null;case 10:return qi(n.type),null;case 22:case 23:return An(n),lf(),e!==null&&Y(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(Ie),null;case 25:return null;default:return null}}function ty(e,n){switch(Fh(n),n.tag){case 3:qi(Ie),J();break;case 26:case 27:case 5:ut(n);break;case 4:J();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(_e);break;case 10:qi(n.type);break;case 22:case 23:An(n),lf(),e!==null&&Y(Dr);break;case 24:qi(Ie)}}function Kl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){Zt(n,n.return,E)}}function Cs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Zt(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){Zt(n,n.return,G)}}function ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Fp(n,s)}catch(l){Zt(e,e.return,l)}}}function ny(e,n,s){s.props=Ur(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Zt(e,n,h)}}function bi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,n,h)}else s.current=null}function iy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function zf(e,n,s){try{var l=e.stateNode;B1(l,e.type,s,n),l[Pe]=n}catch(h){Zt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(l!==4&&(l===27&&ks(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&ks(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function ry(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ye(n,l,s),n[be]=e,n[Pe]=s}catch(f){Zt(e,e.return,f)}}var Yi=!1,xe=!1,qf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,je=null;function E1(e,n){if(e=e.containerInfo,ud=dc,e=_p(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(I=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===l&&(I=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},dc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=Ur(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Zt(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function ly(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Xi(e,s),l&4&&Kl(5,s);break;case 1:if(Xi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Zt(s,s.return,p)}else{var h=Ur(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(s,s.return,p)}}l&64&&ey(s),l&512&&Xl(s,s.return);break;case 3:if(Xi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fp(e,n)}catch(p){Zt(s,s.return,p)}}break;case 27:n===null&&l&4&&ry(s);case 26:case 5:Xi(e,s),n===null&&l&4&&iy(s),l&512&&Xl(s,s.return);break;case 12:Xi(e,s);break;case 31:Xi(e,s),l&4&&cy(e,s);break;case 13:Xi(e,s),l&4&&hy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N1.bind(null,s),X1(e,s))));break;case 22:if(l=s.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||xe,h=Yi;var f=xe;Yi=l,(xe=n)&&!f?$i(e,s,(s.subtreeFlags&8772)!==0):Xi(e,s),Yi=h,xe=f}break;case 30:break;default:Xi(e,s)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,cn=!1;function Ki(e,n,s){for(s=s.child;s!==null;)uy(e,n,s),s=s.sibling}function uy(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:xe||bi(s,n),Ki(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||bi(s,n);var l=he,h=cn;ks(s.type)&&(he=s.stateNode,cn=!1),Ki(e,n,s),so(s.stateNode),he=l,cn=h;break;case 5:xe||bi(s,n);case 6:if(l=he,h=cn,he=null,Ki(e,n,s),he=l,cn=h,he!==null)if(cn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){Zt(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){Zt(s,n,f)}break;case 18:he!==null&&(cn?(e=he,e_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):e_(he,s.stateNode));break;case 4:l=he,h=cn,he=s.stateNode.containerInfo,cn=!0,Ki(e,n,s),he=l,cn=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),xe||Cs(4,s,n),Ki(e,n,s);break;case 1:xe||(bi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ny(s,n,l)),Ki(e,n,s);break;case 21:Ki(e,n,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,Ki(e,n,s),xe=l;break;default:Ki(e,n,s)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Zt(n,n.return,s)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Zt(n,n.return,s)}}function T1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Yu(e,n){var s=T1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=x1.bind(null,e,l);l.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){he=E.stateNode,cn=!1;break t}break;case 5:he=E.stateNode,cn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(he===null)throw Error(a(160));uy(f,p,h),he=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Jn=null;function fy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),l&4&&(Cs(3,e,e.return),Kl(3,e),Cs(5,e,e.return));break;case 1:hn(n,e),fn(e),l&512&&(xe||s===null||bi(s,s.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Jn;if(hn(n,e),fn(e),l&512&&(xe||s===null||bi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,l,s),f[be]=e,we(f),l=f;break t;case"link":var p=f_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;case"meta":if(p=f_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[be]=e,we(f),l=f}e.stateNode=l}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?d_(h,e.type,e.stateNode):h_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),l&512&&(xe||s===null||bi(s,s.return)),s!==null&&l&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),l&512&&(xe||s===null||bi(s,s.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(lt){Zt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(hn(n,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Zt(e,e.return,lt)}}break;case 3:if(uc=null,h=Jn,Jn=lc(n.containerInfo),hn(n,e),Jn=h,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(lt){Zt(e,e.return,lt)}qf&&(qf=!1,dy(e));break;case 4:l=Jn,Jn=lc(e.stateNode.containerInfo),hn(n,e),fn(e),Jn=l;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Yi,G=xe;if(Yi=z||h,xe=G||I,hn(n,e),xe=G,Yi=z,fn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Yi||xe||Lr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Zt(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Zt(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?n_(q,!0):n_(I.stateNode,!1)}catch(lt){Zt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yu(e,s))));break;case 19:hn(n,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(sy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Qu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(un(p,""),s.flags&=-33);var E=jf(e);Qu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=jf(e);Bf(e,z,I);break;default:throw Error(a(161))}}catch(G){Zt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Lr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Lr(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Lr(n);break;case 27:so(n.stateNode);case 26:case 5:bi(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}e=e.sibling}}function $i(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,s),Kl(4,f);break;case 1:if($i(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gp(I[h],E)}catch(z){Zt(l,l.return,z)}}s&&p&64&&ey(f),Xl(f,f.return);break;case 27:ry(f);case 26:case 5:$i(h,f,s),s&&l===null&&p&4&&iy(f),Xl(f,f.return);break;case 12:$i(h,f,s);break;case 31:$i(h,f,s),s&&p&4&&cy(h,f);break;case 13:$i(h,f,s),s&&p&4&&hy(h,f);break;case 22:f.memoizedState===null&&$i(h,f,s),Xl(f,f.return);break;case 30:break;default:$i(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function Wn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,s,l),n=n.sibling}function my(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,l),h&2048&&Kl(9,n);break;case 1:Wn(e,n,s,l);break;case 3:Wn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){Wn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(n,n.return,I)}}else Wn(e,n,s,l);break;case 31:Wn(e,n,s,l);break;case 13:Wn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,l):$l(e,n):f._visibility&2?Wn(e,n,s,l):(f._visibility|=2,wa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(p,n);break;case 24:Wn(e,n,s,l),h&2048&&Gf(n.alternate,n);break;default:Wn(e,n,s,l)}}function wa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,I,h),Kl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?wa(f,p,E,I,h):$l(f,p):(G._visibility|=2,wa(f,p,E,I,h)),h&&z&2048&&Hf(p.alternate,p);break;case 24:wa(f,p,E,I,h),h&&z&2048&&Gf(p.alternate,p);break;default:wa(f,p,E,I,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Hf(l.alternate,l);break;case 24:$l(s,l),h&2048&&Gf(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Zl=8192;function Ra(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)py(e,n,s),e=e.sibling}function py(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&Zl&&e.memoizedState!==null&&lS(s,Jn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var l=Jn;Jn=lc(e.stateNode.containerInfo),Ra(e,n,s),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,Ra(e,n,s),Zl=l):Ra(e,n,s));break;default:Ra(e,n,s)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,_y(l,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Jl(e);break;default:Jl(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,_y(l,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function _y(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=e;je!==null;){l=je;var h=l.sibling,f=l.return;if(oy(l),l===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var S1={getCacheForType:function(e){var n=Fe(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(Ie).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Dt=null,Mt=0,$t=0,bn=null,Ns=!1,Ia=!1,Ff=!1,Zi=0,pe=0,xs=0,Pr=0,Qf=0,wn=0,Ca=0,Wl=null,dn=null,Yf=!1,Xu=0,vy=0,$u=1/0,Zu=null,Ds=null,ke=0,Os=null,Na=null,Ji=0,Kf=0,Xf=null,Ey=null,to=0,$f=null;function Rn(){return(Yt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?nd():Jo()}function Ty(){if(wn===0)if((Mt&536870912)===0||jt){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function mn(e,n,s){(e===re&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Ms(e,Mt,wn,!1)),fr(e,s),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(Pr|=s),pe===4&&Ms(e,Mt,wn,!1)),wi(e))}function Sy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=l?R1(e,n):Jf(e,n,!0),f=l;do{if(h===0){Ia&&!l&&Ms(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!b1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Wl;var I=E.current.memoizedState.isDehydrated;if(I&&(xa(E,p).flags|=256),p=Jf(E,p,!1),p!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Ms(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,wn,!Ns);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-sn(),10<h)){if(Ms(l,n,wn,!Ns),li(l,0,!0)!==0)break t;Ji=n,l.timeoutHandle=Wy(Ay.bind(null,l,s,dn,Zu,Yf,n,wn,Pr,Ca,Ns,f,"Throttled",-0,0),h);break t}Ay(l,s,dn,Zu,Yf,n,wn,Pr,Ca,Ns,f,null,-0,0)}}break}while(!0);wi(e)}function Ay(e,n,s,l,h,f,p,E,I,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},py(n,f,K);var lt=(f&62914560)===f?Xu-sn():(f&4194048)===f?vy-sn():0;if(lt=oS(K,lt),lt!==null){Ji=f,e.cancelPendingCommit=lt(Dy.bind(null,e,n,f,s,l,h,p,E,I,G,K,null,j,q)),Ms(e,f,p,!z);return}}Dy(e,n,f,s,l,h,p,E,I)}function b1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!En(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,s,l){n&=~Qf,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&dr(e,s,n)}function Ju(){return(Yt&6)===0?(eo(0),!1):!0}function Zf(){if(Dt!==null){if($t===0)var e=Dt.return;else e=Dt,Bi=Nr=null,df(e),Ea=null,Ll=0,e=Dt;for(;e!==null;)ty(e.alternate,e),e=e.return;Dt=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,G1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ji=0,Zf(),re=e,Dt=s=zi(e.current,null),Mt=n,$t=0,bn=null,Ns=!1,Ia=Hn(e,n),Ff=!1,Ca=wn=Qf=Pr=xs=pe=0,dn=Wl=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ge(l),f=1<<h;n|=e[h],l&=~f}return Zi=n,vu(),s}function by(e,n){Nt=null,H.H=Fl,n===va||n===Iu?(n=jp(),$t=3):n===tf?(n=jp(),$t=4):$t=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Dt===null&&(pe=1,Bu(e,Vn(n,e.current)))}function wy(){var e=Sn.current;return e===null?!0:(Mt&4194048)===Mt?Pn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Pn:!1}function Ry(){var e=H.H;return H.H=Fl,e===null?Fl:e}function Iy(){var e=H.A;return H.A=S1,e}function Wu(){pe=4,Ns||(Mt&4194048)!==Mt&&Sn.current!==null||(Ia=!0),(xs&134217727)===0&&(Pr&134217727)===0||re===null||Ms(re,Mt,wn,!1)}function Jf(e,n,s){var l=Yt;Yt|=2;var h=Ry(),f=Iy();(re!==e||Mt!==n)&&(Zu=null,xa(e,n)),n=!1;var p=pe;t:do try{if($t!==0&&Dt!==null){var E=Dt,I=bn;switch($t){case 8:Zf(),p=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=$t;if($t=0,bn=null,Da(e,E,I,z),s&&Ia){p=0;break t}break;default:z=$t,$t=0,bn=null,Da(e,E,I,z)}}w1(),p=pe;break}catch(G){by(e,G)}while(!0);return n&&e.shellSuspendCounter++,Bi=Nr=null,Yt=l,H.H=h,H.A=f,Dt===null&&(re=null,Mt=0,vu()),p}function w1(){for(;Dt!==null;)Cy(Dt)}function R1(e,n){var s=Yt;Yt|=2;var l=Ry(),h=Iy();re!==e||Mt!==n?(Zu=null,$u=sn()+500,xa(e,n)):Ia=Hn(e,n);t:do try{if($t!==0&&Dt!==null){n=Dt;var f=bn;e:switch($t){case 1:$t=0,bn=null,Da(e,n,f,1);break;case 2:case 9:if(Pp(f)){$t=0,bn=null,Ny(n);break}n=function(){$t!==2&&$t!==9||re!==e||($t=7),wi(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Pp(f)?($t=0,bn=null,Ny(n)):($t=0,bn=null,Da(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?m_(p):E.stateNode.complete){$t=0,bn=null;var I=E.sibling;if(I!==null)Dt=I;else{var z=E.return;z!==null?(Dt=z,tc(z)):Dt=null}break e}}$t=0,bn=null,Da(e,n,f,5);break;case 6:$t=0,bn=null,Da(e,n,f,6);break;case 8:Zf(),pe=6;break t;default:throw Error(a(462))}}I1();break}catch(G){by(e,G)}while(!0);return Bi=Nr=null,H.H=l,H.A=h,Yt=s,Dt!==null?0:(re=null,Mt=0,vu(),pe)}function I1(){for(;Dt!==null&&!Ih();)Cy(Dt)}function Cy(e){var n=Jg(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,n===null?tc(e):Dt=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Qg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Qg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:df(n);default:ty(s,n),n=Dt=Ip(n,Zi),n=Jg(s,n,Zi)}e.memoizedProps=e.pendingProps,n===null?tc(e):Dt=n}function Da(e,n,s,l){Bi=Nr=null,df(n),Ea=null,Ll=0;var h=n.return;try{if(p1(e,h,n,s,Mt)){pe=1,Bu(e,Vn(s,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;pe=1,Bu(e,Vn(s,e.current)),Dt=null;return}n.flags&32768?(jt||l===1?e=!0:Ia||(Mt&536870912)!==0?e=!1:(Ns=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){xy(n,Ns);return}e=n.return;var s=_1(n.alternate,n,Zi);if(s!==null){Dt=s;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);pe===0&&(pe=5)}function xy(e,n){do{var s=v1(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);pe=6,Dt=null}function Dy(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do ec();while(ke!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,xh(e,s,f,p,E,I),e===re&&(Dt=re=null,Mt=0),Na=n,Os=e,Ji=s,Kf=f,Xf=h,Ey=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(us,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=nt.p,nt.p=2,p=Yt,Yt|=4;try{E1(e,n,s)}finally{Yt=p,nt.p=h,H.T=l}}ke=1,Oy(),My(),Vy()}}function Oy(){if(ke===1){ke=0;var e=Os,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var h=Yt;Yt|=4;try{fy(n,e);var f=cd,p=_p(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&yp(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,pt=Math.min(I.start,lt),ee=I.end===void 0?pt:Math.min(I.end,lt);!q.extend&&pt>ee&&(p=ee,ee=pt,pt=p);var V=gp(E,pt),N=gp(E,ee);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=K.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),pt>ee?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}dc=!!ud,cd=ud=null}finally{Yt=h,nt.p=l,H.T=s}}e.current=n,ke=2}}function My(){if(ke===2){ke=0;var e=Os,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=nt.p;nt.p=2;var h=Yt;Yt|=4;try{ly(e,n.alternate,n)}finally{Yt=h,nt.p=l,H.T=s}}ke=3}}function Vy(){if(ke===4||ke===3){ke=0,Fo();var e=Os,n=Na,s=Ji,l=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Na=Os=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),ki(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(Ji&3)!==0&&ec(),wi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?to++:(to=0,$f=e):to=0,eo(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function ec(){return Oy(),My(),Vy(),Uy()}function Uy(){if(ke!==5)return!1;var e=Os,n=Kf;Kf=0;var s=ki(Ji),l=H.T,h=nt.p;try{nt.p=32>s?32:s,H.T=null,s=Xf,Xf=null;var f=Os,p=Ji;if(ke=0,Na=Os=null,Ji=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,yy(f.current),my(f,f.current,p,s),Yt=E,eo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{nt.p=h,H.T=l,ky(e,n)}}function Ly(e,n,s){n=Vn(s,n),n=Cf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(fr(e,2),wi(e))}function Zt(e,n,s){if(e.tag===3)Ly(e,e,s);else for(;n!==null;){if(n.tag===3){Ly(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ds===null||!Ds.has(l))){e=Vn(s,e),s=Pg(2),l=ws(n,s,2),l!==null&&(zg(s,l,n,e),fr(l,2),wi(l));break}}n=n.return}}function Wf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new A1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=C1.bind(null,e,n,s),n.then(e,e))}function C1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(Mt&s)===s&&(pe===4||pe===3&&(Mt&62914560)===Mt&&300>sn()-Xu?(Yt&2)===0&&xa(e,0):Qf|=s,Ca===Mt&&(Ca=0)),wi(e)}function Py(e,n){n===0&&(n=Zo()),e=Rr(e,n),e!==null&&(fr(e,n),wi(e))}function N1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(e,s)}function x1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Py(e,s)}function D1(e,n){return Ve(e,n)}var nc=null,Oa=null,td=!1,ic=!1,ed=!1,Vs=0;function wi(e){e!==Oa&&e.next===null&&(Oa===null?nc=Oa=e:Oa=Oa.next=e),ic=!0,td||(td=!0,M1())}function eo(e,n){if(!ed&&ic){ed=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(l,f))}else f=Mt,f=li(l,l===re?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hn(l,f)||(s=!0,qy(l,f));l=l.next}while(s);ed=!1}}function O1(){zy()}function zy(){ic=td=!1;var e=0;Vs!==0&&H1()&&(e=Vs);for(var n=sn(),s=null,l=nc;l!==null;){var h=l.next,f=jy(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(Oa=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}ke!==0&&ke!==5||eo(e),Vs!==0&&(Vs=0)}function jy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-ge(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=re,s=Mt,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&os(l),ki(s)){case 2:case 8:s=hl;break;case 32:s=us;break;case 268435456:s=Qo;break;default:s=us}return l=By.bind(null,e),s=Ve(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&os(l),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Mt;return l=li(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),jy(e,sn()),e.callbackNode!=null&&e.callbackNode===s?By.bind(null,e):null)}function qy(e,n){if(ec())return null;Sy(e,n,!0)}function M1(){F1(function(){(Yt&6)!==0?Ve(cl,O1):zy()})}function nd(){if(Vs===0){var e=ya;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Vs=e}return Vs}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Gy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[Pe]||null).action),p=l.submitter;p&&(n=(n=p[Pe]||null)?Hy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new _i("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var I=p?Gy(h,p):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Gy(h,p):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],k1=sd.toLowerCase(),U1=sd[0].toUpperCase()+sd.slice(1);Zn(k1,"on"+U1)}Zn(Tp,"onAnimationEnd"),Zn(Sp,"onAnimationIteration"),Zn(Ap,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(JT,"onTransitionRun"),Zn(WT,"onTransitionStart"),Zn(t1,"onTransitionCancel"),Zn(bp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Fy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=I}}}}function Ot(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||(Qy(n,e,2,!1),s.add(l))}function rd(e,n,s){var l=0;n&&(l|=4),Qy(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[sc]){e[sc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(L1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,rd("selectionchange",!1,n))}}function Qy(e,n,s,l){switch(T_(n)){case 2:var h=hS;break;case 8:h=fS;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!_r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=hi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ps(function(){var z=f,G=xn(s),K=[];t:{var j=wp.get(e);if(j!==void 0){var q=_i,lt=e;switch(e){case"keypress":if(Er(s)===0)break t;case"keydown":case"keyup":q=pu;break;case"focusin":lt="focus",q=Sr;break;case"focusout":lt="blur",q=Sr;break;case"beforeblur":case"afterblur":q=Sr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tp:case Sp:case Ap:q=ou;break;case bp:q=T;break;case"scroll":case"scrollend":q=Rl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Pi;break;case"toggle":case"beforetoggle":q=Ct}var pt=(n&4)!==0,ee=!pt&&(e==="scroll"||e==="scrollend"),V=pt?j!==null?j+"Capture":null:j;pt=[];for(var N=z,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||V===null||(Q=Yn(N,V),Q!=null&&pt.push(io(N,Q,P))),ee)break;N=N.return}0<pt.length&&(j=new q(j,lt,null,s,G),K.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Al&&(lt=s.relatedTarget||s.fromElement)&&(hi(lt)||lt[ui]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=z,lt=lt?hi(lt):null,lt!==null&&(ee=c(lt),pt=lt.tag,lt!==ee||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(pt=Il,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Pi,Q="onPointerLeave",V="onPointerEnter",N="pointer"),ee=q==null?j:_n(q),P=lt==null?j:_n(lt),j=new pt(Q,N+"leave",q,s,G),j.target=ee,j.relatedTarget=P,Q=null,hi(G)===z&&(pt=new pt(V,N+"enter",lt,s,G),pt.target=P,pt.relatedTarget=ee,Q=pt),ee=Q,q&&lt)e:{for(pt=P1,V=q,N=lt,P=0,Q=V;Q;Q=pt(Q))P++;Q=0;for(var ft=N;ft;ft=pt(ft))Q++;for(;0<P-Q;)V=pt(V),P--;for(;0<Q-P;)N=pt(N),Q--;for(;P--;){if(V===N||N!==null&&V===N.alternate){pt=V;break e}V=pt(V),N=pt(N)}pt=null}else pt=null;q!==null&&Yy(K,j,q,pt,!1),lt!==null&&ee!==null&&Yy(K,ee,lt,pt,!0)}}t:{if(j=z?_n(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Ht=cp;else if(op(j))if(hp)Ht=XT;else{Ht=YT;var ct=QT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(Ht=cp):Ht=KT;if(Ht&&(Ht=Ht(e,z))){up(K,Ht,s,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&El(j,"number",j.value)}switch(ct=z?_n(z):window,e){case"focusin":(op(ct)||ct.contentEditable==="true")&&(ua=ct,kh=z,Ol=null);break;case"focusout":Ol=kh=ua=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,vp(K,s,G);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":vp(K,s,G)}var xt;if(Qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else oa?Ar(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ti&&s.locale!=="ko"&&(oa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&oa&&(xt=wl()):(yi=G,bl="value"in yi?yi.value:yi.textContent,oa=!0)),ct=rc(z,Vt),0<ct.length&&(Vt=new Ei(Vt,e,null,s,G),K.push({event:Vt,listeners:ct}),xt?Vt.data=xt:(xt=la(s),xt!==null&&(Vt.data=xt)))),(xt=On?qT(e,s):HT(e,s))&&(Vt=rc(z,"onBeforeInput"),0<Vt.length&&(ct=new Ei("onBeforeInput","beforeinput",null,s,G),K.push({event:ct,listeners:Vt}),ct.data=xt)),V1(K,e,z,s,G)}Fy(K,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&l.unshift(io(e,h,f)),h=Yn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Yn(s,f),z!=null&&p.unshift(io(s,z,I))):h||(z=Yn(s,f),z!=null&&p.push(io(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var z1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(z1,`
`).replace(j1,"")}function Xy(e,n){return n=Ky(n),Ky(e)===n}function te(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=na(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Wr(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,Wr(e,s,l))}}function od(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Wr(e,s,l)}}}function Ye(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,p,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),l&&te(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:te(e,n,l,G,s,null)}}nu(e,f,E,I,z,p,h,!1);return;case"select":Ot("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:te(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?hs(e,!!l,n,!1):s!=null&&hs(e,!!l,s,!0);return;case"textarea":Ot("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:te(e,n,p,E,s,null)}fs(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,n,I,l,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Ot(no[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,z,l,s,null)}return;default:if(ea(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&od(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&te(e,n,E,l,s,null))}function B1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||te(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&te(e,n,j,q,l,K)}}ta(e,p,E,I,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||te(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&te(e,n,h,f,l,I)}n=E,s=p,l=q,j!=null?hs(e,!!s,j,!1):!!l!=!!s&&(n!=null?hs(e,!!s,n,!0):hs(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,p,h,l,f)}iu(e,j,q);return;case"option":for(var lt in s)if(j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:te(e,n,lt,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:te(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&te(e,n,pt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:te(e,n,z,j,l,q)}return;default:if(ea(n)){for(var ee in s)j=s[ee],s.hasOwnProperty(ee)&&j!==void 0&&!l.hasOwnProperty(ee)&&od(e,n,ee,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||od(e,n,G,j,l,q);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&te(e,n,V,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||te(e,n,K,j,l,q)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&$y(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&$y(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function H1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(Q1)}:Wy;function Q1(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function e_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ua(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")so(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,so(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&so(e.ownerDocument.body);s=h}while(s);Ua(n)}function n_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Y1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function K1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var jn=new Map,l_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=nt.d;nt.d={f:$1,r:Z1,D:J1,C:W1,L:tS,m:eS,X:iS,S:nS,M:sS};function $1(){var e=Wi.f(),n=Ju();return e||n}function Z1(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?bg(n):Wi.r(e)}var Ma=typeof document>"u"?null:document;function o_(e,n,s){var l=Ma;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ye(n,"link",e),we(n),l.head.appendChild(n)))}}function J1(e){Wi.D(e),o_("dns-prefetch",e,null)}function W1(e,n){Wi.C(e,n),o_("preconnect",e,n)}function tS(e,n,s){Wi.L(e,n,s);var l=Ma;if(l&&e&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}jn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ro(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),Ye(n,"link",e),we(n),l.head.appendChild(n)))}}function eS(e,n){Wi.m(e,n);var s=Ma;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!jn.has(f)&&(e=b({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),Ye(l,"link",e),we(l),s.head.appendChild(l)}}}function nS(e,n,s){Wi.S(e,n,s);var l=Ma;if(l&&e){var h=fi(l).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ro(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&yd(e,s);var I=p=l.createElement("link");we(I),Ye(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function iS(e,n){Wi.X(e,n);var s=Ma;if(s&&e){var l=fi(s).hoistableScripts,h=ka(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0},n),(n=jn.get(h))&&_d(e,n),f=s.createElement("script"),we(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function sS(e,n){Wi.M(e,n);var s=Ma;if(s&&e){var l=fi(s).hoistableScripts,h=ka(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&_d(e,n),f=s.createElement("script"),we(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u_(e,n,s,l){var h=(h=vt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=fi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=fi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ro(e)))&&!f._p&&(p.instance=f,p.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||rS(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=fi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+on(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function rS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",s),we(n),e.head.appendChild(n))}function ka(e){return'[src="'+on(e)+'"]'}function ao(e){return"script[async]"+e}function h_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return n.instance=l,we(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Ye(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Va(s.href);var f=e.querySelector(ro(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=c_(s),(h=jn.get(h))&&yd(l,h),f=(e.ownerDocument||e).createElement("link"),we(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ye(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,we(h),h):(l=s,(h=jn.get(f))&&(l=b({},s),_d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Ye(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function f_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ci]||f[be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function d_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function aS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(l.href),f=n.querySelector(ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,l=c_(l),(h=jn.get(h))&&yd(l,h),f=f.createElement("link"),we(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ye(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function oS(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(uS,e),hc=null,cc.call(e))}function uS(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function cS(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(e,n,s,l,h,f,p,E,I,z,G,K){return e=new cS(e,n,s,p,I,z,G,K,E),n=1,f===!0&&(n|=24),f=Tn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ef(f),e}function g_(e){return e?(e=fa,e):fa}function y_(e,n,s,l,h,f){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=bs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ws(e,l,n),s!==null&&(mn(s,e,n),zl(s,e,n))}function __(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){__(e,n),(e=e.alternate)&&__(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&mn(n,e,67108864),Ed(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=Rn();n=mr(n);var s=Rr(e,n);s!==null&&mn(s,e,n),Ed(e,n)}}var dc=!0;function hS(e,n,s,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,Td(e,n,s,l)}finally{nt.p=f,H.T=h}}function fS(e,n,s,l){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,Td(e,n,s,l)}finally{nt.p=f,H.T=h}}function Td(e,n,s,l){if(dc){var h=Sd(l);if(h===null)ld(e,n,l,mc,s),S_(e,l);else if(mS(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<dS.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ai(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-ge(p);E.entanglements[1]|=I,p&=~I}wi(f),(Yt&6)===0&&($u=sn()+500,eo(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&mn(E,f,2),Ju(),Ed(f,2)}if(f=Sd(l),f===null&&ld(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ld(e,n,l,null,s)}}function Sd(e){return e=xn(e),Ad(e)}var mc=null;function Ad(e){if(mc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case cl:return 2;case hl:return 8;case us:case Ch:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var bd=!1,Us=null,Ls=null,Ps=null,oo=new Map,uo=new Map,zs=[],dS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mS(e,n,s,l,h){switch(n){case"focusin":return Us=co(Us,e,n,s,l,h),!0;case"dragenter":return Ls=co(Ls,e,n,s,l,h),!0;case"mouseover":return Ps=co(Ps,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=hi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){E_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Gn(e.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Nn(s),n!==null&&v_(n),e.blockedOn=s,!1;n.shift()}return!0}function b_(e,n,s){pc(e)&&s.delete(n)}function pS(){bd=!1,Us!==null&&pc(Us)&&(Us=null),Ls!==null&&pc(Ls)&&(Ls=null),Ps!==null&&pc(Ps)&&(Ps=null),oo.forEach(b_),uo.forEach(b_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pS)))}var yc=null;function w_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ua(e){function n(I){return gc(I,e)}Us!==null&&gc(Us,e),Ls!==null&&gc(Ls,e),Ps!==null&&gc(Ps,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<zs.length;s++){var l=zs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Pe]||null;if(typeof f=="function")p||w_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Pe]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),w_(s)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}_c.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Rn();y_(s,l,e,n,null,null)},_c.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),Ju(),n[ui]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,e),s===0&&A_(e)}};var I_=t.version;if(I_!=="19.2.1")throw Error(a(527,I_,"19.2.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var gS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{qn=vc.inject(gS),qe=vc}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Vg,f=kg,p=Ug;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=p_(e,1,!1,null,null,s,l,null,h,f,p,R_),e[ui]=n.current,ad(e),new wd(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Vg,p=kg,E=Ug,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=p_(e,1,!0,n,s??null,l,h,I,f,p,E,R_),n.context=g_(null),s=n.current,l=Rn(),l=mr(l),h=bs(l),h.callback=null,ws(s,h,l),s=l,n.current.lanes=s,fr(n,s),wi(n),e[ui]=n.current,ad(e),new _c(n)},fo.version="19.2.1",fo}var L_;function RS(){if(L_)return Cd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=wS(),Cd.exports}var IS=RS();const CS=()=>{};var P_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},NS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,S=c>>2,b=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,F=y&63;v||(F=64,d||(M=64)),a.push(i[S],i[b],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):NS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||b==null)throw new xS;const M=c<<2|g>>4;if(a.push(M),y!==64){const F=g<<4&240|y>>2;if(a.push(F),b!==64){const tt=y<<6&192|b;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(r){const t=g0(r);return y0.encodeByteArray(t,!0)},Pc=function(r){return DS(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MS=()=>OS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return CS()||MS()||VS()||kS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>ih()?.emulatorHosts?.[r],US=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>ih()?.config,T0=r=>ih()?.[`_${r}`];class LS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(r){return(await fetch(r,{credentials:"include"})).ok}function PS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const vo={};function zS(){const r={prod:[],emulator:[]};for(const t of Object.keys(vo))vo[t]?r.emulator.push(t):r.prod.push(t);return r}function jS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let z_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||vo[r]===t||vo[r]||z_)return;vo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=zS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{z_=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=jS(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),dt=i("preprendIcon"),Et=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;g(gt),S(W,st);const qt=y();v(Et,dt),gt.append(Et,tt,W,qt),document.body.appendChild(gt)}c?(tt.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function qS(){const r=ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function XS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const $S="FirebaseError";class ls extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$S,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?ZS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ls(o,g,a)}}function ZS(r,t){return r.replace(JS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const JS=/\{\$([^}]+)}/g;function WS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(j_(c)&&j_(d)){if(!qr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function tA(r,t){const i=new eA(r,t);return i.subscribe.bind(i)}class eA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");nA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function nn(r){return r&&r._delegate?r._delegate:r}class Hr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class iA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new LS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rA(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sA(r){return r===zr?void 0:r}function rA(r){return r.instantiationMode==="EAGER"}class aA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new iA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const lA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},oA=kt.INFO,uA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},cA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=uA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=oA,this._logHandler=cA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const hA=(r,t)=>t.some(i=>r instanceof i);let B_,q_;function fA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dA(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,Qd=new WeakMap,w0=new WeakMap,Md=new WeakMap,Em=new WeakMap;function mA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&b0.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function pA(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function gA(r){Yd=r(Yd)}function yA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),Ks(a)}:dA().includes(r)?function(...t){return r.apply(Vd(this),t),Ks(b0.get(this))}:function(...t){return Ks(r.apply(Vd(this),t))}}function _A(r){return typeof r=="function"?yA(r):(r instanceof IDBTransaction&&pA(r),hA(r,fA())?new Proxy(r,Yd):r)}function Ks(r){if(r instanceof IDBRequest)return mA(r);if(Md.has(r))return Md.get(r);const t=_A(r);return t!==r&&(Md.set(r,t),Em.set(t,r)),t}const Vd=r=>Em.get(r);function vA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Ks(d.result),v.oldVersion,v.newVersion,Ks(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const EA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],kd=new Map;function H_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=TA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||EA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return kd.set(t,c),c}gA(r=>({...r,get:(t,i,a)=>H_(t,i)||r.get(t,i,a),has:(t,i)=>!!H_(t,i)||r.has(t,i)}));class SA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function AA(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",G_="0.14.6";const ns=new vm("@firebase/app"),bA="@firebase/app-compat",wA="@firebase/analytics-compat",RA="@firebase/analytics",IA="@firebase/app-check-compat",CA="@firebase/app-check",NA="@firebase/auth",xA="@firebase/auth-compat",DA="@firebase/database",OA="@firebase/data-connect",MA="@firebase/database-compat",VA="@firebase/functions",kA="@firebase/functions-compat",UA="@firebase/installations",LA="@firebase/installations-compat",PA="@firebase/messaging",zA="@firebase/messaging-compat",jA="@firebase/performance",BA="@firebase/performance-compat",qA="@firebase/remote-config",HA="@firebase/remote-config-compat",GA="@firebase/storage",FA="@firebase/storage-compat",QA="@firebase/firestore",YA="@firebase/ai",KA="@firebase/firestore-compat",XA="firebase",$A="12.6.0";const Xd="[DEFAULT]",ZA={[Kd]:"fire-core",[bA]:"fire-core-compat",[RA]:"fire-analytics",[wA]:"fire-analytics-compat",[CA]:"fire-app-check",[IA]:"fire-app-check-compat",[NA]:"fire-auth",[xA]:"fire-auth-compat",[DA]:"fire-rtdb",[OA]:"fire-data-connect",[MA]:"fire-rtdb-compat",[VA]:"fire-fn",[kA]:"fire-fn-compat",[UA]:"fire-iid",[LA]:"fire-iid-compat",[PA]:"fire-fcm",[zA]:"fire-fcm-compat",[jA]:"fire-perf",[BA]:"fire-perf-compat",[qA]:"fire-rc",[HA]:"fire-rc-compat",[GA]:"fire-gcs",[FA]:"fire-gcs-compat",[QA]:"fire-fst",[KA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[XA]:"fire-js-all"};const zc=new Map,JA=new Map,$d=new Map;function F_(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ya(r){const t=r.name;if($d.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const i of zc.values())F_(i,r);for(const i of JA.values())F_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ei(r){return r==null?!1:r.settings!==void 0}const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new ko("app","Firebase",WA);class tb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const el=$A;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=E0()),!i)throw Xs.create("no-options");const c=zc.get(o);if(c){if(qr(i,c.options)&&qr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new aA(o);for(const v of $d.values())d.addComponent(v);const g=new tb(i,a,d);return zc.set(o,g),g}function I0(r=Xd){const t=zc.get(r);if(!t&&r===Xd&&E0())return R0();if(!t)throw Xs.create("no-app",{appName:r});return t}function $s(r,t,i){let a=ZA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Ya(new Hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const eb="firebase-heartbeat-database",nb=1,wo="firebase-heartbeat-store";let Ud=null;function C0(){return Ud||(Ud=vA(eb,nb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(wo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function ib(r){try{const i=(await C0()).transaction(wo),a=await i.objectStore(wo).get(N0(r));return await i.done,a}catch(t){if(t instanceof ls)ns.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function Q_(r,t){try{const a=(await C0()).transaction(wo,"readwrite");await a.objectStore(wo).put(t,N0(r)),await a.done}catch(i){if(i instanceof ls)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const sb=1024,rb=30;class ab{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ob(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rb){const o=ub(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:a}=lb(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ns.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function lb(r,t=sb){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),K_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),K_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ob{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?XS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ib(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function K_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function ub(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function cb(r){Ya(new Hr("platform-logger",t=>new SA(t),"PRIVATE")),Ya(new Hr("heartbeat",t=>new ab(t),"PRIVATE")),$s(Kd,G_,r),$s(Kd,G_,"esm2020"),$s("fire-js","")}cb("");var hb="firebase",fb="12.6.0";$s(hb,fb,"app");function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=x0,D0=new ko("auth","Firebase",x0());const jc=new vm("@firebase/auth");function mb(r,...t){jc.logLevel<=kt.WARN&&jc.warn(`Auth (${el}): ${r}`,...t)}function Cc(r,...t){jc.logLevel<=kt.ERROR&&jc.error(`Auth (${el}): ${r}`,...t)}function is(r,...t){throw Sm(r,...t)}function Ii(r,...t){return Sm(r,...t)}function O0(r,t,i){const a={...db(),[t]:i};return new ko("auth","Firebase",a).create(t,{appName:r.name})}function Zs(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return D0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Sm(t,...i)}function ts(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function ss(r,t){r||ts(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function pb(){return X_()==="http:"||X_()==="https:"}function X_(){return typeof self<"u"&&self.location?.protocol||null}function gb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pb()||GS()||"connection"in navigator)?navigator.onLine:!0}function yb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ss(i>t,"Short delay should be less than long delay!"),this.isMobile=BS()||FS()}get(){return gb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class M0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eb=new Lo(3e4,6e4);function sh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function nl(r,t,i,a,o={}){return V0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Uo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return HS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(y.credentials="include"),M0.fetch()(await U0(r,r.config.apiHost,i,g),y)})}async function V0(r,t,i){r._canInitEmulator=!1;const a={..._b,...t};try{const o=new Tb(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ec(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O0(r,S,y);is(r,S)}}catch(o){if(o instanceof ls)throw o;is(r,"network-request-failed",{message:String(o)})}}async function k0(r,t,i,a,o={}){const c=await nl(r,t,i,a,o);return"mfaPendingCredential"in c&&is(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function U0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return vb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Tb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),Eb.get())})}}function Ec(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ii(r,t,a);return o.customData._tokenResponse=i,o}async function Sb(r,t){return nl(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return nl(r,"POST","/v1/accounts:lookup",t)}function Eo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ab(r,t=!1){const i=nn(r),a=await i.getIdToken(t),o=bm(a);Tt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Eo(Ld(o.auth_time)),issuedAtTime:Eo(Ld(o.iat)),expirationTime:Eo(Ld(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function bm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_0(i);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $_(r){const t=bm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ro(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ls&&bb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function bb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class wb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qc(r){const t=r.auth,i=await r.getIdToken(),a=await Ro(r,Bc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?L0(o.providerUserInfo):[],d=Ib(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function Rb(r){const t=nn(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ib(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function L0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Cb(r,t){const i=await V0(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await U0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(v.credentials="include"),M0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Nb(r,t){return nl(r,"POST","/v2/accounts:revokeToken",sh(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=$_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Cb(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new qa;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Tt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Bs(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new wb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ro(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ab(this,t)}reload(){return Rb(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await Ro(this,Sb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:F,providerData:tt,stsTokenManager:st}=i;Tt(b&&st,t,"internal-error");const W=qa.fromJSON(this.name,st);Tt(typeof b=="string",t,"internal-error"),Bs(a,t.name),Bs(o,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Bs(c,t.name),Bs(d,t.name),Bs(g,t.name),Bs(v,t.name),Bs(y,t.name),Bs(S,t.name);const dt=new ni({uid:b,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:S});return tt&&Array.isArray(tt)&&(dt.providerData=tt.map(Et=>({...Et}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new qa;o.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Tt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new qa;g.updateFromIdToken(a);const v=new ni({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Z_=new Map;function es(r){ss(r instanceof Function,"Expected a class definition");let t=Z_.get(r);return t?(ss(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Z_.set(r,t),t)}class P0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}P0.type="NONE";const J_=P0;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(es(J_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||es(J_);const d=Nc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let b;if(typeof S=="string"){const M=await Bc(t,{idToken:S}).catch(()=>{});if(!M)break;b=await ni._fromGetAccountInfoResponse(t,M,S)}else b=ni._fromJSON(t,S);y!==c&&(g=b),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ha(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function W_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G0(t))return"Blackberry";if(F0(t))return"Webos";if(j0(t))return"Safari";if((t.includes("chrome/")||B0(t))&&!t.includes("edge/"))return"Chrome";if(H0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function z0(r=en()){return/firefox\//i.test(r)}function j0(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function B0(r=en()){return/crios\//i.test(r)}function q0(r=en()){return/iemobile/i.test(r)}function H0(r=en()){return/android/i.test(r)}function G0(r=en()){return/blackberry/i.test(r)}function F0(r=en()){return/webos/i.test(r)}function wm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xb(r=en()){return wm(r)&&!!window.navigator?.standalone}function Db(){return QS()&&document.documentMode===10}function Q0(r=en()){return wm(r)||H0(r)||F0(r)||G0(r)||/windows phone/i.test(r)||q0(r)}function Y0(r,t=[]){let i;switch(r){case"Browser":i=W_(en());break;case"Worker":i=`${W_(en())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${el}/${a}`}class Ob{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Mb(r,t={}){return nl(r,"GET","/v2/passwordPolicy",sh(r,t))}const Vb=6;class kb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Vb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ub{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new Ob(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Zs(this));const i=t?nn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Mb(this),i=new kb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Nb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&es(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&mb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function rh(r){return nn(r)}class tv{constructor(t){this.auth=t,this.observer=null,this.addObserver=tA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lb(r){Rm=r}function Pb(r){return Rm.loadJS(r)}function zb(){return Rm.gapiScript}function jb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Bb(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(qr(c,t??{}))return o;is(o,"already-initialized")}return i.initialize({options:t})}function qb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(es);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Hb(r,t,i){const a=rh(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=K0(t),{host:d,port:g}=Gb(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(qr(y,a.config.emulator)&&qr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,tl(d)?(S0(`${c}//${d}${v}`),A0("Auth",!0)):Fb()}function K0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Gb(r){const t=K0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:ev(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:ev(d)}}}function ev(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Fb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class X0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(t){return ts("not implemented")}_linkToIdToken(t,i){return ts("not implemented")}_getReauthenticationResolver(t){return ts("not implemented")}}async function Ga(r,t){return k0(r,"POST","/v1/accounts:signInWithIdp",sh(r,t))}const Qb="http://localhost";class Gr extends X0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Gr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:Qb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class $0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Po extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends Po{constructor(){super("facebook.com")}static credential(t){return Gr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Gs extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class Fs extends Po{constructor(){super("github.com")}static credential(t){return Gr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Qs extends Po{constructor(){super("twitter.com")}static credential(t,i){return Gr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function Yb(r,t){return k0(r,"POST","/v1/accounts:signUp",sh(r,t))}class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ni._fromIdTokenResponse(t,a,o),d=nv(a);return new tr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=nv(a);return new tr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Kb(r){if(ei(r.app))return Promise.reject(Zs(r));const t=rh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new tr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Yb(t,{returnSecureToken:!0}),a=await tr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Hc extends ls{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Hc(t,i,a,o)}}function Z0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,c,t,a):c})}async function Xb(r,t,i=!1){const a=await Ro(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return tr._forOperation(r,"link",a)}async function $b(r,t,i=!1){const{auth:a}=r;if(ei(a.app))return Promise.reject(Zs(a));const o="reauthenticate";try{const c=await Ro(r,Z0(a,o,t,r),i);Tt(c.idToken,a,"internal-error");const d=bm(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(r.uid===g,a,"user-mismatch"),tr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function Zb(r,t,i=!1){if(ei(r.app))return Promise.reject(Zs(r));const a="signIn",o=await Z0(r,a,t),c=await tr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function Jb(r,t,i,a){return nn(r).onIdTokenChanged(t,i,a)}function Wb(r,t,i){return nn(r).beforeAuthStateChanged(t,i)}function tw(r,t,i,a){return nn(r).onAuthStateChanged(t,i,a)}function ew(r){return nn(r).signOut()}const Gc="__sak";class J0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nw=1e3,iw=10;class W0 extends J0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Db()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,iw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}W0.type="LOCAL";const sw=W0;class tE extends J0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}tE.type="SESSION";const eE=tE;function rw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await rw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function Im(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Im("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const M=b;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function lw(r){Ci().location.href=r}function nE(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function ow(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uw(){return navigator?.serviceWorker?.controller||null}function cw(){return nE()?self:null}const iE="firebaseLocalStorageDb",hw=1,Fc="firebaseLocalStorage",sE="fbase_key";class zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function fw(){const r=indexedDB.deleteDatabase(iE);return new zo(r).toPromise()}function Wd(){const r=indexedDB.open(iE,hw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:sE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await fw(),t(await Wd()))})})}async function iv(r,t,i){const a=lh(r,!0).put({[sE]:t,value:i});return new zo(a).toPromise()}async function dw(r,t){const i=lh(r,!1).get(t),a=await new zo(i).toPromise();return a===void 0?null:a.value}function sv(r,t){const i=lh(r,!0).delete(t);return new zo(i).toPromise()}const mw=800,pw=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>pw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(cw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ow(),!this.activeServiceWorker)return;this.sender=new aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await iv(t,Gc,"1"),await sv(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>iv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>dw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=lh(o,!1).getAll();return new zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const gw=rE;new Lo(3e4,6e4);function yw(r,t){return t?es(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cm extends X0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function _w(r){return Zb(r.auth,new Cm(r),r.bypassAuthState)}function vw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),$b(i,new Cm(r),r.bypassAuthState)}async function Ew(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),Xb(i,new Cm(r),r.bypassAuthState)}class aE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return Ew;case"reauthViaPopup":case"reauthViaRedirect":return vw;default:is(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tw=new Lo(2e3,1e4);class Ba extends aE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Tw.get())};t()}}Ba.currentPopupAction=null;const Sw="pendingRedirect",xc=new Map;class Aw extends aE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=xc.get(this.auth._key());if(!t){try{const a=await bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}xc.set(this.auth._key(),t)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(r,t){const i=Iw(t),a=Rw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function ww(r,t){xc.set(r._key(),t)}function Rw(r){return es(r._redirectPersistence)}function Iw(r){return Nc(Sw,r.config.apiKey,r.name)}async function Cw(r,t,i=!1){if(ei(r.app))return Promise.reject(Zs(r));const a=rh(r),o=yw(a,t),d=await new Aw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Nw=600*1e3;class xw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Dw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(t))}saveEventToCache(t){this.cachedEventUids.add(rv(t)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function lE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(r);default:return!1}}async function Ow(r,t={}){return nl(r,"GET","/v1/projects",t)}const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function kw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Ow(r);for(const i of t)try{if(Uw(i))return}catch{}is(r,"unauthorized-domain")}function Uw(r){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Vw.test(i))return!1;if(Mw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Lw=new Lo(3e4,6e4);function av(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Pw(r){return new Promise((t,i)=>{function a(){av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{av(),i(Ii(r,"network-request-failed"))},timeout:Lw.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const o=jb("iframefcb");return Ci()[o]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},Pb(`${zb()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function zw(r){return Dc=Dc||Pw(r),Dc}const jw=new Lo(5e3,15e3),Bw="__/auth/iframe",qw="emulator/auth/iframe",Hw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,qw):`https://${r.config.authDomain}/${Bw}`,a={apiKey:t.apiKey,appName:r.name,v:el},o=Gw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function Qw(r){const t=await zw(r),i=Ci().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Fw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Ci().setTimeout(()=>{c(d)},jw.get());function v(){Ci().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kw=500,Xw=600,$w="_blank",Zw="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jw(r,t,i,a=Kw,o=Xw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Yw,width:a.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();i&&(g=B0(y)?$w:i),z0(y)&&(t=t||Zw,v.scrollbars="yes");const S=Object.entries(v).reduce((M,[F,tt])=>`${M}${F}=${tt},`,"");if(xb(y)&&g!=="_self")return Ww(t||"",g),new lv(null);const b=window.open(t||"",g,S);Tt(b,r,"popup-blocked");try{b.focus()}catch{}return new lv(b)}function Ww(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const t2="__/auth/handler",e2="emulator/auth/handler",n2=encodeURIComponent("fac");async function ov(r,t,i,a,o,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:el,eventId:o};if(t instanceof $0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",WS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Po){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await r._getAppCheckToken(),y=v?`#${n2}=${encodeURIComponent(v)}`:"";return`${i2(r)}?${Uo(g).slice(1)}${y}`}function i2({config:r}){return r.emulator?Am(r,e2):`https://${r.authDomain}/${t2}`}const Pd="webStorageSupport";class s2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=Cw,this._overrideRedirectResult=ww}async _openPopup(t,i,a,o){ss(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ov(t,i,a,Zd(),o);return Jw(t,c,Im())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await ov(t,i,a,Zd(),o);return lw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Qw(t),a=new xw(t);return i.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Pd,{type:Pd},o=>{const c=o?.[0]?.[Pd];c!==void 0&&i(!!c),is(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Q0()||j0()||wm()}}const r2=s2;var uv="@firebase/auth",cv="1.11.1";class a2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function l2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o2(r){Ya(new Hr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},y=new Ub(a,o,c,v);return qb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ya(new Hr("auth-internal",t=>{const i=rh(t.getProvider("auth").getImmediate());return(a=>new a2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(uv,cv,l2(r)),$s(uv,cv,"esm2020")}const u2=300,c2=T0("authIdTokenMaxAge")||u2;let hv=null;const h2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>c2)return;const o=i?.token;hv!==o&&(hv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f2(r=I0()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Bb(r,{popupRedirectResolver:r2,persistence:[gw,sw,eE]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=h2(c.toString());Wb(i,d,()=>d(i.currentUser)),Jb(i,g=>d(g))}}const o=v0("auth");return o&&Hb(i,`http://${o}`),i}function d2(){return document.getElementsByTagName("head")?.[0]??document}Lb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",d2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o2("Browser");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,oE;(function(){var r;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,x,U){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return A.prototype[x].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)O[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;x<16;++x)O[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],x=C.g[2];let U=C.g[3],w;w=A+(U^R&(x^U))+O[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(x^A&(R^x))+O[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(R^U&(A^R))+O[2]+606105819&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(A^x&(U^A))+O[3]+3250441966&4294967295,R=x+(w<<22&4294967295|w>>>10),w=A+(U^R&(x^U))+O[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(x^A&(R^x))+O[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(R^U&(A^R))+O[6]+2821735955&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(A^x&(U^A))+O[7]+4249261313&4294967295,R=x+(w<<22&4294967295|w>>>10),w=A+(U^R&(x^U))+O[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(x^A&(R^x))+O[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(R^U&(A^R))+O[10]+4294925233&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(A^x&(U^A))+O[11]+2304563134&4294967295,R=x+(w<<22&4294967295|w>>>10),w=A+(U^R&(x^U))+O[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(x^A&(R^x))+O[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=x+(R^U&(A^R))+O[14]+2792965006&4294967295,x=U+(w<<17&4294967295|w>>>15),w=R+(A^x&(U^A))+O[15]+1236535329&4294967295,R=x+(w<<22&4294967295|w>>>10),w=A+(x^U&(R^x))+O[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(A^R))+O[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^R&(U^A))+O[11]+643717713&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(x^U))+O[0]+3921069994&4294967295,R=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(R^x))+O[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(A^R))+O[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^R&(U^A))+O[15]+3634488961&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(x^U))+O[4]+3889429448&4294967295,R=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(R^x))+O[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(A^R))+O[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^R&(U^A))+O[3]+4107603335&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(x^U))+O[8]+1163531501&4294967295,R=x+(w<<20&4294967295|w>>>12),w=A+(x^U&(R^x))+O[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^x&(A^R))+O[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=x+(A^R&(U^A))+O[7]+1735328473&4294967295,x=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(x^U))+O[12]+2368359562&4294967295,R=x+(w<<20&4294967295|w>>>12),w=A+(R^x^U)+O[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^x)+O[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^R)+O[11]+1839030562&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^A)+O[14]+4259657740&4294967295,R=x+(w<<23&4294967295|w>>>9),w=A+(R^x^U)+O[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^x)+O[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^R)+O[7]+4139469664&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^A)+O[10]+3200236656&4294967295,R=x+(w<<23&4294967295|w>>>9),w=A+(R^x^U)+O[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^x)+O[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^R)+O[3]+3572445317&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^A)+O[6]+76029189&4294967295,R=x+(w<<23&4294967295|w>>>9),w=A+(R^x^U)+O[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^x)+O[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=x+(U^A^R)+O[15]+530742520&4294967295,x=U+(w<<16&4294967295|w>>>16),w=R+(x^U^A)+O[2]+3299628645&4294967295,R=x+(w<<23&4294967295|w>>>9),w=A+(x^(R|~U))+O[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~x))+O[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~R))+O[14]+2878612391&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~A))+O[5]+4237533241&4294967295,R=x+(w<<21&4294967295|w>>>11),w=A+(x^(R|~U))+O[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~x))+O[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~R))+O[10]+4293915773&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~A))+O[1]+2240044497&4294967295,R=x+(w<<21&4294967295|w>>>11),w=A+(x^(R|~U))+O[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~x))+O[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~R))+O[6]+2734768916&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~A))+O[13]+1309151649&4294967295,R=x+(w<<21&4294967295|w>>>11),w=A+(x^(R|~U))+O[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~x))+O[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=x+(A^(U|~R))+O[2]+718787259&4294967295,x=U+(w<<15&4294967295|w>>>17),w=R+(U^(x|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(x+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,O=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=R;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(O[x++]=C.charCodeAt(U++),x==this.blockSize){o(this,O),x=0;break}}else for(;U<A;)if(O[x++]=C[U++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[A++]=this.g[R]>>>O&255;return C};function c(C,A){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function d(C,A){this.h=A;const R=[];let O=!0;for(let x=C.length-1;x>=0;x--){const U=C[x]|0;O&&U==A||(R[x]=U,O=!1)}this.g=R}var g={};function v(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return W(y(-C));const A=[];let R=1;for(let O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return W(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let O=b;for(let U=0;U<C.length;U+=8){var x=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+x),A);x<8?(x=y(Math.pow(A,x)),O=O.j(x).add(y(w))):(O=O.j(R),O=O.add(y(w)))}return O}var b=v(0),M=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-W(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(st(this))return"-"+W(this).toString(C);const A=y(Math.pow(C,6));var R=this;let O="";for(;;){const x=qt(R,A).g;R=dt(R,x.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=x,tt(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function st(C){return C.h==-1}r.l=function(C){return C=dt(this,C),st(C)?-1:tt(C)?0:1};function W(C){const A=C.g.length,R=[];for(let O=0;O<A;O++)R[O]=~C.g[O];return new d(R,~C.h).add(M)}r.abs=function(){return st(this)?W(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let x=0;x<=A;x++){let U=O+(this.i(x)&65535)+(C.i(x)&65535),w=(U>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);O=w>>>16,U&=65535,w&=65535,R[x]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(C,A){return C.add(W(A))}r.j=function(C){if(tt(this)||tt(C))return b;if(st(this))return st(C)?W(this).j(W(C)):W(W(this).j(C));if(st(C))return W(this.j(W(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let x=0;x<C.g.length;x++){const U=this.i(O)>>>16,w=this.i(O)&65535,ae=C.i(x)>>>16,se=C.i(x)&65535;R[2*O+2*x]+=w*se,Et(R,2*O+2*x),R[2*O+2*x+1]+=U*se,Et(R,2*O+2*x+1),R[2*O+2*x+1]+=w*ae,Et(R,2*O+2*x+1),R[2*O+2*x+2]+=U*ae,Et(R,2*O+2*x+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new d(R,0)};function Et(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function gt(C,A){this.g=C,this.h=A}function qt(C,A){if(tt(A))throw Error("division by zero");if(tt(C))return new gt(b,b);if(st(C))return A=qt(W(C),A),new gt(W(A.g),W(A.h));if(st(A))return A=qt(C,W(A)),new gt(W(A.g),A.h);if(C.g.length>30){if(st(C)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,O=A;O.l(C)<=0;)R=ie(R),O=ie(O);var x=Pt(R,1),U=Pt(O,1);for(O=Pt(O,2),R=Pt(R,2);!tt(O);){var w=U.add(O);w.l(C)<=0&&(x=x.add(R),U=w),O=Pt(O,1),R=Pt(R,1)}return A=dt(C,x.j(A)),new gt(x,A)}for(x=b;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=y(R),w=U.j(A);st(w)||w.l(C)>0;)R-=O,U=y(R),w=U.j(A);tt(U)&&(U=M),x=x.add(U),C=dt(C,w)}return new gt(x,C)}r.B=function(C){return qt(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new d(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new d(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new d(R,this.h^C.h)};function ie(C){const A=C.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(R,C.h)}function Pt(C,A){const R=A>>5;A%=32;const O=C.g.length-R,x=[];for(let U=0;U<O;U++)x[U]=A>0?C.i(U+R)>>>A|C.i(U+R+1)<<32-A:C.i(U+R);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Js=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,po,cE,Oc,tm,hE,fE,dE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=gt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new st(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Pt=!1,C=new Et,A=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){W(_)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ae,x),ae.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ft(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=vt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ot(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function vt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var St="closure_lm_"+(Math.random()*1e6|0),X={};function J(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)J(u,m[B],_,T,L);return null}return _=ul(_),u&&u[se]?u.J(m,_,g(T)?!!T.capture:!1,L):It(u,m,_,!1,T,L)}function It(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Ct=ur(u);if(Ct||(u[St]=Ct=new rt(u)),_=Ct.add(m,_,T,et,B),_.proxy)return _;if(T=ut(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(yn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ut(){function u(_){return m.call(u.src,u.listener,_)}const m=ll;return u}function bt(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)bt(u,m[B],_,T,L);else T=g(T)?!!T.capture:!!T,_=ul(_),u&&u[se]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=vt(m,_,T,L),_>-1&&(ot(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ur(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,_,T,L)),(_=u>-1?m[u]:null)&&Te(_))}function Te(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[se])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(yn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ur(m))?(_t(_,u),_.h==0&&(_.src=null,m[St]=null)):ot(u)}}}function yn(u){return u in X?X[u]:X[u]="on"+u}function ll(u,m){if(u.da)u=!0;else{m=new ae(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Te(u),u=_.call(T,m)}return u}function ur(u){return u=u[St],u instanceof rt?u:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(u){return typeof u=="function"?u:(u[ol]||(u[ol]=function(m){return u.handleEvent(m)}),u[ol])}function Se(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(Se,O),Se.prototype[se]=!0,Se.prototype.removeEventListener=function(u,m,_,T){bt(this,u,m,_,T)};function Ve(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var L=m;m=new x(T,u),it(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=os(B,T,!0,m)&&L;if(B=m.g=u,L=os(B,T,!0,m)&&L,L=os(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=os(B,T,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ot(_[T]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function os(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const Ct=et.listener,ye=et.ha||et.src;et.fa&&_t(u.i,et),L=Ct.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ih(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=Ih(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends O{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(u){O.call(this),this.h=u,this.g={}}b(cr,O);var cl=[];function hl(u){zt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Te(m)},u),u.g={}}cr.prototype.N=function(){cr.Z.N.call(this),hl(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Ch=d.JSON.parse,Qo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yo(){}function Ko(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){x.call(this,"d")}b(qe,x);function Cn(){x.call(this,"c")}b(Cn,x);var ge={},Xo=null;function $r(){return Xo=Xo||new Se}ge.Ia="serverreachability";function $o(u){x.call(this,ge.Ia,u)}b($o,x);function ri(u){const m=$r();Ve(m,new $o(m))}ge.STAT_EVENT="statevent";function hr(u,m){x.call(this,ge.STAT_EVENT,u),this.stat=m}b(hr,x);function Ae(u){const m=$r();Ve(m,new hr(m,u))}ge.Ja="timingevent";function ai(u,m){x.call(this,ge.Ja,u),this.size=m}b(ai,x);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",Ct=B.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var ye=Ct[Qt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const On=ce.split("_");et=On.length>=2&&On[1]=="type"?et+(ce+"="+ye+"&"):et+(ce+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Zo(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function oi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,_)+(T?" "+T:"")})}function fr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return us(B)}catch{return m}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function mr(){}b(mr,Yo),mr.prototype.g=function(){return new XMLHttpRequest},dl=new mr;function ki(u){return encodeURIComponent(String(u))}function Jo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Gn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var be={},Pe={};function ui(u,m,_){u.M=1,u.A=pr(Re(m)),u.u=_,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ci(u),u.B=Re(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Fn,u.g=du(u.j,_?m:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(let B=0;B<L.length;B++){const et=J(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Kn(this.g),ye=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||ye==7||(ye==8||Qt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var _=Dh(this);if(this.o=m==200,Zo(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,Ae(12),_n(this),Nn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<_.length;)if(ce=tu(this,_),ce==Pe){Ct==4&&(this.m=4,Ae(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==be){this.m=4,Ae(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ce,null),fi(this,ce);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||_.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Cl(et),et.P=!0,Ae(11))}}else oi(this.i,this.l,_,null),fi(this,_);Ct==4&&_n(this),this.o&&!this.K&&(Ct==4?uu(this.j,this):(this.o=!1,ci(this)))}else Li(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),_n(this),Nn(this)}}}catch{}finally{}};function Dh(u){if(!Wo(u))return u.g.la();const m=He(u.g);if(m==="")return"";let _="";const T=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Pe:(_=Number(m.substring(_,T)),isNaN(_)?be:(T+=1,T+_>m.length?Pe:(m=m.slice(T,T+_),u.C=T+_,m)))}Gn.prototype.cancel=function(){this.K=!0,_n(this)};function ci(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fr(this.i,this.B),this.M!=2&&(ri(),Ae(17)),_n(this),this.m=2,Nn(this)):Jr(this,this.T-u)};function Nn(u){u.j.I==0||u.K||uu(u.j,u)}function _n(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||mi(_.h,u))){if(!u.L&&mi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)aa(_),ys(_);else break t;Sr(_),Ae(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=li(y(_.Va,_),6e3));di(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ei(_,11)}else if((u.L||_.g==u)&&aa(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const ce=Qt[0];if(!(ce<=_.K))if(_.K=ce,Qt=Qt[1],_.I==2)if(Qt[0]=="c"){_.M=Qt[1],_.ba=Qt[2];const On=Qt[3];On!=null&&(_.ka=On,_.j.info("VER="+_.ka));const Ti=Qt[4];Ti!=null&&(_.za=Ti,_.j.info("SVER="+_.za));const Xn=Qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const $n=u.g;if($n){const Ar=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var B=T.h;B.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(gl(B,B.h),B.h=null))}if(T.G){const la=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Xt(T.J,T.G,la))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=fu(T,T.L?T.ba:null,T.W),et.L){yl(T.h,et);var Ct=et,ye=T.O;ye&&(Ct.H=ye),Ct.D&&(hi(Ct),ci(Ct)),T.g=et}else lu(T);_.i.length>0&&vi(_)}else Qt[0]!="stop"&&Qt[0]!="close"||Ei(_,7);else _.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ei(_,7):Rl(_):Qt[0]!="noop"&&_.l&&_.l.qa(Qt),_.A=0)}}ri(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,vl(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),cs(this,m[4]),this.h=pi(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,ta,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,ta,!0),"@"),u.push(ki(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(gr(_,_.charAt(0)=="/"?El:nu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",gr(_,iu)),u.join("")},vn.prototype.resolve=function(u){const m=Re(this);let _=!!u.j;_?ze(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)cs(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Ct=L[et++];Ct=="."?T&&et==L.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(Ct),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?vl(m,ru(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Re(u){return new vn(u)}function ze(u,m,_){u.j=_?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,_){m instanceof fs?(u.i=m,na(u.i,u.l)):(_||(m=gr(m,hs)),u.i=new fs(m,u.l))}function Xt(u,m,_){u.i.set(m,_)}function pr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,on),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,nu=/[#\?:]/g,El=/[#\?]/g,hs=/[#\?@]/g,iu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=fs.prototype,r.add=function(u,m){un(this),this.i=null,u=ds(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function su(u,m){un(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return un(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){un(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){un(u);let _=[];if(typeof m=="string")Tl(u,m)&&(_=_.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return un(this),this.i=null,u=ds(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,_){su(u,m),_.length>0&&(u.i=null,u.g.set(ds(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=ki(_);_=Sl(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+ki(_[B])),u.push(et)}}return this.i=u.join("&")};function ru(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(su(this,T),ea(this,L,_))},u)),u.j=m}function Qn(u,m){const _=new Hn;if(d.Image){const T=new Image;T.onload=S(xn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(xn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(xn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(xn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Al(u,m){const _=new Hn,T=new AbortController,L=setTimeout(()=>{T.abort(),xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?xn(_,"TestPingServer: ok",!0,m):xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),xn(_,"TestPingServer: error",!1,m)})}function xn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ms(){this.g=new Qo}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(gi,Yo),gi.prototype.g=function(){return new yr(this.i,this.h)};function yr(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(yr,Se),r=yr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Yn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return zt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function _r(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Dn(_),typeof u=="string"?_!=null&&ki(_):Xt(u,m,_))}function Jt(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,Se);var yi=/^https?$/i,bl=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){vr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){vr(this,B)}};function vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),Ui(u)}function wl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},r.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(eu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!yi.test(et?et.toLowerCase():"")}_=T}if(_)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wl(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ve(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Jo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Ae(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),vi(this)};function Rl(u){if(sa(u),u.I==3){var m=u.V++,_=Re(u.J);if(Xt(_,"SID",u.M),Xt(_,"RID",m),Xt(_,"TYPE","terminate"),Tr(u,_),m=new Gn(u,u.j,m),m.M=2,m.A=pr(Re(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}hu(u)}function ys(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function sa(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||A(),Pt||(ie(),Pt=!0),C.add(m,u),u.D=0}}function ra(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Gn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),_=Re(this.J),Xt(_,"RID",u),Xt(_,"CVER",22),this.G&&Xt(_,"X-HTTP-Session-Id",this.G),Tr(this,_),B&&(this.R?m="headers="+ki(Dn(B))+"&"+m:this.u&&_r(_,this.u,B)),gl(this.h,L),this.Ra&&Xt(_,"TYPE","init"),this.S?(Xt(_,"$req",m),Xt(_,"SID","null"),L.U=!0,ui(L,_,null)):ui(L,_,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var _;m?_=m.l:_=u.V++;const T=Re(u.J);Xt(T,"SID",u.M),Xt(T,"RID",_),Xt(T,"AID",u.K),Tr(u,T),u.u&&u.o&&_r(T,u.u,u.o),_=new Gn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),gl(u.h,_),ui(_,T,m)}function Tr(u,m){u.H&&zt(u.H,function(_,T){Xt(m,T,_)}),u.l&&zt({},function(_,T){Xt(m,T,_)})}function au(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Ct=-1;for(;;){const ye=["count="+_];Ct==-1?_>0?(Ct=L[0].g,ye.push("ofs="+Ct)):Ct=0:ye.push("ofs="+Ct);let Qt=!0;for(let ce=0;ce<_;ce++){var B=L[ce].g;const On=L[ce].map;if(B-=Ct,B<0)Ct=Math.max(0,L[ce].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var et=On instanceof Map?On:Object.entries(On);for(const[Ti,Xn]of et){let $n=Xn;g(Xn)&&($n=us(Xn)),ye.push(B+Ti+"="+encodeURIComponent($n))}}catch(Ti){throw ye.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(On)}}if(Qt){et=ye.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||A(),Pt||(ie(),Pt=!0),C.add(m,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),ys(this),ou(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&_r(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=pr(Re(m)),_.u=null,_.R=!0,Zr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),Sr(this),Ae(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var _=null;if(u.g==m){aa(u),Cl(u),u.g=null;var T=2}else if(mi(u.h,m))_=m.G,yl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=$r(),Ve(T,new ai(T,_)),vi(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&Sr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function cu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),pr(T),L?Qn(T.toString(),_):Al(T.toString(),_)}else Ae(2);u.I=0,u.l&&u.l.pa(m),hu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,_){var T=_ instanceof vn?Re(_):new vn(_);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new vn(null);T&&ze(B,T),m&&(B.g=m),L&&cs(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Xt(T,_,m),Xt(T,"VER",u.ka),Tr(u,T),T}function du(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new gi({ab:_})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){Se.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}b(rn,Se),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Rl(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=us(u),u=_);m.i.push(new we(m.Ya++,u)),m.I==3&&vi(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,rn.Z.N.call(this)};function pu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(pu,qe);function gu(){Cn.call(this),this.status=1}b(gu,Cn);function Pi(u){this.g=u}b(Pi,mu),Pi.prototype.ra=function(){Ve(this.g,"a")},Pi.prototype.qa=function(u){Ve(this.g,new pu(u))},Pi.prototype.pa=function(u){Ve(this.g,new gu)},Pi.prototype.oa=function(){Ve(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,dE=function(){return new _s},fE=function(){return $r()},hE=ge,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Oc=dr,fl.COMPLETE="complete",cE=fl,Ko.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,po=Ko,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,uE=Jt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",mv="4.9.2";class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");let il="12.3.0";const Fr=new vm("@firebase/firestore");function La(){return Fr.logLevel}function at(r,...t){if(Fr.logLevel<=kt.DEBUG){const i=t.map(Nm);Fr.debug(`Firestore (${il}): ${r}`,...i)}}function rs(r,...t){if(Fr.logLevel<=kt.ERROR){const i=t.map(Nm);Fr.error(`Firestore (${il}): ${r}`,...i)}}function Ka(r,...t){if(Fr.logLevel<=kt.WARN){const i=t.map(Nm);Fr.warn(`Firestore (${il}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,mE(r,a,i)}function mE(r,t,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rs(a),new Error(a)}function Kt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||mE(t,o,a)}function Rt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ls{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class pE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class g2{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ws,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ws)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new pE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class y2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=E2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return zd(o)===zd(c)?Ut(o,c):zd(o)?1:-1}return Ut(r.length,t.length)}const T2=55296,S2=57343;function zd(r){const t=r.charCodeAt(0);return t>=T2&&t<=S2}function Xa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const gv="__name__";class Ri{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ri.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ri.isNumericId(t),o=Ri.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class fe extends Ri{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ri{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return A2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Xe([gv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ht(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ht(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(fe.fromString(t))}static fromName(t){return new mt(fe.fromString(t).popFirst(5))}static empty(){return new mt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new fe(t.slice()))}}function b2(r,t,i){if(!i)throw new ht(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function w2(r,t,i,a){if(t===!0&&a===!0)throw new ht(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!mt.isDocumentKey(r))throw new ht(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function ii(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new ht(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function jo(r,t){if(!gE(r))throw new ht(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(Z.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*vv);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(jo(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Oe("string",ue._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ue(0,0))}static max(){return new At(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function R2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new er(o,mt.empty(),t)}function I2(r){return new er(r.readTime,r.key,Io)}class er{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new er(At.min(),mt.empty(),Io)}static max(){return new er(At.max(),mt.empty(),Io)}}function C2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==N2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function D2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function rl(r){return r.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Om=-1;function uh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function O2(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const yE="";function M2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=V2(r.get(i),t);return Ev(t)}function V2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case yE:i+="";break;default:i+=c}}return i}function Ev(r){return r+yE+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function lr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _E(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ke.RED,this.left=o??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ke(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let i=new Le(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vE("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=k2.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ir(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const EE="server_timestamp",TE="__type__",SE="__previous_value__",AE="__local_write_time__";function Mm(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function ch(r){const t=r.mapValue.fields[SE];return Mm(t)?ch(t):t}function Co(r){const t=nr(r.mapValue.fields[AE].timestampValue);return new ue(t.seconds,t.nanos)}class U2{constructor(t,i,a,o,c,d,g,v,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Yc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const bE="__type__",L2="__max__",Ac={mapValue:{}},wE="__vector__",Kc="value";function sr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mm(r)?4:z2(r)?9007199254740991:P2(r)?10:11:yt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=sr(r);if(i!==sr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Co(r).isEqual(Co(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=nr(o.timestampValue),g=nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return ir(o.bytesValue).isEqual(ir(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ee(o.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ee(o.integerValue)===Ee(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ee(o.doubleValue),g=Ee(c.doubleValue);return d===g?Qc(d)===Qc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Tv(d)!==Tv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Mi(d[v],g[v])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function xo(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=sr(r),a=sr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ee(c.integerValue||c.doubleValue),v=Ee(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(Co(r),Co(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ir(c),v=ir(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=Ut(g[y],v[y]);if(S!==0)return S}return Ut(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(Ee(c.latitude),Ee(d.latitude));return g!==0?g:Ut(Ee(c.longitude),Ee(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Kc]?.arrayValue,S=v[Kc]?.arrayValue,b=Ut(y?.values?.length||0,S?.values?.length||0);return b!==0?b:bv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const M=em(v[b],S[b]);if(M!==0)return M;const F=$a(g[v[b]],y[S[b]]);if(F!==0)return F}return Ut(v.length,S.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=nr(r),a=nr(t),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function bv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=$a(i[o],a[o]);if(c)return c}return Ut(i.length,a.length)}function Za(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=nr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ir(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Mc(r){switch(sr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return ir(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return lr(a.fields,((c,d)=>{o+=c.length+Mc(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function P2(r){return(r?.mapValue?.fields||{})[bE]?.stringValue===wE}function To(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return lr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=To(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=To(r.arrayValue.values[i]);return t}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===L2}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(i)}setAll(t){let i=Xe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=To(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){lr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new gn(To(this.value))}}function RE(r){const t=[];return lr(r.fields,((i,a)=>{const o=new Xe([i]);if(Vc(a)){const c=RE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new In(t)}class tn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,At.min(),At.min(),At.min(),gn.empty(),0)}static newFoundDocument(t,i,a,o){return new tn(t,1,i,At.min(),a,o,0)}static newNoDocument(t,i){return new tn(t,2,i,At.min(),At.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,At.min(),At.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class $c{constructor(t,i="asc"){this.field=t,this.dir=i}}function j2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class IE{}class Ue extends IE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new q2(t,i,a):i==="array-contains"?new F2(t,a):i==="in"?new Q2(t,a):i==="not-in"?new Y2(t,a):i==="array-contains-any"?new K2(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new H2(t,a):new G2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&sr(this.value)===sr(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends IE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return CE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(r){return r.op==="and"}function NE(r){return B2(r)&&CE(r)}function B2(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function sm(r){if(r instanceof Ue)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(NE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof Ue?(function(a,o){return o instanceof Ue&&a.op===o.op&&a.field.isEqual(o.field)&&Mi(a.value,o.value)})(r,t):r instanceof Vi?(function(a,o){return o instanceof Vi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&xE(d,o.filters[g])),!0):!1})(r,t):void yt(19439)}function DE(r){return r instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(DE).join(" ,")+"}"})(r):"Filter"}class q2 extends Ue{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class H2 extends Ue{constructor(t,i){super(t,"in",i),this.keys=OE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class G2 extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=OE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function OE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class F2 extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&xo(i.arrayValue,this.value)}}class Q2 extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class Y2 extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class K2 extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xo(this.value.arrayValue,a)))}}class X2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new X2(r,t,i,a,o,c,d)}function km(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!j2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Cv(r.startAt,t.startAt)&&Cv(r.endAt,t.endAt)}function rm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $2(r,t,i,a,o,c,d,g){return new hh(r,t,i,a,o,c,d,g)}function fh(r){return new hh(r)}function xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z2(r){return r.collectionGroup!==null}function So(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Le(Xe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new $c(c,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new $c(Xe.keyField(),a))}return t.Ie}function Ni(r){const t=Rt(r);return t.Ee||(t.Ee=J2(t,So(r))),t.Ee}function J2(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new $c(o.field,c)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new hh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return Um(Ni(r),Ni(t))&&r.limitType===t.limitType}function ME(r){return`${km(Ni(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>DE(o))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Za(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Za(o))).join(",")),`Target(${a})`})(Ni(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of So(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=Iv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,So(a),o)||a.endAt&&!(function(d,g,v){const y=Iv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,So(a),o))})(r,t)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VE(r){return(t,i)=>{let a=!1;for(const o of So(r)){const c=tR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function tR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?$a(v,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const eR=new de(mt.comparator);function as(){return eR}const kE=new de(mt.comparator);function go(...r){let t=kE;for(const i of r)t=t.insert(i.key,i);return t}function UE(r){let t=kE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return Ao()}function LE(){return Ao()}function Ao(){return new Kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nR=new de(mt.comparator),iR=new Le(mt.comparator);function Lt(...r){let t=iR;for(const i of r)t=t.add(i);return t}const sR=new Le(Ut);function rR(){return sR}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function PE(r){return{integerValue:""+r}}function zE(r,t){return O2(t)?PE(t):Lm(r,t)}class ph{constructor(){this._=void 0}}function aR(r,t,i){return r instanceof Zc?(function(o,c){const d={fields:{[TE]:{stringValue:EE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Mm(c)&&(c=ch(c)),c&&(d.fields[SE]=c),{mapValue:d}})(i,t):r instanceof Do?BE(r,t):r instanceof Oo?qE(r,t):(function(o,c){const d=jE(o,c),g=Dv(d)+Dv(o.Ae);return im(d)&&im(o.Ae)?PE(g):Lm(o.serializer,g)})(r,t)}function lR(r,t,i){return r instanceof Do?BE(r,t):r instanceof Oo?qE(r,t):i}function jE(r,t){return r instanceof Mo?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Zc extends ph{}class Do extends ph{constructor(t){super(),this.elements=t}}function BE(r,t){const i=HE(t);for(const a of r.elements)i.some((o=>Mi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Oo extends ph{constructor(t){super(),this.elements=t}}function qE(r,t){let i=HE(t);for(const a of r.elements)i=i.filter((o=>!Mi(o,a)));return{arrayValue:{values:i}}}class Mo extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Dv(r){return Ee(r.integerValue||r.doubleValue)}function HE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class oR{constructor(t,i){this.field=t,this.transform=i}}function uR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Do&&o instanceof Do||a instanceof Oo&&o instanceof Oo?Xa(a.elements,o.elements,Mi):a instanceof Mo&&o instanceof Mo?Mi(a.Ae,o.Ae):a instanceof Zc&&o instanceof Zc})(r.transform,t.transform)}class cR{constructor(t,i){this.version=t,this.transformResults=i}}class si{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function GE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Pm(r.key,si.none()):new Bo(r.key,r.data,si.none());{const i=r.data,a=gn.empty();let o=new Le(Xe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new or(r.key,a,new In(o.toArray()),si.none())}}function hR(r,t,i){r instanceof Bo?(function(o,c,d){const g=o.value.clone(),v=Mv(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof or?(function(o,c,d){if(!kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Mv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(FE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bo(r,t,i,a){return r instanceof Bo?(function(c,d,g,v){if(!kc(c.precondition,d))return g;const y=c.value.clone(),S=Vv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof or?(function(c,d,g,v){if(!kc(c.precondition,d))return g;const y=Vv(c.fieldTransforms,v,d),S=d.data;return S.setAll(FE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,g){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function fR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=jE(a.transform,o||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function Ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Xa(a,o,((c,d)=>uR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bo extends gh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends gh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Mv(r,t,i){const a=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,lR(d,g,i[o]))}return a}function Vv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,aR(c,d,t))}return a}class Pm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&hR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=LE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=GE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class zm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return nR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new zm(t,i,a,o)}}class pR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gR{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,Bt;function yR(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function QE(r){if(r===void 0)return rs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case De.OK:return Z.OK;case De.CANCELLED:return Z.CANCELLED;case De.UNKNOWN:return Z.UNKNOWN;case De.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case De.INTERNAL:return Z.INTERNAL;case De.UNAVAILABLE:return Z.UNAVAILABLE;case De.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case De.NOT_FOUND:return Z.NOT_FOUND;case De.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case De.ABORTED:return Z.ABORTED;case De.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case De.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function _R(){return new TextEncoder}const vR=new Js([4294967295,4294967295],0);function kv(r){const t=_R().encode(r),i=new oE;return i.update(t),new Uint8Array(i.digest())}function Uv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Js([i,a],0),new Js([o,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yo(`Invalid padding: ${i}`);if(a<0)throw new yo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Js.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Js.fromNumber(a)));return o.compare(vR)===1&&(o=new Js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=kv(t),[a,o]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=kv(t),[a,o]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(At.min(),o,new de(Ut),as(),Lt())}}class qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new qo(a,i,Lt(),Lt(),Lt())}}class Uc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class YE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,a=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Lv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new qo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ER{constructor(t){this.Ge=t,this.ze=new Map,this.je=as(),this.Je=bc(),this.He=bc(),this.Ye=new de(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new mt(c.path);this.et(i,d,tn.newNoDocument(d,At.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ir(a).toUint8Array()}catch(v){if(v instanceof vE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new jm(d,o,c)}catch(v){return Ka(v instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,tn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new yh(t,i,this.Ye,this.je,a);return this.je=as(),this.Je=bc(),this.He=bc(),this.Ye=new de(Ut),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new de(mt.comparator)}function Pv(){return new de(mt.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class bR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function wR(r,t){return Jc(r,t.toTimestamp())}function xi(r){return Kt(!!r,49232),At.fromTimestamp((function(i){const a=nr(i);return new ue(a.seconds,a.nanos)})(r))}function Bm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function $E(r){const t=fe.fromString(r);return Kt(eT(t),10190,{key:t.toString()}),t}function um(r,t){return Bm(r.databaseId,t.path)}function jd(r,t){const i=$E(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(JE(i))}function ZE(r,t){return Bm(r.databaseId,t)}function RR(r){const t=$E(r);return t.length===4?fe.emptyPath():JE(t)}function cm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function IR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Kt(S===void 0||typeof S=="string",58123),$e.fromBase64String(S||"")):(Kt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),$e.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:QE(y.code);return new ht(S,y.message||"")})(d);i=new KE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=jd(r,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):At.min(),g=new gn({mapValue:{fields:a.document.fields}}),v=tn.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new Uc(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=jd(r,a.document),c=a.readTime?xi(a.readTime):At.min(),d=tn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=jd(r,a.document),c=a.removedTargetIds||[];i=new Uc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new gR(o,c),g=a.targetId;i=new YE(g,d)}}return i}function CR(r,t){let i;if(t instanceof Bo)i={update:zv(r,t.key,t.value)};else if(t instanceof Pm)i={delete:um(r,t.key)};else if(t instanceof or)i={update:zv(r,t.key,t.data),updateMask:LR(t.fieldMask)};else{if(!(t instanceof dR))return yt(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Do)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:wR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(At.min())&&(d=xi(c)),new cR(d,o.transformResults||[])})(i,t)))):[]}function xR(r,t){return{documents:[ZE(r,t.path)]}}function DR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZE(r,o);const c=(function(y){if(y.length!==0)return tT(Vi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(M){return{field:za(M.field),direction:VR(M.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function OR(r){let t=RR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Kt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(b){const M=WE(b);return M instanceof Vi&&NE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(tt){return new $c(ja(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let M;return M=typeof b=="object"?b.value:b,uh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(b){const M=!!b.before,F=b.values||[];return new Xc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const M=!b.before,F=b.values||[];return new Xc(F,M)})(i.endAt)),$2(t,o,d,c,g,"F",v,y)}function MR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ja(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ue.create(ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((a=>WE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function VR(r){return TR[r]}function kR(r){return SR[r]}function UR(r){return AR[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Xe.fromServerFormat(r.fieldPath)}function tT(r){return r instanceof Ue?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:kR(i.op),value:i.value}}})(r):r instanceof Vi?(function(i){const a=i.getFilters().map((o=>tT(o)));return a.length===1?a[0]:{compositeFilter:{op:UR(i.op),filters:a}}})(r):yt(54877,{filter:r})}function LR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ys{constructor(t,i,a,o,c=At.min(),d=At.min(),g=$e.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PR{constructor(t){this.yt=t}}function zR(r){const t=OR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class jR{constructor(){this.Cn=new BR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(er.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(er.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class BR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Le(fe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Le(fe.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nT=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(nT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const Bv="LruGarbageCollector",qR=1048576;function qv([r,t],[i,a]){const o=Ut(r,i);return o===0?Ut(t,a):o}class HR{constructor(t){this.Ir=t,this.buffer=new Le(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){rl(i)?at(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Vr(3e5)}))}}class FR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(oh.ce);const a=new HR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),La()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function QR(r,t){return new FR(r,t)}class YR{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class KR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class XR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&bo(a.mutation,o,In.empty(),ue.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=go();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=as();const d=Ao(),g=(function(){return Ao()})();return i.forEach(((v,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof or)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),bo(S.mutation,y,S.mutation.getFieldMask(),ue.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new KR(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new de(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=a.get(v)||In.empty();S=g.applyToLocalView(y,S),a.set(v,S);const b=(o.get(g.batchId)||Lt()).add(v);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,b=LE();S.forEach((M=>{if(!c.has(M)){const F=GE(i.get(M),a.get(M));F!==null&&b.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Z2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(jr());let g=Io,v=c;return d.next((y=>$.forEach(y,((S,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Lt()))).next((S=>({batchId:g,changes:UE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=go();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=go();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(v=>{const y=(function(b,M){return new hh(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((S=>{S.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,tn.newInvalidDocument(S)))}));let g=go();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&bo(S.mutation,y,In.empty(),ue.now()),mh(i,y)&&(g=g.insert(v,y))})),g}))}}class $R{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:zR(o.bundledQuery),readTime:xi(o.readTime)}})(i)),$.resolve()}}class ZR{constructor(){this.overlays=new de(mt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new de(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=jr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return $.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class JR{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class qm{constructor(){this.Qr=new Le(Be.$r),this.Ur=new Le(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new fe([])),a=new Be(i,t),o=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new fe([])),a=new Be(i,t),o=new Be(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class WR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Be.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(Ut);return i.forEach((o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new mt(c),0);let g=new Le(Ut);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Be(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tI{constructor(t){this.ri=t,this.docs=(function(){return new de(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let a=as();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=as();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||C2(I2(S),a)<=0||(o.has(S.key)||mh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new eI(this)}getSize(t){return $.resolve(this.size)}}class eI extends YR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class nI{constructor(t){this.persistence=t,this.si=new Kr((i=>km(i)),Um),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class iT{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new JR,this.referenceDelegate=t(this),this.Pi=new nI(this),this.indexManager=new jR,this.remoteDocumentCache=(function(o){return new tI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new PR(i),this.Ii=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ZR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new WR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new iI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class iI extends x2{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Kr((a=>M2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=QR(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Gm(t,i.fromCache,a,o)}}class sI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YS()?8:D2(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(La()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(La()<=kt.DEBUG&&at("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(La()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):$.resolve())}ys(t,i){if(xv(i))return $.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return xv(i)||o.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(La()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(i)),this.vs(t,d,i,R2(o,Io)).next((g=>g)))}))}Ds(t,i){let a=new Le(VE(t));return i.forEach(((o,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return La()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,er.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",aI=3e8;class lI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new de(Ut),this.xs=new Kr((c=>km(c)),Um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function oI(r,t,i,a){return new lI(r,t,i,a)}async function sT(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Lt();for(const y of o){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function uI(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const b=y.batch,M=b.keys();let F=$.resolve();return M.forEach((tt=>{F=F.next((()=>S.getEntry(v,tt))).next((st=>{const W=y.docVersions.get(tt);Kt(W!==null,48541),st.version.compareTo(W)<0&&(b.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),S.addEntry(st)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function rT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cI(r,t){const i=Rt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((S,b)=>{const M=o.get(b);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,b))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken($e.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),o=o.insert(b,F),(function(st,W,dt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=aI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,F,S)&&g.push(i.Pi.updateTargetData(c,F))}));let v=as(),y=Lt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(hI(c,d,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!a.isEqual(At.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function hI(r,t,i){let a=Lt(),o=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=as();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(At.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):at(Fm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function fI(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function dI(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ys(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=Rt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!rl(d))throw d;at(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Hv(r,t,i){const a=Rt(r);let o=At.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const b=Rt(v),M=b.xs.get(S);return M!==void 0?$.resolve(b.Ms.get(M)):b.Pi.getTargetData(y,S)})(a,d,Ni(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:At.min(),i?c:Lt()))).next((g=>(mI(a,W2(t),g),{documents:g,Qs:c})))))}function mI(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Gv{constructor(){this.activeTargetIds=rR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pI{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gI{Oo(t){}shutdown(){}}const Fv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function fm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Bd="RestConnection",yI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),g=this.zo(t,i.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),S=tl(y);return this.Jo(t,g,v,a,S).then((b=>(at(Bd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(Bd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=yI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class vI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class EI extends _I{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((g,v)=>{const y=new uE;y.setWithCredentials(!0),y.listenOnce(cE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const b=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Oc.TIMEOUT:at(Je,`RPC '${t}' ${d} timed out`),v(new ht(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const M=y.getStatus();if(at(Je,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const st=(function(dt){const Et=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})(tt.status);v(new ht(st,tt.message))}else v(new ht(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ht(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);at(Je,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=dE(),g=fE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=c.join("");at(Je,`Creating RPC '${t}' stream ${o}: ${S}`,v);const b=d.createWebChannel(S,v);this.I_(b);let M=!1,F=!1;const tt=new vI({Yo:W=>{F?at(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(M||(at(Je,`Opening RPC '${t}' stream ${o} transport.`),b.open(),M=!0),at(Je,`RPC '${t}' stream ${o} sending:`,W),b.send(W))},Zo:()=>b.close()}),st=(W,dt,Et)=>{W.listen(dt,(gt=>{try{Et(gt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return st(b,po.EventType.OPEN,(()=>{F||(at(Je,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),st(b,po.EventType.CLOSE,(()=>{F||(F=!0,at(Je,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(b))})),st(b,po.EventType.ERROR,(W=>{F||(F=!0,Ka(Je,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ht(Z.UNAVAILABLE,"The operation could not be completed")))})),st(b,po.EventType.MESSAGE,(W=>{if(!F){const dt=W.data[0];Kt(!!dt,16349);const Et=dt,gt=Et?.error||Et[0]?.error;if(gt){at(Je,`RPC '${t}' stream ${o} received error:`,gt);const qt=gt.status;let ie=(function(A){const R=De[A];if(R!==void 0)return QE(R)})(qt),Pt=gt.message;ie===void 0&&(ie=Z.INTERNAL,Pt="Unknown error status: "+qt+" with message "+gt.message),F=!0,tt.a_(new ht(ie,Pt)),b.close()}else at(Je,`RPC '${t}' stream ${o} received:`,dt),tt.u_(dt)}})),st(g,hE.STAT_EVENT,(W=>{W.stat===tm.PROXY?at(Je,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===tm.NOPROXY&&at(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function _h(r){return new bR(r,!0)}class aT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yv="PersistentStream";class lT{constructor(t,i,a,o,c,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ht(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends lT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=IR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?xi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=rm(v)?{documents:xR(c,v)}:{query:DR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Jc(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=MR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class SI extends lT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NR(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>CR(this.serializer,a)))};this.q_(i)}}class AI{}class bI extends AI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,om(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class RI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(at(Qr,"Restarting streams for network reachability change."),await(async function(v){const y=Rt(v);y.Ea.add(4),await Ho(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vh(y)})(this))}))})),this.Ra=new wI(a,o)}}async function vh(r){if(Xr(r))for(const t of r.da)await t(!0)}async function Ho(r){for(const t of r.da)await t(!1)}function oT(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Km(i):al(i).O_()&&Ym(i,t))}function Qm(r,t){const i=Rt(r),a=al(i);i.Ia.delete(t),a.O_()&&uT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Ra.set("Unknown"))}function Ym(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}al(r).Y_(t)}function uT(r,t){r.Va.Ue(t),al(r).Z_(t)}function Km(r){r.Va=new ER({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Ra.ua()}function Xm(r){return Xr(r)&&!al(r).x_()&&r.Ia.size>0}function Xr(r){return Rt(r).Ea.size===0}function cT(r){r.Va=void 0}async function II(r){r.Ra.set("Online")}async function CI(r){r.Ia.forEach(((t,i)=>{Ym(r,t)}))}async function NI(r,t){cT(r),Xm(r)?(r.Ra.ha(t),Km(r)):r.Ra.set("Unknown")}async function xI(r,t,i){if(r.Ra.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){at(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(r,a)}else if(t instanceof Uc?r.Va.Ze(t):t instanceof YE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await rT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken($e.EMPTY_BYTE_STRING,S.snapshotVersion)),uT(c,v);const b=new Ys(S.target,v,y,S.sequenceNumber);Ym(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Qr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,t,i){if(!rl(t))throw t;r.Ea.add(1),await Ho(r),r.Ra.set("Offline"),i||(i=()=>rT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Qr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await vh(r)}))}function hT(r,t){return t().catch((i=>th(r,i,t)))}async function Eh(r){const t=Rt(r),i=rr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;DI(t);)try{const o=await fI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,OI(t,o)}catch(o){await th(t,o)}fT(t)&&dT(t)}function DI(r){return Xr(r)&&r.Ta.length<10}function OI(r,t){r.Ta.push(t);const i=rr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function fT(r){return Xr(r)&&!rr(r).x_()&&r.Ta.length>0}function dT(r){rr(r).start()}async function MI(r){rr(r).ra()}async function VI(r){const t=rr(r);for(const i of r.Ta)t.ea(i.mutations)}async function kI(r,t,i){const a=r.Ta.shift(),o=zm.from(a,t,i);await hT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Eh(r)}async function UI(r,t){t&&rr(r).X_&&await(async function(a,o){if((function(d){return yR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();rr(a).B_(),await hT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(a)}})(r,t),fT(r)&&dT(r)}async function Kv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),at(Qr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Ho(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function LI(r,t){const i=Rt(r);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Ho(i),i.Ra.set("Unknown"))}function al(r){return r.ma||(r.ma=(function(i,a,o){const c=Rt(i);return c.sa(),new TI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:II.bind(null,r),t_:CI.bind(null,r),r_:NI.bind(null,r),H_:xI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Xm(r)?Km(r):r.Ra.set("Unknown")):(await r.ma.stop(),cT(r))}))),r.ma}function rr(r){return r.fa||(r.fa=(function(i,a,o){const c=Rt(i);return c.sa(),new SI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MI.bind(null,r),r_:UI.bind(null,r),ta:VI.bind(null,r),na:kI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Qr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $m{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new $m(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,t){if(rs("AsyncQueue",`${t}: ${r}`),rl(r))return new ht(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=go(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new de(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Wa(t,i,Fa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class PI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zI{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Rt(i),c=o.queries;o.queries=$v(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new ht(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new Kr((r=>ME(r)),dh)}async function mT(r,t){const i=Rt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new PI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Zm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function pT(r,t){const i=Rt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jI(r,t){const i=Rt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Jm(i)}function BI(r,t,i){const a=Rt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Jm(r){r.Ca.forEach((t=>{t.next()}))}var dm,Zv;(Zv=dm||(dm={})).Ma="default",Zv.Cache="cache";class gT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class yT{constructor(t){this.key=t}}class _T{constructor(t){this.key=t}}class qI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=VE(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,b)=>{const M=o.get(S),F=mh(this.query,b)?b:null,tt=!!M&&this.mutatedKeys.has(M.key),st=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;M&&F?M.data.isEqual(F.data)?tt!==st&&(a.track({type:3,doc:F}),W=!0):this.su(M,F)||(a.track({type:2,doc:F}),W=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),W=!0):M&&!F&&(a.track({type:1,doc:M}),W=!0,(v||y)&&(g=!0)),W&&(F?(d=d.add(F),c=st?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(F,tt){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return st(F)-st(tt)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new _T(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new yT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class HI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class GI{constructor(t){this.key=t,this.hu=!1}}class FI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((g=>ME(g)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new de(mt.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QI(r,t,i=!0){const a=bT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await vT(a,t,i,!0),o}async function YI(r,t){const i=bT(r);await vT(i,t,!0,!1)}async function vT(r,t,i,a){const o=await dI(r.localStore,Ni(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await KI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&oT(r.remoteStore,o),g}async function KI(r,t,i,a,o){r.pu=(b,M,F)=>(async function(st,W,dt,Et){let gt=W.view.ru(dt);gt.Cs&&(gt=await Hv(st.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,gt))));const qt=Et&&Et.targetChanges.get(W.targetId),ie=Et&&Et.targetMismatches.get(W.targetId)!=null,Pt=W.view.applyChanges(gt,st.isPrimaryClient,qt,ie);return Wv(st,W.targetId,Pt.au),Pt.snapshot})(r,b,M,F);const c=await Hv(r.localStore,t,!0),d=new qI(t,c.Qs),g=d.ru(c.documents),v=qo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);Wv(r,i,y.au);const S=new HI(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function XI(r,t,i){const a=Rt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Qm(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(sl)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function $I(r,t){const i=Rt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function ZI(r,t,i){const a=sC(r);try{const o=await(function(d,g){const v=Rt(d),y=ue.now(),S=g.reduce(((F,tt)=>F.add(tt.key)),Lt());let b,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=as(),st=Lt();return v.Ns.getEntries(F,S).next((W=>{tt=W,tt.forEach(((dt,Et)=>{Et.isValidDocument()||(st=st.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,tt))).next((W=>{b=W;const dt=[];for(const Et of g){const gt=fR(Et,b.get(Et.key).overlayedDocument);gt!=null&&dt.push(new or(Et.key,gt,RE(gt.value.mapValue),si.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,dt,g)})).next((W=>{M=W;const dt=W.applyToLocalDocumentSet(b,st);return v.documentOverlayCache.saveOverlays(F,W.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:UE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new de(Ut)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Go(a,o.changes),await Eh(a.remoteStore)}catch(o){const c=Zm(o,"Failed to persist write");i.reject(c)}}async function ET(r,t){const i=Rt(r);try{const a=await cI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Kt(d.hu,14607):o.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await Go(i,a,t)}catch(a){await sl(a)}}function Jv(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Rt(d);v.onlineState=g;let y=!1;v.queries.forEach(((S,b)=>{for(const M of b.Sa)M.va(g)&&(y=!0)})),y&&Jm(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function JI(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new de(mt.comparator);d=d.insert(c,tn.newNoDocument(c,At.min()));const g=Lt().add(c),v=new yh(At.min(),new Map,new de(Ut),d,g);await ET(a,v),a.du=a.du.remove(c),a.Au.delete(t),tp(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(sl)}async function WI(r,t){const i=Rt(r),a=t.batch.batchId;try{const o=await uI(i.localStore,t);ST(i,a,null),TT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Go(i,o)}catch(o){await sl(o)}}async function tC(r,t,i){const a=Rt(r);try{const o=await(function(d,g){const v=Rt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((b=>(Kt(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);ST(a,t,i),TT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Go(a,o)}catch(o){await sl(o)}}function TT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ST(r,t,i){const a=Rt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||AT(r,a)}))}function AT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),tp(r))}function Wv(r,t,i){for(const a of i)a instanceof yT?(r.Ru.addReference(a.key,t),eC(r,a)):a instanceof _T?(at(Wm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||AT(r,a.key)):yt(19791,{wu:a})}function eC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(Wm,"New document in limbo: "+i),r.Eu.add(a),tp(r))}function tp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new GI(i)),r.du=r.du.insert(i,a),oT(r.remoteStore,new Ys(Ni(fh(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Go(r,t,i){const a=Rt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Gm.As(v.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const S=Rt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(y,(M=>$.forEach(M.Es,(F=>S.persistence.referenceDelegate.addReference(b,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>S.persistence.referenceDelegate.removeReference(b,M.targetId,F)))))))))}catch(b){if(!rl(b))throw b;at(Fm,"Failed to update sequence numbers: "+b)}for(const b of y){const M=b.targetId;if(!b.fromCache){const F=S.Ms.get(M),tt=F.snapshotVersion,st=F.withLastLimboFreeSnapshotVersion(tt);S.Ms=S.Ms.insert(M,st)}}})(a.localStore,c))}async function nC(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){at(Wm,"User change. New user:",t.toKey());const a=await sT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ht(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Go(i,a.Ls)}}function iC(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let o=Lt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JI.bind(null,t),t.Pu.H_=jI.bind(null,t.eventManager),t.Pu.yu=BI.bind(null,t.eventManager),t}function sC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oI(this.persistence,new rI,t.initialUser,this.serializer)}Cu(t){return new iT(Hm.mi,this.serializer)}Du(t){return new pI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class rC extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new iT((a=>Wc.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),await LI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zI})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=(function(c){return new EI(c)})(t.databaseInfo);return(function(c,d,g,v){return new bI(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new RI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new gI})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,S){const b=new FI(o,c,d,g,v,y);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);at(Qr,"RemoteStore shutting down."),a.Ea.add(5),await Ho(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class wT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ar="FirestoreClient";class aC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),at(ar,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await sT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await lC(r);at(ar,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Kv(t.remoteStore,o))),r._onlineComponents=t}async function lC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ar,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new eh)}}else at(ar,"Using default OfflineComponentProvider"),await Hd(r,new rC(void 0));return r._offlineComponents}async function RT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ar,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(at(ar,"Using default OnlineComponentProvider"),await t0(r,new pm))),r._onlineComponents}function oC(r){return RT(r).then((t=>t.syncEngine))}async function gm(r){const t=await RT(r),i=t.eventManager;return i.onListen=QI.bind(null,t.syncEngine),i.onUnlisten=XI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=YI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$I.bind(null,t.syncEngine),i}function uC(r,t,i={}){const a=new Ws;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const S=new wT({next:M=>{S.Nu(),d.enqueueAndForget((()=>pT(c,b)));const F=M.docs.has(g);!F&&M.fromCache?y.reject(new ht(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&v&&v.source==="server"?y.reject(new ht(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),b=new gT(fh(g.path),S,{includeMetadataChanges:!0,qa:!0});return mT(c,b)})(await gm(r),r.asyncQueue,t,i,a))),a.promise}function IT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const e0=new Map;const CT="firestore.googleapis.com",n0=!0;class i0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=n0}else this.host=t.host,this.ssl=t.ssl??n0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qR)throw new ht(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new m2;switch(a.type){case"firstParty":return new _2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e0.get(i);a&&(at("ComponentProvider","Removing Datastore"),e0.delete(i),a.terminate())})(this),Promise.resolve()}}function cC(r,t,i,a={}){r=ii(r,ep);const o=tl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(S0(`https://${g}`),A0("Firestore",!0)),c.host!==CT&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!qr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=We.MOCK_USER;else{y=PS(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ht(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new We(b)}r._authCredentials=new p2(new pE(y,S))}}class Th{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Th(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(jo(i,Me._jsonSchema))return new Me(t,a||null,new mt(fe.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class Vo extends Th{constructor(t,i,a){super(t,i,fh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new mt(t))}withConverter(t){return new Vo(this.firestore,t,this._path)}}function Rc(r,t,...i){if(r=nn(r),arguments.length===1&&(t=xm.newId()),b2("doc","path",t),r instanceof ep){const a=fe.fromString(t,...i);return yv(a),new Me(r,null,new mt(a))}{if(!(r instanceof Me||r instanceof Vo))throw new ht(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return yv(a),new Me(r.firestore,r instanceof Vo?r.converter:null,new mt(a))}}const s0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aT(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&at(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;at(s0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function a0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Yr extends ep{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new r0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function hC(r,t){const i=typeof r=="object"?r:I0(),a=typeof r=="string"?r:Yc,o=Tm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=US("firestore");c&&cC(o,...c)}return o}function np(r){if(r._terminated)throw new ht(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fC(r),r._firestoreClient}function fC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new U2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,IT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new aC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn($e.fromBase64String(t))}catch(i){throw new ht(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(jo(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ah{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(jo(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Oe("string",Di._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(jo(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new ht(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),vectorValues:Oe("object")};const dC=/^__.*__$/;class mC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(t,this.data,i,this.fieldTransforms)}}class NT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new or(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class ip{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ip({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xT(this.Ac)&&dC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}Cc(t,i,a,o=!1){return new ip({Ac:t,methodName:i,Dc:a,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(r){const t=r._freezeSettings(),i=_h(r._databaseId);return new pC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function gC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);rp("Data must be an object, but it was:",d,a);const g=OT(a,d);let v,y;if(c.merge)v=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const M=ym(t,b,i);if(!d.contains(M))throw new ht(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);VT(S,M)||S.push(M)}v=new In(S),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new mC(new gn(g),v,y)}class bh extends Ah{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}class sp extends Ah{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Mo(t.serializer,zE(t.serializer,this.Fc));return new oR(t.path,i)}isEqual(t){return t instanceof sp&&this.Fc===t.Fc}}function yC(r,t,i,a){const o=r.Cc(1,t,i);rp("Data must be an object, but it was:",o,a);const c=[],d=gn.empty();lr(a,((v,y)=>{const S=ap(t,v,i);y=nn(y);const b=o.yc(S);if(y instanceof bh)c.push(S);else{const M=wh(y,b);M!=null&&(c.push(S),d.set(S,M))}}));const g=new In(c);return new NT(d,g,o.fieldTransforms)}function _C(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[ym(t,a,i)],v=[o];if(c.length%2!=0)throw new ht(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(ym(t,c[M])),v.push(c[M+1]);const y=[],S=gn.empty();for(let M=g.length-1;M>=0;--M)if(!VT(y,g[M])){const F=g[M];let tt=v[M];tt=nn(tt);const st=d.yc(F);if(tt instanceof bh)y.push(F);else{const W=wh(tt,st);W!=null&&(y.push(F),S.set(F,W))}}const b=new In(y);return new NT(S,b,d.fieldTransforms)}function wh(r,t){if(MT(r=nn(r)))return rp("Unsupported field value:",t,r),OT(r,t);if(r instanceof Ah)return(function(a,o){if(!xT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=wh(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:Jc(o.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:XE(o.serializer,a._byteString)};if(a instanceof Me){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Oi)return(function(d,g){return{mapValue:{fields:{[bE]:{stringValue:wE},[Kc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Dm(a)}`)})(r,t)}function OT(r,t){const i={};return _E(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(r,((a,o)=>{const c=wh(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function MT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Di||r instanceof Bn||r instanceof Me||r instanceof Ah||r instanceof Oi)}function rp(r,t,i){if(!MT(i)||!gE(i)){const a=Dm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function ym(r,t,i){if((t=nn(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return ap(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const vC=new RegExp("[~\\*/\\[\\]]");function ap(r,t,i){if(t.search(vC)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ht(Z.INVALID_ARGUMENT,g+r+v)}function VT(r,t){return r.some((i=>i.isEqual(t)))}class kT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(UT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class EC extends kT{data(){return super.data()}}function UT(r,t){return typeof t=="string"?ap(r,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function TC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SC{convertValue(t,i="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return lr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Di(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Co(t));default:return null}}convertTimestamp(t){const i=nr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Kt(eT(a),9688,{name:t});const o=new No(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function AC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class _o{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Br extends kT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(UT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Oe("string",Br._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Lc extends Br{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new _o(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new _o(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new _o(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:bC(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function wC(r){r=ii(r,Me);const t=ii(r.firestore,Yr);return uC(np(t),r._key).then((i=>PT(t,r,i)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Oe("string",Qa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class LT extends SC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function RC(r,t,i){r=ii(r,Me);const a=ii(r.firestore,Yr),o=AC(r.converter,t);return lp(a,[gC(DT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,si.none())])}function Gd(r,t,i,...a){r=ii(r,Me);const o=ii(r.firestore,Yr),c=DT(o);let d;return d=typeof(t=nn(t))=="string"||t instanceof Sh?_C(c,"updateDoc",r._key,t,i,a):yC(c,"updateDoc",r._key,t),lp(o,[d.toMutation(r._key,si.exists(!0))])}function IC(r){return lp(ii(r.firestore,Yr),[new Pm(r._key,si.none())])}function CC(r,...t){r=nn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof Me)d=ii(r.firestore,Yr),g=fh(r._key.path),c={next:v=>{t[a]&&t[a](PT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=ii(r,Th);d=ii(v.firestore,Yr),g=v._query;const y=new LT(d);c={next:S=>{t[a]&&t[a](new Qa(d,y,v,S))},error:t[a+1],complete:t[a+2]},TC(r._query)}return(function(y,S,b,M){const F=new wT(M),tt=new gT(S,F,b);return y.asyncQueue.enqueueAndForget((async()=>mT(await gm(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>pT(await gm(y),tt)))}})(np(d),g,o,c)}function lp(r,t){return(function(a,o){const c=new Ws;return a.asyncQueue.enqueueAndForget((async()=>ZI(await oC(a),o,c))),c.promise})(np(r),t)}function PT(r,t,i){const a=i.docs.get(t._key),o=new LT(r);return new Br(r,o,t._key,a,new _o(i.hasPendingWrites,i.fromCache),t.converter)}function NC(r){return new sp("increment",r)}(function(t,i=!0){(function(o){il=o})(el),Ya(new Hr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Yr(new g2(a.getProvider("auth-internal")),new v2(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(dv,mv,t),$s(dv,mv,"esm2020")})();const xC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),o0=r=>{const t=DC(r);return t.charAt(0).toUpperCase()+t.slice(1)},zT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),OC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VC=ne.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>ne.createElement("svg",{ref:v,...MC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:zT("lucide",o),...!c&&!OC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>ne.createElement(y,S)),...Array.isArray(c)?c:[c]]));const ln=(r,t)=>{const i=ne.forwardRef(({className:a,...o},c)=>ne.createElement(VC,{ref:c,iconNode:t,className:zT(`lucide-${xC(o0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=o0(r),i};const kC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],UC=ln("arrow-right",kC);const LC=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],PC=ln("bomb",LC);const zC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jC=ln("circle-check-big",zC);const BC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],u0=ln("gift",BC);const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HC=ln("info",qC);const GC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],FC=ln("log-in",GC);const QC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YC=ln("log-out",QC);const KC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XC=ln("pen-line",KC);const $C=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ZC=ln("rotate-ccw",$C);const JC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],WC=ln("share-2",JC);const tN=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],c0=ln("shuffle",tN);const eN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],h0=ln("skull",eN);const nN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],f0=ln("star",nN);const iN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sN=ln("triangle-alert",iN);const rN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aN=ln("users",rN),jT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Rh=jT.apiKey!=="_apiKey",BT=Rh?R0(jT):null,Ic=Rh?f2(BT):null,mo=Rh?hC(BT):null,d0=["","","","","","","","","","","","","",""," 10 "],Fd=["","++","","","","","",""," 20 ","/"],m0=({message:r,onClose:t})=>(ne.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),k.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%] pointer-events-none",children:k.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl border border-slate-600 flex items-center gap-2",children:[k.jsx(HC,{size:18,className:"text-blue-400 shrink-0"}),k.jsx("span",{className:"font-bold text-sm md:text-base",children:r})]})})),p0=ne.memo(()=>{const r=ne.useRef(null);return ne.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.15)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.y>t.height&&(g.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),k.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),qs=({children:r,className:t=""})=>k.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),ti=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},v={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return k.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${v[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},lN=({onFinish:r})=>{const[t,i]=ne.useState(10);return ne.useEffect(()=>{if(t<=0){r();return}const a=setTimeout(()=>i(o=>o-1),1e3);return()=>clearTimeout(a)},[t,r]),k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:k.jsxs("div",{className:"text-center animate-pulse",children:[k.jsx("div",{className:"text-yellow-400 text-4xl mb-4 font-bold",children:""}),k.jsx("div",{className:"text-[15rem] font-black text-white leading-none",children:t})]})})},oN=()=>{const[r,t]=ne.useState(null),[i,a]=ne.useState(""),[o,c]=ne.useState(""),[d,g]=ne.useState(null),[v,y]=ne.useState(!1),[S,b]=ne.useState(!0),[M,F]=ne.useState(null),[tt,st]=ne.useState(""),[W,dt]=ne.useState(""),[Et,gt]=ne.useState(""),[qt,ie]=ne.useState({}),[Pt,C]=ne.useState(" ..."),[A,R]=ne.useState(!1),O=X=>{F(X)};if(!Rh)return k.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:k.jsxs("div",{className:"max-w-md",children:[k.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),k.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});ne.useEffect(()=>{const X=async()=>{try{await Kb(Ic)}catch(J){console.error(":",J)}};if(Ic){X();const J=tw(Ic,It=>{t(It),b(!1)});return()=>J()}else b(!1)},[]),ne.useEffect(()=>{if(r&&!v){const X=localStorage.getItem("xmas_last_room_id");X&&a(X)}},[r]),ne.useEffect(()=>{if(!r||!i||!mo)return;const X=Rc(mo,"xmas_rooms",`room_${i}`),J=CC(X,It=>{if(It.exists()){const ut=It.data();if(g(ut),ut.participants&&ut.participants[r.uid]){if(y(!0),c(ut.participants[r.uid]),ut.phase==="gift-entry"){const bt=ut.gifts?ut.gifts[r.uid]:"";bt&&gt(bt)}if(ut.phase==="rule-entry"){const bt=ut.rules.find(Te=>Te.uid===r.uid);bt&&bt.text&&st(bt.text)}if(ut.phase==="punishment-entry"){const bt=ut.punishments?ut.punishments[r.uid]:"";bt&&dt(bt)}}if(ut.hostId===r.uid){const bt=Object.keys(ut.participants).length;ut.phase==="gift-entry"&&bt>1&&Object.keys(ut.gifts||{}).length===bt&&ot("rule-entry",ut),ut.phase==="rule-entry"&&bt>1&&ut.rules.filter(yn=>yn.text&&yn.text.trim()!=="").length===bt&&ot("punishment-entry",ut),ut.phase==="punishment-entry"&&bt>1&&Object.keys(ut.punishments||{}).length===bt&&ot("game-playing",ut),ut.phase==="voting"&&bt>1&&Object.keys(ut.votingStatus||{}).length===bt&&ot("countdown",ut)}ut.phase==="result"&&(R(!1),C(" ...")),ut.finalPunishment&&C(ut.finalPunishment)}else g(null)});return()=>J()},[r,i]);const x=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await ew(Ic),window.location.reload())},U=async()=>{if(!confirm(""))return;const X=Rc(mo,"xmas_rooms",`room_${i}`),J={...d.participants};if(delete J[r.uid],Object.keys(J).length===0)await IC(X),O(" ");else{let It={participants:J};d.hostId===r.uid&&(It.hostId=Object.keys(J)[0]),await Gd(X,It)}localStorage.removeItem("xmas_last_room_id"),window.location.reload()},w=async()=>{const X=i.toString().trim(),J=o.trim();if(!X||!J){O("");return}a(X),c(J);const It=Rc(mo,"xmas_rooms",`room_${X}`);try{const ut=await wC(It);if(!ut.exists())await RC(It,{hostId:r.uid,phase:"entry",participants:{[r.uid]:J},gifts:{},rules:[],punishments:{},currentRuleIndex:0,votingStatus:{},ratings:{},finalPunishment:null,createdAt:new Date().toISOString()});else{const bt=ut.data();if(bt.phase!=="entry"&&!bt.participants[r.uid]){O("");return}await Gd(It,{[`participants.${r.uid}`]:J})}localStorage.setItem("xmas_last_room_id",X),y(!0)}catch{O("")}},ae=()=>{const X=` 
${window.location.href}
${i}`,J=document.createElement("textarea");J.value=X,J.style.position="fixed",J.style.left="-9999px",document.body.appendChild(J),J.focus(),J.select();try{document.execCommand("copy"),O(" ")}catch{O("")}document.body.removeChild(J)},se=async X=>{if(!i)return;const J=Rc(mo,"xmas_rooms",`room_${i}`);await Gd(J,X)},H=()=>{const X=d0[Math.floor(Math.random()*d0.length)];st(X)},nt=()=>{const X=Fd[Math.floor(Math.random()*Fd.length)];dt(X)},ot=async(X,J=d)=>{if(!J)return;let It={phase:X};if(X==="rule-entry"){const bt=Object.keys(J.participants).map(Te=>({uid:Te,authorName:J.participants[Te],text:""}));It.rules=bt}if(X==="game-playing"){const ut=[...J.rules];for(let bt=ut.length-1;bt>0;bt--){const Te=Math.floor(Math.random()*(bt+1));[ut[bt],ut[Te]]=[ut[Te],ut[bt]]}It.rules=ut,It.currentRuleIndex=0}if(X==="result-entry"&&(It.resultMapping={}),X==="voting"){const ut={};Object.keys(J.participants).forEach(bt=>{ut[bt]={giftName:"",ratings:{}}}),It.matchDetails=ut}await se(It)},zt=async()=>{Et.trim()&&(await se({[`gifts.${r.uid}`]:Et}),O("..."))},Ft=async()=>{if(!tt.trim())return;const X=d.rules.findIndex(It=>It.uid===r.uid);if(X===-1)return;const J=[...d.rules];J[X].text=tt,await se({rules:J}),O("...")},D=async()=>{W.trim()&&(await se({[`punishments.${r.uid}`]:W}),O("..."))},Y=async()=>{d.currentRuleIndex<d.rules.length-1?await se({currentRuleIndex:NC(1)}):ot("voting")},it=(X,J)=>{ie(It=>({...It,[X]:J}))},rt=async()=>{const X=Object.keys(d.participants).length;if(Object.keys(qt).length<X-1){O("");return}const J={[`votingStatus.${r.uid}`]:!0};Object.entries(qt).forEach(([It,ut])=>{J[`ratings.${It}.${r.uid}`]=ut}),await se(J),O("...")},_t=async()=>{R(!0);let X=Object.values(d.punishments||{});X.length===0&&(X=Fd);let J=0;const It=setInterval(()=>{if(C(X[Math.floor(Math.random()*X.length)]),J++,J>20){clearInterval(It);const ut=X[Math.floor(Math.random()*X.length)];se({finalPunishment:ut}),R(!1)}},100)};if(S)return k.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!v)return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[k.jsx(p0,{}),M&&k.jsx(m0,{message:M,onClose:()=>F(null)}),k.jsxs(qs,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[k.jsx("div",{className:"flex justify-center mb-6",children:k.jsx("div",{className:"p-5 bg-purple-500/20 rounded-full",children:k.jsx(u0,{size:64,className:"text-purple-300"})})}),k.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),k.jsx("p",{className:"text-slate-400 mb-10 text-base uppercase tracking-widest",children:"Party Online"}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"text-left",children:[k.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),k.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:X=>c(X.target.value)})]}),k.jsxs("div",{className:"text-left",children:[k.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),k.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:X=>a(X.target.value)})]}),k.jsxs(ti,{onClick:w,size:"lg",className:"w-full mt-6 shadow-purple-900/50 text-xl py-5",children:[k.jsx(FC,{size:24})," "]}),k.jsx("div",{className:"pt-8 border-t border-white/5",children:k.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[k.jsx(ZC,{size:14}),"  ()"]})})]})]})]});if(!d)return k.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const vt=r.uid===d.hostId,St=Object.entries(d.participants).sort((X,J)=>X[0].localeCompare(J[0]));return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20",children:[k.jsx(p0,{}),M&&k.jsx(m0,{message:M,onClose:()=>F(null)}),d.phase==="countdown"&&k.jsx(lN,{onFinish:()=>vt&&ot("result")}),k.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg p-4",children:[k.jsxs("div",{className:"flex justify-between items-center mb-3",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsxs("div",{className:"bg-purple-600 px-3 py-1.5 rounded-full text-sm font-bold shadow-lg shadow-purple-500/30",children:["Room ",i]}),k.jsx("span",{className:"font-bold truncate max-w-[140px] text-slate-200 text-lg",children:o})]}),k.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-full",children:[k.jsx(aN,{size:16})," ",St.length]})]}),k.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:St.map(([X,J])=>k.jsxs("span",{className:`shrink-0 px-4 py-1.5 rounded-full text-sm border flex items-center gap-1 transition-all ${X===r.uid?"bg-purple-500/20 border-purple-500/50 text-purple-200":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[X===d.hostId&&k.jsx("span",{className:"text-yellow-400",children:""}),J]},X))})]}),k.jsxs("main",{className:"relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 mt-4",children:[d.phase==="entry"&&k.jsx("div",{className:"animate-fade-in space-y-8",children:k.jsxs(qs,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[k.jsx("h2",{className:"text-3xl font-bold mb-3",children:""}),k.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"..."}),k.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:St.map(([X,J])=>k.jsx("span",{className:"bg-slate-800 text-slate-200 px-5 py-3 rounded-2xl text-lg font-bold border border-slate-700",children:J},X))}),k.jsx("div",{className:"mb-8",children:k.jsxs(ti,{onClick:ae,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40 py-4",children:[k.jsx(WC,{size:22})," "]})}),vt?k.jsxs(ti,{onClick:()=>ot("gift-entry"),size:"lg",className:"w-full shadow-emerald-900/50 text-2xl py-6",disabled:St.length<2,children:[" ",k.jsx(UC,{})]}):k.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})}),d.phase==="gift-entry"&&k.jsxs("div",{className:"animate-fade-in space-y-8",children:[k.jsxs(qs,{children:[k.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[k.jsx(u0,{className:"text-pink-400",size:28})," "]}),k.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),k.jsx("div",{className:"mb-6",children:k.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-pink-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[120px]",placeholder:"...",value:Et,onChange:X=>gt(X.target.value),disabled:d.gifts&&d.gifts[r.uid]})}),k.jsx(ti,{onClick:zt,className:"w-full text-xl py-5",disabled:!Et,children:d.gifts&&d.gifts[r.uid]?"...":""})]}),k.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.gifts||{}).length," / ",St.length]})]}),d.phase==="rule-entry"&&k.jsxs("div",{className:"animate-fade-in space-y-8",children:[k.jsxs(qs,{children:[k.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[k.jsx(XC,{className:"text-purple-400",size:28})," "]}),k.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),k.jsx("div",{className:"mb-6",children:k.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-purple-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:tt,onChange:X=>st(X.target.value),disabled:d.rules.find(X=>X.uid===r.uid)?.text!==""})}),k.jsx("div",{className:"flex justify-end mb-8",children:k.jsxs("button",{onClick:H,disabled:d.rules.find(X=>X.uid===r.uid)?.text!=="",className:"text-sm text-purple-300 flex items-center gap-2 hover:text-white transition-colors bg-purple-500/10 px-4 py-2 rounded-full border border-purple-500/20",children:[k.jsx(c0,{size:16})," "]})}),k.jsx(ti,{onClick:Ft,className:"w-full text-xl py-5",disabled:!tt,children:d.rules.find(X=>X.uid===r.uid)?.text!==""?"...":""})]}),k.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(X=>X.text).length," / ",St.length]})]}),d.phase==="punishment-entry"&&k.jsxs("div",{className:"animate-fade-in space-y-8",children:[k.jsxs(qs,{children:[k.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[k.jsx(PC,{className:"text-red-500",size:28})," "]}),k.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),k.jsx("div",{className:"mb-6",children:k.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-red-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:W,onChange:X=>dt(X.target.value),disabled:d.punishments&&d.punishments[r.uid]})}),k.jsx("div",{className:"flex justify-end mb-8",children:k.jsxs("button",{onClick:nt,disabled:d.punishments&&d.punishments[r.uid],className:"text-sm text-red-300 flex items-center gap-2 hover:text-white transition-colors bg-red-500/10 px-4 py-2 rounded-full border border-red-500/20",children:[k.jsx(c0,{size:16})," "]})}),k.jsx(ti,{onClick:D,className:"w-full text-xl py-5 bg-red-600 hover:bg-red-500 shadow-red-900/50 border-none",disabled:!W,children:d.punishments&&d.punishments[r.uid]?"...":""})]}),k.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.punishments||{}).length," / ",St.length]})]}),d.phase==="game-playing"&&k.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[k.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full",children:[k.jsxs("div",{className:"flex justify-between text-sm mb-3 px-3",children:[k.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),k.jsxs("span",{children:["Total ",d.rules.length]})]}),k.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),k.jsxs(qs,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[k.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),k.jsx("div",{className:"mb-8",children:k.jsxs("span",{className:"bg-slate-800 text-slate-300 px-5 py-2 rounded-full text-sm font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),k.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),vt&&k.jsx("div",{className:"mt-10 w-full",children:k.jsx(ti,{onClick:Y,size:"lg",className:"w-full text-2xl py-6",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="voting"&&k.jsx("div",{className:"animate-fade-in space-y-6 pb-24",children:d.votingStatus&&d.votingStatus[r.uid]?k.jsxs(qs,{className:"text-center py-12 border-t-4 border-t-green-500",children:[k.jsx(jC,{size:64,className:"text-green-400 mx-auto mb-4"}),k.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),k.jsx("p",{className:"text-slate-400",children:"..."}),k.jsxs("div",{className:"mt-6 text-sm text-slate-500",children:["",Object.keys(d.votingStatus||{}).length," / ",St.length]})]}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[k.jsx(sN,{className:"text-yellow-500 shrink-0 mt-1",size:24}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-lg font-bold text-yellow-500",children:""}),k.jsxs("p",{className:"text-sm text-yellow-200/70 mt-1",children:["",k.jsx("br",{})," =  (10=)"]})]})]}),St.map(([X,J])=>{if(X===r.uid)return null;const It=d.gifts?d.gifts[X]:"",ut=qt[X]||1;return k.jsxs(qs,{className:"p-5 border border-white/5 relative overflow-hidden mb-4",children:[k.jsxs("div",{className:"flex justify-between items-start mb-4",children:[k.jsxs("div",{children:[k.jsxs("div",{className:"text-sm text-slate-400 mb-1",children:[J," "]}),k.jsx("div",{className:"text-xl font-bold text-white",children:It})]}),k.jsx("div",{className:"text-4xl font-black text-yellow-400",children:ut})]}),k.jsx("input",{type:"range",min:"1",max:"10",value:ut,onChange:bt=>it(X,parseInt(bt.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),k.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mt-2 px-1 font-bold",children:[k.jsx("span",{children:"1 ()"}),k.jsx("span",{children:"5 ()"}),k.jsx("span",{children:"10 ()"})]})]},X)}),k.jsx("div",{className:"h-20"})," ",k.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:k.jsx(ti,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:rt,children:" "})})]})}),d.phase==="result"&&k.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[k.jsxs("div",{className:"text-center mb-10",children:[k.jsxs("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[k.jsx(f0,{fill:"currentColor",size:40}),"  ",k.jsx(f0,{fill:"currentColor",size:40})]}),k.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),St.map(([X])=>{const J=d.ratings?d.ratings[X]:{},It=Object.values(J||{}).reduce((ut,bt)=>ut+bt,0);return{uid:X,totalScore:It,name:d.participants[X],giftName:d.gifts?d.gifts[X]:""}}).sort((X,J)=>J.totalScore-X.totalScore).slice(0,3).map((X,J)=>k.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${J===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[J===0&&k.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),k.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${J===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":J===1?"bg-slate-500":"bg-amber-700"}`,children:["#",J+1]}),k.jsxs("div",{className:"flex-1 min-w-0",children:[k.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:X.name}),k.jsx("div",{className:"text-base text-slate-400 truncate",children:X.giftName})]}),k.jsxs("div",{className:"text-right",children:[k.jsx("div",{className:"text-4xl font-black text-red-500",children:X.totalScore}),k.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},X.uid)),vt&&k.jsx("div",{className:"mt-12 text-center",children:k.jsx(ti,{variant:"danger",size:"lg",onClick:()=>ot("punishment-reveal"),className:"w-full max-w-md mx-auto text-2xl py-6 shadow-2xl animate-bounce",children:"  "})})]}),d.phase==="punishment-reveal"&&k.jsxs("div",{className:"animate-fade-in space-y-8 pb-20 flex flex-col h-full",children:[(()=>{const X=St.map(([J])=>{const It=d.ratings?d.ratings[J]:{},ut=Object.values(It||{}).reduce((bt,Te)=>bt+Te,0);return{uid:J,totalScore:ut,name:d.participants[J]}}).sort((J,It)=>It.totalScore-J.totalScore)[0];return k.jsxs("div",{className:"text-center py-6 border-b border-white/10 bg-black/20",children:[k.jsx("p",{className:"text-slate-400 text-sm mb-2 uppercase tracking-widest",children:"The Loser is"}),k.jsx("h2",{className:"text-6xl font-black text-red-500 drop-shadow-[0_0_15px_rgba(239,68,68,0.5)] mb-2",children:X.name}),k.jsxs("div",{className:"text-xl text-white font-bold bg-red-600 inline-block px-4 py-1 rounded-full",children:[X.totalScore," "]})]})})(),k.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[k.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 flex items-center gap-3",children:[k.jsx(h0,{size:32,className:"text-slate-400"}),"  ",k.jsx(h0,{size:32,className:"text-slate-400"})]}),k.jsx("div",{className:`text-4xl md:text-5xl font-black text-center leading-tight bg-slate-900 border-2 ${A?"border-yellow-500 text-yellow-400 animate-pulse":"border-red-600 text-white"} p-10 rounded-3xl shadow-2xl max-w-lg w-full min-h-[200px] flex items-center justify-center transition-all duration-300`,children:Pt}),vt&&k.jsxs("div",{className:"mt-12 w-full max-w-xs space-y-4",children:[k.jsx(ti,{variant:"neutral",size:"lg",onClick:_t,className:"w-full text-xl py-5",disabled:A,children:A?"...":" "}),k.jsxs(ti,{variant:"secondary",onClick:U,className:"w-full bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white mt-8",children:[k.jsx(YC,{size:20})," "]})]}),!vt&&k.jsx("div",{className:"mt-12 text-slate-500",children:"..."})]})]})]}),k.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};IS.createRoot(document.getElementById("root")).render(k.jsx(ne.StrictMode,{children:k.jsx(oN,{})}));
