(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Id={exports:{}},ho={};var x_;function Eb(){if(x_)return ho;x_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var N_;function Tb(){return N_||(N_=1,Id.exports=Eb()),Id.exports}var O=Tb(),Cd={exports:{}},St={};var D_;function bb(){if(D_)return St;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,J={};function dt(x,Y,nt){this.props=x,this.context=Y,this.refs=J,this.updater=nt||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(x,Y){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,Y,"setState")},dt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=dt.prototype;function gt(x,Y,nt){this.props=x,this.context=Y,this.refs=J,this.updater=nt||W}var Ft=gt.prototype=new Et;Ft.constructor=gt,it(Ft,dt.prototype),Ft.isPureReactComponent=!0;var ae=Array.isArray;function Pt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(x,Y,nt){var rt=nt.ref;return{$$typeof:r,type:x,key:Y,ref:rt!==void 0?rt:null,props:nt}}function V(x,Y){return R(x.type,Y,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function k(x){var Y={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function oe(x,Y){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):Y.toString(36)}function ge(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Pt,Pt):(x.status="pending",x.then(function(Y){x.status==="pending"&&(x.status="fulfilled",x.value=Y)},function(Y){x.status==="pending"&&(x.status="rejected",x.reason=Y)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function H(x,Y,nt,rt,vt){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var Dt=!1;if(x===null)Dt=!0;else switch(wt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(x.$$typeof){case r:case t:Dt=!0;break;case b:return Dt=x._init,H(Dt(x._payload),Y,nt,rt,vt)}}if(Dt)return vt=vt(x),Dt=rt===""?"."+oe(x,0):rt,ae(vt)?(nt="",Dt!=null&&(nt=Dt.replace(w,"$&/")+"/"),H(vt,Y,nt,"",function(We){return We})):vt!=null&&(N(vt)&&(vt=V(vt,nt+(vt.key==null||x&&x.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Dt)),Y.push(vt)),1;Dt=0;var ve=rt===""?".":rt+":";if(ae(x))for(var Yt=0;Yt<x.length;Yt++)rt=x[Yt],wt=ve+oe(rt,Yt),Dt+=H(rt,Y,nt,wt,vt);else if(Yt=F(x),typeof Yt=="function")for(x=Yt.call(x),Yt=0;!(rt=x.next()).done;)rt=rt.value,wt=ve+oe(rt,Yt++),Dt+=H(rt,Y,nt,wt,vt);else if(wt==="object"){if(typeof x.then=="function")return H(ge(x),Y,nt,rt,vt);throw Y=String(x),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function et(x,Y,nt){if(x==null)return x;var rt=[],vt=0;return H(x,rt,"","",function(wt){return Y.call(nt,wt,vt++)}),rt}function ut(x){if(x._status===-1){var Y=x._result;Y=Y(),Y.then(function(nt){(x._status===0||x._status===-1)&&(x._status=1,x._result=nt)},function(nt){(x._status===0||x._status===-1)&&(x._status=2,x._result=nt)}),x._status===-1&&(x._status=0,x._result=Y)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qt={map:et,forEach:function(x,Y,nt){et(x,function(){Y.apply(this,arguments)},nt)},count:function(x){var Y=0;return et(x,function(){Y++}),Y},toArray:function(x){return et(x,function(Y){return Y})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=A,St.Children=Qt,St.Component=dt,St.Fragment=i,St.Profiler=o,St.PureComponent=gt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,Y,nt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=it({},x.props),vt=x.key;if(Y!=null)for(wt in Y.key!==void 0&&(vt=""+Y.key),Y)!S.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(rt[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)rt.children=nt;else if(1<wt){for(var Dt=Array(wt),ve=0;ve<wt;ve++)Dt[ve]=arguments[ve+2];rt.children=Dt}return R(x.type,vt,rt)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,Y,nt){var rt,vt={},wt=null;if(Y!=null)for(rt in Y.key!==void 0&&(wt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Dt=arguments.length-2;if(Dt===1)vt.children=nt;else if(1<Dt){for(var ve=Array(Dt),Yt=0;Yt<Dt;Yt++)ve[Yt]=arguments[Yt+2];vt.children=ve}if(x&&x.defaultProps)for(rt in Dt=x.defaultProps,Dt)vt[rt]===void 0&&(vt[rt]=Dt[rt]);return R(x,wt,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:g,render:x}},St.isValidElement=N,St.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ut}},St.memo=function(x,Y){return{$$typeof:_,type:x,compare:Y===void 0?null:Y}},St.startTransition=function(x){var Y=C.T,nt={};C.T=nt;try{var rt=x(),vt=C.S;vt!==null&&vt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Pt,zt)}catch(wt){zt(wt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(x){return C.H.use(x)},St.useActionState=function(x,Y,nt){return C.H.useActionState(x,Y,nt)},St.useCallback=function(x,Y){return C.H.useCallback(x,Y)},St.useContext=function(x){return C.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,Y){return C.H.useDeferredValue(x,Y)},St.useEffect=function(x,Y){return C.H.useEffect(x,Y)},St.useEffectEvent=function(x){return C.H.useEffectEvent(x)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(x,Y,nt){return C.H.useImperativeHandle(x,Y,nt)},St.useInsertionEffect=function(x,Y){return C.H.useInsertionEffect(x,Y)},St.useLayoutEffect=function(x,Y){return C.H.useLayoutEffect(x,Y)},St.useMemo=function(x,Y){return C.H.useMemo(x,Y)},St.useOptimistic=function(x,Y){return C.H.useOptimistic(x,Y)},St.useReducer=function(x,Y,nt){return C.H.useReducer(x,Y,nt)},St.useRef=function(x){return C.H.useRef(x)},St.useState=function(x){return C.H.useState(x)},St.useSyncExternalStore=function(x,Y,nt){return C.H.useSyncExternalStore(x,Y,nt)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.1",St}var O_;function vm(){return O_||(O_=1,Cd.exports=bb()),Cd.exports}var Gt=vm(),xd={exports:{}},fo={},Nd={exports:{}},Dd={};var M_;function Sb(){return M_||(M_=1,(function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var zt=ut-1>>>1,Qt=H[zt];if(0<o(Qt,et))H[zt]=et,H[ut]=Qt,ut=zt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var zt=0,Qt=H.length,x=Qt>>>1;zt<x;){var Y=2*(zt+1)-1,nt=H[Y],rt=Y+1,vt=H[rt];if(0>o(nt,ut))rt<Qt&&0>o(vt,nt)?(H[zt]=vt,H[rt]=ut,zt=rt):(H[zt]=nt,H[Y]=ut,zt=Y);else if(rt<Qt&&0>o(vt,ut))H[zt]=vt,H[rt]=ut,zt=rt;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,A=null,M=3,F=!1,W=!1,it=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Ft(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function ae(H){if(it=!1,Ft(H),!W)if(i(y)!==null)W=!0,Pt||(Pt=!0,k());else{var et=i(_);et!==null&&ge(ae,et.startTime-H)}}var Pt=!1,C=-1,S=5,R=-1;function V(){return J?!0:!(r.unstable_now()-R<S)}function N(){if(J=!1,Pt){var H=r.unstable_now();R=H;var et=!0;try{t:{W=!1,it&&(it=!1,Et(C),C=-1),F=!0;var ut=M;try{e:{for(Ft(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,M=A.priorityLevel;var Qt=zt(A.expirationTime<=H);if(H=r.unstable_now(),typeof Qt=="function"){A.callback=Qt,Ft(H),et=!0;break e}A===i(y)&&a(y),Ft(H)}else a(y);A=i(y)}if(A!==null)et=!0;else{var x=i(_);x!==null&&ge(ae,x.startTime-H),et=!1}}break t}finally{A=null,M=ut,F=!1}et=void 0}}finally{et?k():Pt=!1}}}var k;if(typeof gt=="function")k=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,oe=w.port2;w.port1.onmessage=N,k=function(){oe.postMessage(null)}}else k=function(){dt(N,0)};function ge(H,et){C=dt(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ut=M;M=et;try{return H()}finally{M=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return et()}finally{M=ut}},r.unstable_scheduleCallback=function(H,et,ut){var zt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,H){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ut+Qt,H={id:b++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Qt,sortIndex:-1},ut>zt?(H.sortIndex=ut,t(_,H),i(y)===null&&H===i(_)&&(it?(Et(C),C=-1):it=!0,ge(ae,ut-zt))):(H.sortIndex=Qt,t(y,H),W||F||(W=!0,Pt||(Pt=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=M;return function(){var ut=M;M=et;try{return H.apply(this,arguments)}finally{M=ut}}}})(Dd)),Dd}var V_;function Ab(){return V_||(V_=1,Nd.exports=Sb()),Nd.exports}var Od={exports:{}},nn={};var k_;function wb(){if(k_)return nn;k_=1;var r=vm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},nn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.1",nn}var U_;function Rb(){if(U_)return Od.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=wb(),Od.exports}var L_;function Ib(){if(L_)return fo;L_=1;var r=Ab(),t=vm(),i=Rb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case ae:return"Suspense";case Pt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case gt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var ge=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],Qt=-1;function x(e){return{current:e}}function Y(e){0>Qt||(e.current=zt[Qt],zt[Qt]=null,Qt--)}function nt(e,n){Qt++,zt[Qt]=e.current,e.current=n}var rt=x(null),vt=x(null),wt=x(null),Dt=x(null);function ve(e,n){switch(nt(wt,n),nt(vt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function Yt(){Y(rt),Y(vt),Y(wt)}function We(e){e.memoizedState!==null&&nt(Dt,e);var n=rt.current,s=Wy(n,e.type);n!==s&&(nt(vt,e),nt(rt,s))}function Z(e){vt.current===e&&(Y(rt),Y(vt)),Dt.current===e&&(Y(Dt),lo._currentValue=ut)}var st,Ot;function lt(e){if(st===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);st=n&&n[1]||"",Ot=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+e+Ot}var yt=!1;function $t(e,n){if(!e||yt)return"";yt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{yt=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?lt(s):""}function tn(e,n){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return e.child!==n&&n!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return $t(e.type,!1);case 11:return $t(e.type.render,!1);case 1:return $t(e.type,!0);case 31:return lt("Activity");default:return""}}function en(e){try{var n="",s=null;do n+=tn(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Jt=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Qo=r.unstable_requestPaint,cn=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Yo=r.unstable_IdlePriority,Ko=r.log,Xo=r.unstable_setDisableYieldValue,Qn=null,Ge=null;function On(e){if(typeof Ko=="function"&&Xo(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Qn,e)}catch{}}var Ee=Math.clz32?Math.clz32:Zo,$o=Math.log,Wr=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-($o(e)/Wr|0)|0}var ui=256,mr=262144,we=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ci(l):(p&=E,p!==0?h=ci(p):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=l&~f,E!==0?h=ci(E):p!==0?h=ci(p):s||(s=l&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-Ee(s),K=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&gr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ee(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Ee(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wo(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function Kn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Xn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Xn,je="__reactProps$"+Xn,di="__reactContainer$"+Xn,ta="__reactEvents$"+Xn,Oh="__reactListeners$"+Xn,tu="__reactHandles$"+Xn,eu="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function ea(e){delete e[Re],delete e[je],delete e[ta],delete e[Oh],delete e[tu]}function pi(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Re])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[Re]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function gi(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[mi]=!0}var ml=new Set,pl={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function nu(e){return Jt.call(_l,e)?!0:Jt.call(yl,e)?!1:gl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function na(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Sn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ms(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function dn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?El(e,p,Be(n)):s!=null?El(e,p,Be(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function iu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Wt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Wt(e)}function El(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ps(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function su(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function gs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ge(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Wt(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ru.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Sl=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,Ei=null;function Er(e){var n=Mn(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[je]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&_r(l)}break t;case"textarea":su(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ps(e,!!s.multiple,n,!1)}}}var aa=!1;function vs(e,n,s){if(aa)return e(n,s);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(_s!==null||Ei!==null)&&(Wu(),_s&&(n=_s,e=Ei,Ei=_s=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[je]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{Tr=!1}var Ti=null,Al=null,br=null;function wl(){if(br)return br;var e,n=Al,s=n.length,l,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return br=h.slice(e,1<l?1-l:void 0)}function Sr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Jn(){return!1}function Fe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Jn,this.isPropagationStopped=Jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Fe(Bi),Es=A({},Bi,{view:0,detail:0}),Rl=Fe(Es),Ts,la,Si,oa=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ts=e.screenX-Si.screenX,la=e.screenY-Si.screenY):la=Ts=0,Si=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Il=Fe(oa),Ar=A({},oa,{dataTransfer:0}),lu=Fe(Ar),ou=A({},Es,{relatedTarget:0}),wr=Fe(ou),Cl=A({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Fe(Cl),ua=A({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Fe(ua),hu=A({},Bi,{data:0}),Ai=Fe(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function bs(){return pu}var hn=A({},Es,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Fe(hn),yu=A({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Fe(yu),u=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=Fe(u),v=A({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Fe(v),L=A({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(L),tt=A({},Bi,{newState:0,oldState:0}),Rt=Fe(tt),Te=[9,13,27,32],Kt=kn&&"CompositionEvent"in window,fe=null;kn&&"documentMode"in document&&(fe=document.documentMode);var Un=kn&&"TextEvent"in window&&!fe,wi=kn&&(!Kt||fe&&8<fe&&11>=fe),Wn=" ",ti=!1;function Rr(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function GT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function FT(e,n){if(ha)return e==="compositionend"||!Kt&&Rr(e,n)?(e=wl(),br=Al=Ti=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!QT[e.type]:n==="textarea"}function cp(e,n,s,l){_s?Ei?Ei.push(l):Ei=[l]:_s=l,n=ac(n,"onChange"),0<n.length&&(s=new bi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var xl=null,Nl=null;function YT(e){Qy(e,0)}function _u(e){var n=bn(e);if(_r(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(kn){var Mh;if(kn){var Vh="oninput"in document;if(!Vh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Vh=typeof dp.oninput=="function"}Mh=Vh}else Mh=!1;fp=Mh&&(!document.documentMode||9<document.documentMode)}function mp(){xl&&(xl.detachEvent("onpropertychange",pp),Nl=xl=null)}function pp(e){if(e.propertyName==="value"&&_u(Nl)){var n=[];cp(n,Nl,e,Vn(e)),vs(YT,n)}}function KT(e,n,s){e==="focusin"?(mp(),xl=n,Nl=s,xl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Nl)}function $T(e,n){if(e==="click")return _u(n)}function ZT(e,n){if(e==="input"||e==="change")return _u(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:JT;function Dl(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Jt.call(n,h)||!An(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=kn&&"documentMode"in document&&11>=document.documentMode,fa=null,Uh=null,Ol=null,Lh=!1;function Ep(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||fa==null||fa!==vi(l)||(l=fa,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&Dl(Ol,l)||(Ol=l,l=ac(Uh,"onSelect"),0<l.length&&(n=new bi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fa)))}function Ir(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Ph={},Tp={};kn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Cr(e){if(Ph[e])return Ph[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Ph[e]=n[s];return e}var bp=Cr("animationend"),Sp=Cr("animationiteration"),Ap=Cr("animationstart"),t1=Cr("transitionrun"),e1=Cr("transitionstart"),n1=Cr("transitioncancel"),wp=Cr("transitionend"),Rp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Rp.set(e,n),yi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],ma=0,jh=0;function Eu(){for(var e=ma,n=jh=ma=0;n<e;){var s=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function Tu(e,n,s,l){Ln[ma++]=e,Ln[ma++]=n,Ln[ma++]=s,Ln[ma++]=l,jh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Tu(e,n,s,l),bu(e)}function xr(e,n){return Tu(e,null,null,n),bu(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<to)throw to=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function i1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,l){return new i1(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=ob(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=wn(31,s,n,h),e.elementType=R,e.lanes=f,e;case it:return Nr(s.children,h,f,n);case J:p=8,h|=24;break;case dt:return e=wn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ae:return e=wn(13,s,n,h),e.elementType=ae,e.lanes=f,e;case Pt:return e=wn(19,s,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:p=10;break t;case Et:p=9;break t;case Ft:p=11;break t;case C:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=wn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Nr(e,n,s,l){return e=wn(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function xp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=Np.get(e);return s!==void 0?s:(n={value:e,source:n,stack:en(n)},Np.set(e,n),n)}return{value:e,source:n,stack:en(n)}}var ga=[],ya=0,Au=null,Ml=0,zn=[],jn=0,Ss=null,Ri=1,Ii="";function Gi(e,n){ga[ya++]=Ml,ga[ya++]=Au,Au=e,Ml=n}function Dp(e,n,s){zn[jn++]=Ri,zn[jn++]=Ii,zn[jn++]=Ss,Ss=e;var l=Ri;e=Ii;var h=32-Ee(l)-1;l&=~(1<<h),s+=1;var f=32-Ee(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ri=1<<32-Ee(n)+h|s<<h|l,Ii=f+e}else Ri=1<<f|s<<h|l,Ii=e}function Fh(e){e.return!==null&&(Gi(e,1),Dp(e,1,0))}function Qh(e){for(;e===Au;)Au=ga[--ya],ga[ya]=null,Ml=ga[--ya],ga[ya]=null;for(;e===Ss;)Ss=zn[--jn],zn[jn]=null,Ii=zn[--jn],zn[jn]=null,Ri=zn[--jn],zn[jn]=null}function Op(e,n){zn[jn++]=Ri,zn[jn++]=Ii,zn[jn++]=Ss,Ri=n.id,Ii=n.overflow,Ss=e}var Qe=null,ue=null,jt=!1,As=null,Bn=!1,Yh=Error(a(519));function ws(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Pn(n,e)),Yh}function Mp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Re]=e,n[je]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Nt(no[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),iu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),gs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||ws(e,!0)}function Vp(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qe=Qe.return}}function _a(e){if(e!==Qe)return!1;if(!jt)return Vp(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ue&&ws(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=r_(e)}else n===27?(n=ue,zs(e.type)?(e=yd,yd=null,ue=e):ue=n):ue=Qe?Hn(e.stateNode.nextSibling):null;return!0}function Dr(){ue=Qe=null,jt=!1}function Kh(){var e=As;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),As=null),e}function Vl(e){As===null?As=[e]:As.push(e)}var Xh=x(null),Or=null,Fi=null;function Rs(e,n,s){nt(Xh,n._currentValue),n._currentValue=s}function Qi(e){e._currentValue=Xh.current,Y(Xh)}function $h(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),$h(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),$h(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;An(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&Zh(n,e,s,l),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return kp(Or,e)}function Ru(e,n){return Or===null&&Mr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},r1=r.unstable_scheduleCallback,a1=r.unstable_NormalPriority,xe={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new s1,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&r1(a1,function(){e.controller.abort()})}var Ul=null,Wh=0,Ea=0,Ta=null;function l1(e,n){if(Ul===null){var s=Ul=[];Wh=0,Ea=id(),Ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Up,Up),n}function Up(){if(--Wh===0&&Ul!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ul;Ul=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function o1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lp=H.S;H.S=function(e,n){Ey=cn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&l1(e,n),Lp!==null&&Lp(e,n)};var Vr=x(null);function tf(){var e=Vr.current;return e!==null?e:le.pooledCache}function Iu(e,n){n===null?nt(Vr,Vr.current):nt(Vr,n.pool)}function Pp(){var e=tf();return e===null?null:{parent:xe._currentValue,pool:e}}var ba=Error(a(460)),ef=Error(a(474)),Cu=Error(a(542)),xu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($n,$n),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Ur=n,ba}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,ba):s}}var Ur=null;function Bp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function qp(e){if(e===ba||e===Cu)throw Error(a(483))}var Sa=null,Ll=0;function Nu(e){var n=Ll;return Ll+=1,Sa===null&&(Sa=[]),jp(Sa,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Hi(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,Q){return D===null||D.tag!==6?(D=Hh(P,U.mode,Q),D.return=U,D):(D=h(D,P),D.return=U,D)}function I(U,D,P,Q){var ft=P.type;return ft===it?G(U,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&kr(ft)===D.type)?(D=h(D,P.props),Pl(D,P),D.return=U,D):(D=Su(P.type,P.key,P.props,null,U.mode,Q),Pl(D,P),D.return=U,D)}function z(U,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Gh(P,U.mode,Q),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Q,ft){return D===null||D.tag!==7?(D=Nr(P,U.mode,Q,ft),D.return=U,D):(D=h(D,P),D.return=U,D)}function K(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Su(D.type,D.key,D.props,null,U.mode,P),Pl(P,D),P.return=U,P;case W:return D=Gh(D,U.mode,P),D.return=U,D;case S:return D=kr(D),K(U,D,P)}if(ge(D)||k(D))return D=Nr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return K(U,Nu(D),P);if(D.$$typeof===gt)return K(U,Ru(U,D),P);Du(U,D)}return null}function j(U,D,P,Q){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?I(U,D,P,Q):null;case W:return P.key===ft?z(U,D,P,Q):null;case S:return P=kr(P),j(U,D,P,Q)}if(ge(P)||k(P))return ft!==null?null:G(U,D,P,Q,null);if(typeof P.then=="function")return j(U,D,Nu(P),Q);if(P.$$typeof===gt)return j(U,D,Ru(U,P),Q);Du(U,P)}return null}function q(U,D,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(D,U,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,I(D,U,Q,ft);case W:return U=U.get(Q.key===null?P:Q.key)||null,z(D,U,Q,ft);case S:return Q=kr(Q),q(U,D,P,Q,ft)}if(ge(Q)||k(Q))return U=U.get(P)||null,G(D,U,Q,ft,null);if(typeof Q.then=="function")return q(U,D,P,Nu(Q),ft);if(Q.$$typeof===gt)return q(U,D,P,Ru(D,Q),ft);Du(D,Q)}return null}function ot(U,D,P,Q){for(var ft=null,qt=null,ct=D,Ct=D=0,Vt=null;ct!==null&&Ct<P.length;Ct++){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Ht=j(U,ct,P[Ct],Q);if(Ht===null){ct===null&&(ct=Vt);break}e&&ct&&Ht.alternate===null&&n(U,ct),D=f(Ht,D,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ct=Vt}if(Ct===P.length)return s(U,ct),jt&&Gi(U,Ct),ft;if(ct===null){for(;Ct<P.length;Ct++)ct=K(U,P[Ct],Q),ct!==null&&(D=f(ct,D,Ct),qt===null?ft=ct:qt.sibling=ct,qt=ct);return jt&&Gi(U,Ct),ft}for(ct=l(ct);Ct<P.length;Ct++)Vt=q(ct,U,Ct,P[Ct],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?Ct:Vt.key),D=f(Vt,D,Ct),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return e&&ct.forEach(function(Gs){return n(U,Gs)}),jt&&Gi(U,Ct),ft}function pt(U,D,P,Q){if(P==null)throw Error(a(151));for(var ft=null,qt=null,ct=D,Ct=D=0,Vt=null,Ht=P.next();ct!==null&&!Ht.done;Ct++,Ht=P.next()){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Gs=j(U,ct,Ht.value,Q);if(Gs===null){ct===null&&(ct=Vt);break}e&&ct&&Gs.alternate===null&&n(U,ct),D=f(Gs,D,Ct),qt===null?ft=Gs:qt.sibling=Gs,qt=Gs,ct=Vt}if(Ht.done)return s(U,ct),jt&&Gi(U,Ct),ft;if(ct===null){for(;!Ht.done;Ct++,Ht=P.next())Ht=K(U,Ht.value,Q),Ht!==null&&(D=f(Ht,D,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return jt&&Gi(U,Ct),ft}for(ct=l(ct);!Ht.done;Ct++,Ht=P.next())Ht=q(ct,U,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?Ct:Ht.key),D=f(Ht,D,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ct.forEach(function(vb){return n(U,vb)}),jt&&Gi(U,Ct),ft}function re(U,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===it){if(D.tag===7){s(U,D.sibling),Q=h(D,P.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&kr(ft)===D.type){s(U,D.sibling),Q=h(D,P.props),Pl(Q,P),Q.return=U,U=Q;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===it?(Q=Nr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Su(P.type,P.key,P.props,null,U.mode,Q),Pl(Q,P),Q.return=U,U=Q)}return p(U);case W:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),Q=h(D,P.children||[]),Q.return=U,U=Q;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Q=Gh(P,U.mode,Q),Q.return=U,U=Q}return p(U);case S:return P=kr(P),re(U,D,P,Q)}if(ge(P))return ot(U,D,P,Q);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),pt(U,D,P,Q)}if(typeof P.then=="function")return re(U,D,Nu(P),Q);if(P.$$typeof===gt)return re(U,D,Ru(U,P),Q);Du(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),Q=h(D,P),Q.return=U,U=Q):(s(U,D),Q=Hh(P,U.mode,Q),Q.return=U,U=Q),p(U)):s(U,D)}return function(U,D,P,Q){try{Ll=0;var ft=re(U,D,P,Q);return Sa=null,ft}catch(ct){if(ct===ba||ct===Cu)throw ct;var qt=wn(29,ct,null,U.mode);return qt.lanes=Q,qt.return=U,qt}finally{}}}var Lr=Hp(!0),Gp=Hp(!1),Is=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=bu(e),Ip(e,null,s),n}return Tu(e,l,n,s),bu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function jl(){if(af){var e=Ta;if(e!==null)throw e}}function Bl(e,n,s,l){af=!1;var h=e.updateQueue;Is=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Mt&j)===j:(l&j)===j){j!==0&&j===Ea&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,pt=E;j=n;var re=s;switch(pt.tag){case 1:if(ot=pt.payload,typeof ot=="function"){K=ot.call(re,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=pt.payload,j=typeof ot=="function"?ot.call(re,K,j):ot,j==null)break t;K=A({},K,j);break t;case 2:Is=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=K):G=G.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vs|=p,e.lanes=p,e.memoizedState=K}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Aa=x(null),Ou=x(0);function Yp(e,n){e=es,nt(Ou,e),nt(Aa,n),es=e|n.baseLanes}function lf(){nt(Ou,es),nt(Aa,Aa.current)}function of(){es=Ou.current,Y(Aa),Y(Ou)}var Rn=x(null),qn=null;function Ns(e){var n=e.alternate;nt(be,be.current&1),nt(Rn,e),qn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(qn=e)}function uf(e){nt(be,be.current),nt(Rn,e),qn===null&&(qn=e)}function Kp(e){e.tag===22?(nt(be,be.current),nt(Rn,e),qn===null&&(qn=e)):Ds()}function Ds(){nt(be,be.current),nt(Rn,Rn.current)}function In(e){Y(Rn),qn===e&&(qn=null),Y(be)}var be=x(0);function Mu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,It=null,ie=null,Ne=null,Vu=!1,wa=!1,Pr=!1,ku=0,ql=0,Ra=null,u1=0;function ye(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!An(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Yi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dg:Rf,Pr=!1,f=s(l,h),Pr=!1,wa&&(f=$p(n,s,l,h)),Xp(e),f}function Xp(e){H.H=Fl;var n=ie!==null&&ie.next!==null;if(Yi=0,Ne=ie=It=null,Vu=!1,ql=0,Ra=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&wu(e)&&(De=!0))}function $p(e,n,s,l){It=e;var h=0;do{if(wa&&(Ra=null),ql=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ie=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Og,f=n(s,l)}while(wa);return f}function c1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(It.flags|=1024),n}function ff(){var e=ku!==0;return ku=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Yi=0,Ne=ie=It=null,wa=!1,ql=ku=0,Ra=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Se(){if(ie===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=Ne===null?It.memoizedState:Ne.next;if(n!==null)Ne=n,ie=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Ra===null&&(Ra=[]),e=jp(Ra,e,n),n=It,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dg:Rf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===gt)return Ye(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=Se();return gf(n,ie,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Mt&K)===K:(Yi&K)===K){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ea&&(G=!0);else if((Yi&j)===j){z=z.next,j===Ea&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,It.lanes|=j,Vs|=j;K=z.action,Pr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,p=f):I=I.next=j,It.lanes|=K,Vs|=K;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!An(f,e.memoizedState)&&(De=!0,G&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);An(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Zp(e,n,s){var l=It,h=Se(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!An((ie||h).memoizedState,s);if(p&&(h.memoizedState=s,De=!0),h=h.queue,Ef(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Wp.bind(null,l,h,s,n),null),le===null)throw Error(a(349));f||(Yi&127)!==0||Jp(l,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Uu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,l){n.value=s,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!An(e,s)}catch{return!0}}function ng(e){var n=xr(e,2);n!==null&&vn(n,e,2)}function _f(e){var n=fn();if(typeof e=="function"){var s=e;if(e=s(),Pr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function ig(e,n,s,l){return e.baseState=s,gf(e,ie,typeof l=="function"?l:Ki)}function h1(e,n,s,l,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),I=H.S;I!==null&&I(p,E),rg(e,n,E)}catch(z){vf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),rg(e,n,f)}catch(z){vf(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(e,n,l)},function(l){return vf(e,n,l)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,lg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(jt){var s=le.formState;if(s!==null){t:{var l=It;if(jt){if(ue){e:{for(var h=ue,f=Bn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Hn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Hn(h.nextSibling),l=h.data==="F!";break t}}ws(l)}l=!1}l&&(n=s[0])}}return s=fn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Cg.bind(null,It,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,It,!1,l.queue),l=fn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=h1.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cg(e){var n=Se();return hg(n,ie,e)}function hg(e,n,s){if(n=gf(e,n,og)[0],e=Pu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(p){throw p===ba?Cu:p}else l=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Ia(9,{destroy:void 0},f1.bind(null,h,s),null)),[l,f,e]}function f1(e,n){e.action=n}function fg(e){var n=Se(),s=ie;if(s!==null)return hg(n,s,e);Se(),n=n.memoizedState,s=Se();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ia(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Uu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dg(){return Se().memoizedState}function zu(e,n,s,l){var h=fn();It.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,l===void 0?null:l)}function ju(e,n,s,l){var h=Se();l=l===void 0?null:l;var f=h.memoizedState.inst;ie!==null&&l!==null&&cf(l,ie.memoizedState.deps)?h.memoizedState=Ia(n,f,s,l):(It.flags|=e,h.memoizedState=Ia(1|n,f,s,l))}function mg(e,n){zu(8390656,8,e,n)}function Ef(e,n){ju(2048,8,e,n)}function d1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Uu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=Se().memoizedState;return d1({ref:n,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return ju(4,2,e,n)}function yg(e,n){return ju(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,ju(4,4,_g.bind(null,n,e),s)}function Tf(){}function Eg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Pr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(Yi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),It.lanes|=e,Vs|=e,s)}function bg(e,n,s,l){return An(s,n)?s:Aa.current!==null?(e=bf(e,s,l),An(e,n)||(De=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Mt&261930)===0?(De=!0,e.memoizedState=s):(e=by(),It.lanes|=e,Vs|=e,n)}function Sg(e,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,wf(e,!1,n,s);try{var I=h(),z=H.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=o1(I,l);Gl(e,n,G,Nn(e))}else Gl(e,n,l,Nn(e))}catch(K){Gl(e,n,{then:function(){},status:"rejected",reason:K},Nn())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function m1(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Ag(e).queue;Sg(e,h,n,ut,s===null?m1:function(){return wg(e),s(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},Nn())}function Af(){return Ye(lo)}function Rg(){return Se().memoizedState}function Ig(){return Se().memoizedState}function p1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Nn();e=Cs(s);var l=xs(n,e,s);l!==null&&(vn(l,n,s),zl(l,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function g1(e,n,s){var l=Nn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?xg(n,s):(s=Bh(e,n,s,l),s!==null&&(vn(s,e,l),Ng(s,n,l)))}function Cg(e,n,s){var l=Nn();Gl(e,n,s,l)}function Gl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,An(E,p))return Tu(e,n,h,0),le===null&&Eu(),!1}catch{}finally{}if(s=Bh(e,n,h,l),s!==null)return vn(s,e,l),Ng(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&vn(n,e,2)}function Bu(e){var n=e.alternate;return e===It||n!==null&&n===It}function xg(e,n){wa=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ng(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Fl={readContext:Ye,use:Lu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Fl.useEffectEvent=ye;var Dg={readContext:Ye,use:Lu,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=fn();n=n===void 0?null:n;var l=e();if(Pr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=fn();if(s!==void 0){var h=s(n);if(Pr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=g1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Cg.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=fn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sg.bind(null,It,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=fn();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(Mt&127)!==0||Jp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Wp.bind(null,l,f,s,n),null),s},useId:function(){var e=fn(),n=le.identifierPrefix;if(jt){var s=Ii,l=Ri;s=(l&~(1<<32-Ee(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=u1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return fn().memoizedState=p1.bind(null,It)},useEffectEvent:function(e){var n=fn(),s={impl:e};return n.memoizedState=s,function(){if((Xt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:Ye,use:Lu,useCallback:Eg,useContext:Ye,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Pu,useRef:dg,useState:function(){return Pu(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Se();return bg(s,ie.memoizedState,e,n)},useTransition:function(){var e=Pu(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=Se();return ig(s,ie,e,n)},useMemoCache:pf,useCacheRefresh:Ig};Rf.useEffectEvent=pg;var Og={readContext:Ye,use:Lu,useCallback:Eg,useContext:Ye,useEffect:Ef,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:yf,useRef:dg,useState:function(){return yf(Ki)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=Se();return ie===null?bf(s,e,n):bg(s,ie.memoizedState,e,n)},useTransition:function(){var e=yf(Ki)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Af,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=Se();return ie!==null?ig(s,ie,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Ig};Og.useEffectEvent=pg;function If(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=Cs(l);h.payload=n,s!=null&&(h.callback=s),n=xs(e,h,l),n!==null&&(vn(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Nn(),h=Cs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=xs(e,h,l),n!==null&&(vn(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Nn(),l=Cs(s);l.tag=2,n!=null&&(l.callback=n),n=xs(e,l,s),n!==null&&(vn(n,e,s),zl(n,e,s))}};function Mg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,l)||!Dl(h,f):!0}function Vg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function zr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){vu(e)}function Ug(e){console.error(e)}function Lg(e){vu(e)}function qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(e,n)},s}function zg(e){return e=Cs(e),e.tag=3,e}function jg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function y1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?tc():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),tc(),!1}if(jt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Vl(Pn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Vl(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Pn(l,s),h=xf(e.stateNode,l,h),rf(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:l});if(f=Pn(f,s),Wl===null?Wl=[f]:Wl.push(f),_e!==4&&(_e=2),n===null)return!0;l=Pn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),De=!1;function Ke(e,n,s,l){n.child=e===null?Gp(n,null,s,l):Lr(n,e.child,s,l)}function Bg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Mr(n),l=hf(e,n,s,p,f,h),E=ff(),e!==null&&!De?(df(e,n,h),Xi(e,n,h)):(jt&&E&&Fh(n),n.flags|=1,Ke(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=Su(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(p,l)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Dl(f,l)&&e.ref===n.ref)if(De=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Df(e,n,s,l,h)}function Gg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):lf(),Kp(n);else return l=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Iu(n,f.cachePool),Yp(n,f),Ds(),n.memoizedState=null):(e!==null&&Iu(n,null),lf(),Ds());return Ke(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Iu(n,null),lf(),Kp(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function Hu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Lr(n,e.child,null,s),e=Hu(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function _1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=Hu(n,l),n.lanes=536870912,Ql(null,e);if(uf(n),(e=ue)?(e=s_(e,Bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Qe=n,ue=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return Hu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||va(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(l=le,l!==null&&(p=dl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,xr(e,p),vn(l,e,p),Nf;tc(),n=Qg(e,n,s)}else e=f.treeContext,ue=Hn(p.nextSibling),Qe=n,jt=!0,As=null,Bn=!1,e!==null&&Op(n,e),n=Hu(n,l),n.flags|=4096;return n}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Mr(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!De?(df(e,n,h),Xi(e,n,h)):(jt&&l&&Fh(n),n.flags|=1,Ke(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Mr(n),n.updateQueue=null,s=$p(n,l,s,h),Xp(e),l=ff(),e!==null&&!De?(df(e,n,f),Xi(e,n,f)):(jt&&l&&Fh(n),n.flags|=1,Ke(e,n,s,f),n.child)}function Kg(e,n,s,l,h){if(Mr(n),n.stateNode===null){var f=pa,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ye(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ye(p):pa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(If(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Bl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zr(s,E);f.props=I;var z=f.context,G=s.contextType;p=pa,typeof G=="object"&&G!==null&&(p=Ye(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Vg(n,f,l,p),Is=!1;var j=n.memoizedState;f.state=j,Bl(n,l,f,h),jl(),z=n.memoizedState,E||j!==z||Is?(typeof K=="function"&&(If(n,s,K,l),z=n.memoizedState),(I=Is||Mg(n,s,I,l,j,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),p=n.memoizedProps,G=zr(s,p),f.props=G,K=n.pendingProps,j=f.context,z=s.contextType,I=pa,typeof z=="object"&&z!==null&&(I=Ye(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==I)&&Vg(n,f,l,I),Is=!1,j=n.memoizedState,f.state=j,Bl(n,l,f,h),jl();var q=n.memoizedState;p!==K||j!==q||Is||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,l),q=n.memoizedState),(G=Is||Mg(n,s,G,l,j,q,I)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Gu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Ke(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Xg(e,n,s,l){return Dr(),n.flags|=256,Ke(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Pp()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=xn),e}function $g(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Ns(n):Ds(),(e=ue)?(e=s_(e,Bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=xp(e),s.return=n,n.child=s,Qe=n,ue=null)):e=null,e===null)throw ws(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ds(),h=n.mode,E=Fu({mode:"hidden",children:E},h),l=Nr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,Ql(null,l)):(Ns(n),kf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),E=l.fallback,h=n.mode,l=Fu({mode:"visible",children:l.children},h),E=Nr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Lr(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,p,s),n.memoizedState=Of,n=Ql(null,l));else if(Ns(n),gd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Vl({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(De||va(e,n,s,!1),p=(s&e.childLanes)!==0,De||p){if(p=le,p!==null&&(l=dl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,xr(e,l),vn(p,e,l),Nf;pd(E)||tc(),n=Uf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ue=Hn(E.nextSibling),Qe=n,jt=!0,As=null,Bn=!1,e!==null&&Op(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(Ds(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=Hi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Hi(z,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(I=xe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,p,s),n.memoizedState=Of,Ql(e.child,l)):(Ns(n),s=e.child,e=s.sibling,s=Hi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Lr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$h(e.return,n,s)}function Lf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=be.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(be,p),Ke(e,n,l,s),l=jt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Mu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Hi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Hi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function v1(e,n,s){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Rs(n,xe,e.memoizedState.cache),Dr();break;case 27:case 5:We(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(Ns(n),e=Xi(e,n,s),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(va(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(be,be.current),l)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:Rs(n,xe,e.memoizedState.cache)}return Xi(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return De=!1,v1(e,n,s);De=(e.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&Dp(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=zr(e,l),n.tag=1,n=Kg(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=Bg(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=oe(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=zr(l,n.pendingProps),Kg(e,n,l,h,s);case 3:t:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Bl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Rs(n,xe,l),l!==f.cache&&Zh(n,[xe],s,!0),jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,s);break t}else if(l!==h){h=Pn(Error(a(424)),n),Vl(h),n=Xg(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Hn(e.firstChild),Qe=n,jt=!0,As=null,Bn=!0,s=Gp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Dr(),l===h){n=Xi(e,n,s);break t}Ke(e,n,l,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,l=lc(wt.current).createElement(s),l[Re]=n,l[je]=e,Xe(l,s,e),Ie(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return We(n),e===null&&jt&&(l=n.stateNode=l_(n.type,n.pendingProps,wt.current),Qe=n,Bn=!0,h=ue,zs(n.type)?(yd=h,ue=Hn(l.firstChild)):ue=h),Ke(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=l=ue)&&(l=X1(l,n.type,n.pendingProps,Bn),l!==null?(n.stateNode=l,Qe=n,ue=Hn(l.firstChild),Bn=!1,h=!0):h=!1),h||ws(n)),We(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,c1,null,null,s),lo._currentValue=h),Gu(e,n),Ke(e,n,l,s),n.child;case 6:return e===null&&jt&&((e=s=ue)&&(s=$1(s,n.pendingProps,Bn),s!==null?(n.stateNode=s,Qe=n,ue=null,e=!0):e=!1),e||ws(n)),null;case 13:return $g(e,n,s);case 4:return ve(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lr(n,null,l,s):Ke(e,n,l,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return Ke(e,n,n.pendingProps,s),n.child;case 8:return Ke(e,n,n.pendingProps.children,s),n.child;case 12:return Ke(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Ke(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Mr(n),h=Ye(h),l=l(h),n.flags|=1,Ke(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return _1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Mr(n),l=Ye(xe),e===null?(h=tf(),h===null&&(h=le,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Rs(n,xe,h)):((e.lanes&s)!==0&&(sf(e,n),Bl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,xe,l)):(l=f.cache,Rs(n,xe,l),l!==h.cache&&Zh(n,[xe],s,!0))),Ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Ur=xu,ef}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Ur=xu,ef}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Da|=n)}function Yl(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function E1(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(xe),Yt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ce(n),ty(n,f)):(ce(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?($i(n),ce(n),ty(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(n),ce(n),zf(n,h,e,l,s)),null;case 27:if(Z(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=rt.current,_a(n)?Mp(n):(e=l_(h,l,s),n.stateNode=e,$i(n))}return ce(n),null;case 5:if(Z(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=rt.current,_a(n))Mp(n);else{var p=lc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Re]=n,f[je]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Xe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(n)}}return ce(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||ws(n,!0)}else e=lc(e).createTextNode(l),e[Re]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),ce(n),null);case 4:return Yt(),e===null&&ld(n.stateNode.containerInfo),ce(n),null;case 10:return Qi(n.type),ce(n),null;case 19:if(Y(be),l=n.memoizedState,l===null)return ce(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Yl(l,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Mu(e),f!==null){for(n.flags|=128,Yl(l,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return nt(be,be.current&1|2),jt&&Gi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&cn()>Zu&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Mu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!jt)return ce(n),null}else 2*cn()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Yl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=cn(),e.sibling=null,s=be.current,nt(be,h?s&1|2:s&1),jt&&Gi(n,l.treeForkCount),e):(ce(n),null);case 22:case 23:return In(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Qi(xe),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(xe),Yt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Z(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(be),null;case 4:return Yt(),null;case 10:return Qi(n.type),null;case 22:case 23:return In(n),of(),e!==null&&Y(Vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(xe),null;case 25:return null;default:return null}}function ey(e,n){switch(Qh(n),n.tag){case 3:Qi(xe),Yt();break;case 26:case 27:case 5:Z(n);break;case 4:Yt();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:Y(be);break;case 10:Qi(n.type);break;case 22:case 23:In(n),of(),e!==null&&Y(Vr);break;case 24:Qi(xe)}}function Kl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){ee(n,n.return,E)}}function Os(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){ee(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){ee(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(l){ee(e,e.return,l)}}}function iy(e,n,s){s.props=zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ee(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ee(e,n,h)}}function Ci(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ee(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ee(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ee(e,e.return,h)}}function jf(e,n,s){try{var l=e.stateNode;H1(l,e.type,s,n),l[je]=n}catch(h){ee(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Yu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Xe(n,l,s),n[Re]=e,n[je]=s}catch(f){ee(e,e.return,f)}}var Zi=!1,Oe=!1,Hf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,qe=null;function b1(e,n){if(e=e.containerInfo,cd=mc,e=vp(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,G=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||l!==0&&K.nodeType!==3||(I=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=p),j===f&&++G===l&&(I=p),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},mc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=zr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){ee(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Wi(e,s),l&4&&Kl(5,s);break;case 1:if(Wi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ee(s,s.return,p)}else{var h=zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ee(s,s.return,p)}}l&64&&ny(s),l&512&&Xl(s,s.return);break;case 3:if(Wi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){ee(s,s.return,p)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:Wi(e,s),n===null&&l&4&&sy(s),l&512&&Xl(s,s.return);break;case 12:Wi(e,s);break;case 31:Wi(e,s),l&4&&hy(e,s);break;case 13:Wi(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=D1.bind(null,s),Z1(e,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Oe,h=Zi;var f=Oe;Zi=l,(Oe=n)&&!f?ts(e,s,(s.subtreeFlags&8772)!==0):Wi(e,s),Zi=h,Oe=f}break;case 30:break;default:Wi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,pn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Oe||Ci(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Ci(s,n);var l=de,h=pn;zs(s.type)&&(de=s.stateNode,pn=!1),Ji(e,n,s),so(s.stateNode),de=l,pn=h;break;case 5:Oe||Ci(s,n);case 6:if(l=de,h=pn,de=null,Ji(e,n,s),de=l,pn=h,de!==null)if(pn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){ee(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){ee(s,n,f)}break;case 18:de!==null&&(pn?(e=de,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):n_(de,s.stateNode));break;case 4:l=de,h=pn,de=s.stateNode.containerInfo,pn=!0,Ji(e,n,s),de=l,pn=h;break;case 0:case 11:case 14:case 15:Os(2,s,n),Oe||Os(4,s,n),Ji(e,n,s);break;case 1:Oe||(Ci(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:Oe=(l=Oe)||s.memoizedState!==null,Ji(e,n,s),Oe=l;break;default:Ji(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){ee(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){ee(n,n.return,s)}}function S1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=S1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=O1.bind(null,e,l);l.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(zs(E.type)){de=E.stateNode,pn=!1;break t}break;case 5:de=E.stateNode,pn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,pn=!0;break t}E=E.return}if(de===null)throw Error(a(160));cy(f,p,h),de=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var ni=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),l&4&&(Os(3,e,e.return),Kl(3,e),Os(5,e,e.return));break;case 1:gn(n,e),yn(e),l&512&&(Oe||s===null||Ci(s,s.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ni;if(gn(n,e),yn(e),l&512&&(Oe||s===null||Ci(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,l,s),f[Re]=e,Ie(f),l=f;break t;case"link":var p=d_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),Xe(f,l,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),Xe(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=e,Ie(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),yn(e),l&512&&(Oe||s===null||Ci(s,s.return)),s!==null&&l&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),yn(e),l&512&&(Oe||s===null||Ci(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(ot){ee(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(gn(n,e),yn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){ee(e,e.return,ot)}}break;case 3:if(cc=null,h=ni,ni=oc(n.containerInfo),gn(n,e),ni=h,yn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(ot){ee(e,e.return,ot)}Hf&&(Hf=!1,my(e));break;case 4:l=ni,ni=oc(e.stateNode.containerInfo),gn(n,e),yn(e),ni=l;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($u=cn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Zi,G=Oe;if(Zi=z||h,Oe=G||I,gn(n,e),Oe=G,Zi=z,yn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Zi||Oe||jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){ee(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){ee(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?i_(q,!0):i_(I.stateNode,!1)}catch(ot){ee(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Yu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(mn(p,""),s.flags&=-33);var E=Bf(e);Yu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Bf(e);qf(e,z,I);break;default:throw Error(a(161))}}catch(G){ee(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),jr(n);break;case 1:Ci(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),jr(n);break;case 27:so(n.stateNode);case 26:case 5:Ci(n,n.return),jr(n);break;case 22:n.memoizedState===null&&jr(n);break;case 30:jr(n);break;default:jr(n)}e=e.sibling}}function ts(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,s),Kl(4,f);break;case 1:if(ts(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ee(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fp(I[h],E)}catch(z){ee(l,l.return,z)}}s&&p&64&&ny(f),Xl(f,f.return);break;case 27:ay(f);case 26:case 5:ts(h,f,s),s&&l===null&&p&4&&sy(f),Xl(f,f.return);break;case 12:ts(h,f,s);break;case 31:ts(h,f,s),s&&p&4&&hy(h,f);break;case 13:ts(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,s),Xl(f,f.return);break;case 30:break;default:ts(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function ii(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,l),h&2048&&Kl(9,n);break;case 1:ii(e,n,s,l);break;case 3:ii(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){ii(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ee(n,n.return,I)}}else ii(e,n,s,l);break;case 31:ii(e,n,s,l);break;case 13:ii(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,l):$l(e,n):f._visibility&2?ii(e,n,s,l):(f._visibility|=2,Ca(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:ii(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:ii(e,n,s,l)}}function Ca(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(f,p,E,I,h),Kl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ca(f,p,E,I,h):$l(f,p):(G._visibility|=2,Ca(f,p,E,I,h)),h&&z&2048&&Gf(p.alternate,p);break;case 24:Ca(f,p,E,I,h),h&&z&2048&&Ff(p.alternate,p);break;default:Ca(f,p,E,I,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Gf(l.alternate,l);break;case 24:$l(s,l),h&2048&&Ff(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Zl=8192;function xa(e,n,s){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&Zl&&e.memoizedState!==null&&ub(s,ni,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=ni;ni=oc(e.stateNode.containerInfo),xa(e,n,s),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,xa(e,n,s),Zl=l):xa(e,n,s));break;default:xa(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):Jl(e);break;default:Jl(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];qe=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function vy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Os(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,qe=l;else t:for(s=e;qe!==null;){l=qe;var h=l.sibling,f=l.return;if(uy(l),l===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var A1={getCacheForType:function(e){var n=Ye(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(xe).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Xt=0,le=null,xt=null,Mt=0,te=0,Cn=null,Ms=!1,Na=!1,Qf=!1,es=0,_e=0,Vs=0,Br=0,Yf=0,xn=0,Da=0,Wl=null,_n=null,Kf=!1,$u=0,Ey=0,Zu=1/0,Ju=null,ks=null,Le=0,Us=null,Oa=null,ns=0,Xf=0,$f=null,Ty=null,to=0,Zf=null;function Nn(){return(Xt&2)!==0&&Mt!==0?Mt&-Mt:H.T!==null?id():Wo()}function by(){if(xn===0)if((Mt&536870912)===0||jt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),xn=e}else xn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),xn}function vn(e,n,s){(e===le&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ls(e,Mt,xn,!1)),pr(e,s),((Xt&2)===0||e!==le)&&(e===le&&((Xt&2)===0&&(Br|=s),_e===4&&Ls(e,Mt,xn,!1)),xi(e))}function Sy(e,n,s){if((Xt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),h=l?C1(e,n):Wf(e,n,!0),f=l;do{if(h===0){Na&&!l&&Ls(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!R1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Wl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ma(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!I){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Ls(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,xn,!Ms);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-cn(),10<h)){if(Ls(l,n,xn,!Ms),hi(l,0,!0)!==0)break t;ns=n,l.timeoutHandle=t_(Ay.bind(null,l,s,_n,Ju,Kf,n,xn,Br,Da,Ms,f,"Throttled",-0,0),h);break t}Ay(l,s,_n,Ju,Kf,n,xn,Br,Da,Ms,f,null,-0,0)}}break}while(!0);xi(e)}function Ay(e,n,s,l,h,f,p,E,I,z,G,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},gy(n,f,K);var ot=(f&62914560)===f?$u-cn():(f&4194048)===f?Ey-cn():0;if(ot=cb(K,ot),ot!==null){ns=f,e.cancelPendingCommit=ot(Oy.bind(null,e,n,f,s,l,h,p,E,I,G,K,null,j,q)),Ls(e,f,p,!z);return}}Oy(e,n,f,s,l,h,p,E,I)}function R1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,s,l){n&=~Yf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&gr(e,s,n)}function Wu(){return(Xt&6)===0?(eo(0),!1):!0}function Jf(){if(xt!==null){if(te===0)var e=xt.return;else e=xt,Fi=Or=null,mf(e),Sa=null,Ll=0,e=xt;for(;e!==null;)ey(e.alternate,e),e=e.return;xt=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Q1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ns=0,Jf(),le=e,xt=s=Hi(e.current,null),Mt=n,te=0,Cn=null,Ms=!1,Na=Yn(e,n),Qf=!1,Da=xn=Yf=Br=Vs=_e=0,_n=Wl=null,Kf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ee(l),f=1<<h;n|=e[h],l&=~f}return es=n,Eu(),s}function wy(e,n){It=null,H.H=Fl,n===ba||n===Cu?(n=Bp(),te=3):n===ef?(n=Bp(),te=4):te=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,xt===null&&(_e=1,qu(e,Pn(n,e.current)))}function Ry(){var e=Rn.current;return e===null?!0:(Mt&4194048)===Mt?qn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===qn:!1}function Iy(){var e=H.H;return H.H=Fl,e===null?Fl:e}function Cy(){var e=H.A;return H.A=A1,e}function tc(){_e=4,Ms||(Mt&4194048)!==Mt&&Rn.current!==null||(Na=!0),(Vs&134217727)===0&&(Br&134217727)===0||le===null||Ls(le,Mt,xn,!1)}function Wf(e,n,s){var l=Xt;Xt|=2;var h=Iy(),f=Cy();(le!==e||Mt!==n)&&(Ju=null,Ma(e,n)),n=!1;var p=_e;t:do try{if(te!==0&&xt!==null){var E=xt,I=Cn;switch(te){case 8:Jf(),p=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=te;if(te=0,Cn=null,Va(e,E,I,z),s&&Na){p=0;break t}break;default:z=te,te=0,Cn=null,Va(e,E,I,z)}}I1(),p=_e;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=Or=null,Xt=l,H.H=h,H.A=f,xt===null&&(le=null,Mt=0,Eu()),p}function I1(){for(;xt!==null;)xy(xt)}function C1(e,n){var s=Xt;Xt|=2;var l=Iy(),h=Cy();le!==e||Mt!==n?(Ju=null,Zu=cn()+500,Ma(e,n)):Na=Yn(e,n);t:do try{if(te!==0&&xt!==null){n=xt;var f=Cn;e:switch(te){case 1:te=0,Cn=null,Va(e,n,f,1);break;case 2:case 9:if(zp(f)){te=0,Cn=null,Ny(n);break}n=function(){te!==2&&te!==9||le!==e||(te=7),xi(e)},f.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:zp(f)?(te=0,Cn=null,Ny(n)):(te=0,Cn=null,Va(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?p_(p):E.stateNode.complete){te=0,Cn=null;var I=E.sibling;if(I!==null)xt=I;else{var z=E.return;z!==null?(xt=z,ec(z)):xt=null}break e}}te=0,Cn=null,Va(e,n,f,5);break;case 6:te=0,Cn=null,Va(e,n,f,6);break;case 8:Jf(),_e=6;break t;default:throw Error(a(462))}}x1();break}catch(G){wy(e,G)}while(!0);return Fi=Or=null,H.H=l,H.A=h,Xt=s,xt!==null?0:(le=null,Mt=0,Eu(),_e)}function x1(){for(;xt!==null&&!Ch();)xy(xt)}function xy(e){var n=Wg(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?ec(e):xt=n}function Ny(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:mf(n);default:ey(s,n),n=xt=Cp(n,es),n=Wg(s,n,es)}e.memoizedProps=e.pendingProps,n===null?ec(e):xt=n}function Va(e,n,s,l){Fi=Or=null,mf(n),Sa=null,Ll=0;var h=n.return;try{if(y1(e,h,n,s,Mt)){_e=1,qu(e,Pn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;_e=1,qu(e,Pn(s,e.current)),xt=null;return}n.flags&32768?(jt||l===1?e=!0:Na||(Mt&536870912)!==0?e=!1:(Ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Ms);return}e=n.return;var s=E1(n.alternate,n,es);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);_e===0&&(_e=5)}function Dy(e,n){do{var s=T1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);_e=6,xt=null}function Oy(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do nc();while(Le!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Dh(e,s,f,p,E,I),e===le&&(xt=le=null,Mt=0),Oa=n,Us=e,ns=s,Xf=f,$f=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M1(ds,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=et.p,et.p=2,p=Xt,Xt|=4;try{b1(e,n,s)}finally{Xt=p,et.p=h,H.T=l}}Le=1,My(),Vy(),ky()}}function My(){if(Le===1){Le=0;var e=Us,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var h=Xt;Xt|=4;try{dy(n,e);var f=hd,p=vp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(I!==null&&kh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,pt=Math.min(I.start,ot),re=I.end===void 0?pt:Math.min(I.end,ot);!q.extend&&pt>re&&(p=re,re=pt,pt=p);var U=yp(E,pt),D=yp(E,re);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pt>re?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}mc=!!cd,hd=cd=null}finally{Xt=h,et.p=l,H.T=s}}e.current=n,Le=2}}function Vy(){if(Le===2){Le=0;var e=Us,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var h=Xt;Xt|=4;try{oy(e,n.alternate,n)}finally{Xt=h,et.p=l,H.T=s}}Le=3}}function ky(){if(Le===4||Le===3){Le=0,Qo();var e=Us,n=Oa,s=ns,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Oa=Us=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),zi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(ns&3)!==0&&nc(),xi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?to++:(to=0,Zf=e):to=0,eo(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function nc(){return My(),Vy(),ky(),Ly()}function Ly(){if(Le!==5)return!1;var e=Us,n=Xf;Xf=0;var s=zi(ns),l=H.T,h=et.p;try{et.p=32>s?32:s,H.T=null,s=$f,$f=null;var f=Us,p=ns;if(Le=0,Oa=Us=null,ns=0,(Xt&6)!==0)throw Error(a(331));var E=Xt;if(Xt|=4,_y(f.current),py(f,f.current,p,s),Xt=E,eo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{et.p=h,H.T=l,Uy(e,n)}}function Py(e,n,s){n=Pn(s,n),n=xf(e.stateNode,n,2),e=xs(e,n,2),e!==null&&(pr(e,2),xi(e))}function ee(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){e=Pn(s,e),s=zg(2),l=xs(n,s,2),l!==null&&(jg(s,l,n,e),pr(l,2),xi(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new w1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=N1.bind(null,e,n,s),n.then(e,e))}function N1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Mt&s)===s&&(_e===4||_e===3&&(Mt&62914560)===Mt&&300>cn()-$u?(Xt&2)===0&&Ma(e,0):Yf|=s,Da===Mt&&(Da=0)),xi(e)}function zy(e,n){n===0&&(n=Jo()),e=xr(e,n),e!==null&&(pr(e,n),xi(e))}function D1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function O1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function M1(e,n){return Ue(e,n)}var ic=null,ka=null,ed=!1,sc=!1,nd=!1,Ps=0;function xi(e){e!==ka&&e.next===null&&(ka===null?ic=ka=e:ka=ka.next=e),sc=!0,ed||(ed=!0,k1())}function eo(e,n){if(!nd&&sc){nd=!0;do for(var s=!1,l=ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Mt,f=hi(l,l===le?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);nd=!1}}function V1(){jy()}function jy(){sc=ed=!1;var e=0;Ps!==0&&F1()&&(e=Ps);for(var n=cn(),s=null,l=ic;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?ic=h:s.next=h,h===null&&(ka=s)):(s=l,(e!==0||(f&3)!==0)&&(sc=!0)),l=h}Le!==0&&Le!==5||eo(e),Ps!==0&&(Ps=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ee(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=Mt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&fs(l),zi(s)){case 2:case 8:s=hl;break;case 32:s=ds;break;case 268435456:s=Yo;break;default:s=ds}return l=qy.bind(null,e),s=Ue(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&fs(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nc()&&e.callbackNode!==s)return null;var l=Mt;return l=hi(e,e===le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),By(e,cn()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(nc())return null;Sy(e,n,!0)}function k1(){Y1(function(){(Xt&6)!==0?Ue(cl,V1):jy()})}function id(){if(Ps===0){var e=Ea;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Ps=e}return Ps}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function U1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[je]||null).action),p=l.submitter;p&&(n=(n=p[je]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new bi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var I=p?Fy(h,p):new FormData(h);Sf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Fy(h,p):new FormData(h),Sf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var sd=0;sd<zh.length;sd++){var rd=zh[sd],L1=rd.toLowerCase(),P1=rd[0].toUpperCase()+rd.slice(1);ei(L1,"on"+P1)}ei(bp,"onAnimationEnd"),ei(Sp,"onAnimationIteration"),ei(Ap,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(t1,"onTransitionRun"),ei(e1,"onTransitionStart"),ei(n1,"onTransitionCancel"),ei(wp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[rc]){e[rc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(z1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,ad("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(b_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=pi(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}vs(function(){var z=f,G=Vn(s),K=[];t:{var j=Rp.get(e);if(j!==void 0){var q=bi,ot=e;switch(e){case"keypress":if(Sr(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":ot="focus",q=wr;break;case"focusout":ot="blur",q=wr;break;case"beforeblur":case"afterblur":q=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bp:case Sp:case Ap:q=uu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Rl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qi;break;case"toggle":case"beforetoggle":q=Rt}var pt=(n&4)!==0,re=!pt&&(e==="scroll"||e==="scrollend"),U=pt?j!==null?j+"Capture":null:j;pt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Zn(D,U),Q!=null&&pt.push(io(D,Q,P))),re)break;D=D.return}0<pt.length&&(j=new q(j,ot,null,s,G),K.push({event:j,listeners:pt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Sl&&(ot=s.relatedTarget||s.fromElement)&&(pi(ot)||ot[di]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?pi(ot):null,ot!==null&&(re=c(ot),pt=ot.tag,ot!==re||pt!==5&&pt!==27&&pt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(pt=Il,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=qi,Q="onPointerLeave",U="onPointerEnter",D="pointer"),re=q==null?j:bn(q),P=ot==null?j:bn(ot),j=new pt(Q,D+"leave",q,s,G),j.target=re,j.relatedTarget=P,Q=null,pi(G)===z&&(pt=new pt(U,D+"enter",ot,s,G),pt.target=P,pt.relatedTarget=re,Q=pt),re=Q,q&&ot)e:{for(pt=j1,U=q,D=ot,P=0,Q=U;Q;Q=pt(Q))P++;Q=0;for(var ft=D;ft;ft=pt(ft))Q++;for(;0<P-Q;)U=pt(U),P--;for(;0<Q-P;)D=pt(D),Q--;for(;P--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;q!==null&&Ky(K,j,q,pt,!1),ot!==null&&re!==null&&Ky(K,re,ot,pt,!0)}}t:{if(j=z?bn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=hp;else if(up(j))if(fp)qt=ZT;else{qt=XT;var ct=KT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(qt=hp):qt=$T;if(qt&&(qt=qt(e,z))){cp(K,qt,s,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&El(j,"number",j.value)}switch(ct=z?bn(z):window,e){case"focusin":(up(ct)||ct.contentEditable==="true")&&(fa=ct,Uh=z,Ol=null);break;case"focusout":Ol=Uh=fa=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ep(K,s,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":Ep(K,s,G)}var Ct;if(Kt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else ha?Rr(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(wi&&s.locale!=="ko"&&(ha||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ha&&(Ct=wl()):(Ti=G,Al="value"in Ti?Ti.value:Ti.textContent,ha=!0)),ct=ac(z,Vt),0<ct.length&&(Vt=new Ai(Vt,e,null,s,G),K.push({event:Vt,listeners:ct}),Ct?Vt.data=Ct:(Ct=ca(s),Ct!==null&&(Vt.data=Ct)))),(Ct=Un?GT(e,s):FT(e,s))&&(Vt=ac(z,"onBeforeInput"),0<Vt.length&&(ct=new Ai("onBeforeInput","beforeinput",null,s,G),K.push({event:ct,listeners:Vt}),ct.data=Ct)),U1(K,e,z,s,G)}Qy(K,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&l.unshift(io(e,h,f)),h=Zn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function j1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Zn(s,f),z!=null&&p.unshift(io(s,z,I))):h||(z=Zn(s,f),z!=null&&p.push(io(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var B1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(q1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function se(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(e,""+l);break;case"className":Sn(e,"class",l);break;case"tabIndex":Sn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,s,l);break;case"style":bl(e,l,f);break;case"data":if(n!=="object"){Sn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&se(e,n,"name",h.name,h,null),se(e,n,"formEncType",h.formEncType,h,null),se(e,n,"formMethod",h.formMethod,h,null),se(e,n,"formTarget",h.formTarget,h,null)):(se(e,n,"encType",h.encType,h,null),se(e,n,"method",h.method,h,null),se(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=au.get(s)||s,na(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":bl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?mn(e,l):(typeof l=="number"||typeof l=="bigint")&&mn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):na(e,s,l)}}}function Xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,f,p,s,null)}}h&&se(e,n,"srcSet",s.srcSet,s,null),l&&se(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:se(e,n,l,G,s,null)}}iu(e,f,E,I,z,p,h,!1);return;case"select":Nt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:se(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?ps(e,!!l,n,!1):s!=null&&ps(e,!!l,s,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:se(e,n,p,E,s,null)}gs(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,n,I,l,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Nt(no[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:se(e,n,z,l,s,null)}return;default:if(sa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&ud(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&se(e,n,E,l,s,null))}function H1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||se(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&se(e,n,j,q,l,K)}}ia(e,p,E,I,z,G,f,h);return;case"select":q=p=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||se(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&se(e,n,h,f,l,I)}n=E,s=p,l=q,j!=null?ps(e,!!s,j,!1):!!l!=!!s&&(n!=null?ps(e,!!s,n,!0):ps(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:se(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&se(e,n,p,h,l,f)}su(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:se(e,n,ot,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:se(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)j=s[pt],s.hasOwnProperty(pt)&&j!=null&&!l.hasOwnProperty(pt)&&se(e,n,pt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:se(e,n,z,j,l,q)}return;default:if(sa(n)){for(var re in s)j=s[re],s.hasOwnProperty(re)&&j!==void 0&&!l.hasOwnProperty(re)&&ud(e,n,re,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||ud(e,n,G,j,l,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&se(e,n,U,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||se(e,n,K,j,l,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&Zy(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function F1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(K1)}:t_;function K1(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")so(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,so(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&so(e.ownerDocument.body);s=h}while(s);za(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function X1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Hn(e.nextSibling),e===null)break}return null}function $1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Hn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Hn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Gn=new Map,o_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=et.d;et.d={f:J1,r:W1,D:tb,C:eb,L:nb,m:ib,X:rb,S:sb,M:ab};function J1(){var e=is.f(),n=Wu();return e||n}function W1(e){var n=Mn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):is.r(e)}var Ua=typeof document>"u"?null:document;function u_(e,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Xe(n,"link",e),Ie(n),l.head.appendChild(n)))}}function tb(e){is.D(e),u_("dns-prefetch",e,null)}function eb(e,n){is.C(e,n),u_("preconnect",e,n)}function nb(e,n,s){is.L(e,n,s);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Gn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ro(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),Xe(n,"link",e),Ie(n),l.head.appendChild(n)))}}function ib(e,n){is.m(e,n);var s=Ua;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Gn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),Xe(l,"link",e),Ie(l),s.head.appendChild(l)}}}function sb(e,n,s){is.S(e,n,s);var l=Ua;if(l&&e){var h=gi(l).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ro(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&_d(e,s);var I=p=l.createElement("link");Ie(I),Xe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function rb(e,n){is.X(e,n);var s=Ua;if(s&&e){var l=gi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=A({src:e,async:!0},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),Ie(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ab(e,n){is.M(e,n);var s=Ua;if(s&&e){var l=gi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&vd(e,n),f=s.createElement("script"),Ie(f),Xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=wt.current)?oc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=gi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=gi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ro(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||lb(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=gi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+dn(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xe(n,"link",s),Ie(n),e.head.appendChild(n))}function Pa(e){return'[src="'+dn(e)+'"]'}function ao(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(l)return n.instance=l,Ie(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Xe(l,"style",h),uc(l,s.precedence,e),n.instance=l;case"stylesheet":h=La(s.href);var f=e.querySelector(ro(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;l=h_(s),(h=Gn.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Xe(f,"link",l),n.state.loading|=4,uc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,Ie(h),h):(l=s,(h=Gn.get(f))&&(l=A({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Xe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uc(l,s.precedence,e));return n.instance}function uc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function d_(e,n,s){if(cc===null){var l=new Map,h=cc=new Map;h.set(s,l)}else h=cc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ob(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,l=h_(l),(h=Gn.get(h))&&_d(l,h),f=f.createElement("link"),Ie(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Xe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function cb(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*G1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(hb,e),fc=null,hc.call(e))}function hb(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var l=s.get(null);else{s=new Map,fc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function fb(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(e,n,s,l,h,f,p,E,I,z,G,K){return e=new fb(e,n,s,p,I,z,G,K,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function y_(e){return e?(e=pa,e):pa}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=xs(e,l,n),s!==null&&(vn(s,e,n),zl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=xr(e,67108864);n!==null&&vn(n,e,67108864),Td(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Nn();n=yr(n);var s=xr(e,n);s!==null&&vn(s,e,n),Td(e,n)}}var mc=!0;function db(e,n,s,l){var h=H.T;H.T=null;var f=et.p;try{et.p=2,bd(e,n,s,l)}finally{et.p=f,H.T=h}}function mb(e,n,s,l){var h=H.T;H.T=null;var f=et.p;try{et.p=8,bd(e,n,s,l)}finally{et.p=f,H.T=h}}function bd(e,n,s,l){if(mc){var h=Sd(l);if(h===null)od(e,n,l,pc,s),S_(e,l);else if(gb(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<pb.indexOf(e)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ci(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-Ee(p);E.entanglements[1]|=I,p&=~I}xi(f),(Xt&6)===0&&(Zu=cn()+500,eo(0))}}break;case 31:case 13:E=xr(f,2),E!==null&&vn(E,f,2),Wu(),Td(f,2)}if(f=Sd(l),f===null&&od(e,n,l,pc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Sd(e){return e=Vn(e),Ad(e)}var pc=null;function Ad(e){if(pc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case cl:return 2;case hl:return 8;case ds:case xh:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var wd=!1,js=null,Bs=null,qs=null,oo=new Map,uo=new Map,Hs=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gb(e,n,s,l,h){switch(n){case"focusin":return js=co(js,e,n,s,l,h),!0;case"dragenter":return Bs=co(Bs,e,n,s,l,h),!0;case"mouseover":return qs=co(qs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,s,l,h)),!0}return!1}function A_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Sl=l,s.target.dispatchEvent(l),Sl=null}else return n=Mn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){gc(e)&&s.delete(n)}function yb(){wd=!1,js!==null&&gc(js)&&(js=null),Bs!==null&&gc(Bs)&&(Bs=null),qs!==null&&gc(qs)&&(qs=null),oo.forEach(w_),uo.forEach(w_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var _c=null;function R_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=Mn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(e){function n(I){return yc(I,e)}js!==null&&yc(js,e),Bs!==null&&yc(Bs,e),qs!==null&&yc(qs,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Hs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[je]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[je]||null)E=p.formAction;else if(Ad(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}vc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Nn();__(s,l,e,n,null,null)},vc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),Wu(),n[di]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hs.length&&n!==0&&n<Hs[s].priority;s++);Hs.splice(s,0,e),s===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.1")throw Error(a(527,C_,"19.2.1"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Qn=Ec.inject(_b),Ge=Ec}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kg,f=Ug,p=Lg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[di]=n.current,ld(e),new Rd(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,p=Ug,E=Lg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=g_(e,1,!0,n,s??null,l,h,I,f,p,E,I_),n.context=y_(null),s=n.current,l=Nn(),l=yr(l),h=Cs(l),h.callback=null,xs(s,h,l),s=l,n.current.lanes=s,pr(n,s),xi(n),e[di]=n.current,ld(e),new vc(n)},fo.version="19.2.1",fo}var P_;function Cb(){if(P_)return xd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Ib(),xd.exports}var xb=Cb();const Nb=()=>{};var z_={};const _0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Db=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[b],i[A],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Db(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||A==null)throw new Ob;const M=c<<2|g>>4;if(a.push(M),_!==64){const F=g<<4&240|_>>2;if(a.push(F),A!==64){const W=_<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(r){const t=_0(r);return v0.encodeByteArray(t,!0)},zc=function(r){return Mb(r).replace(/\./g,"")},E0=function(r){try{return v0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Vb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kb=()=>Vb().__FIREBASE_DEFAULTS__,Ub=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&E0(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return Nb()||kb()||Ub()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},T0=r=>sh()?.emulatorHosts?.[r],Pb=r=>{const t=T0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},b0=()=>sh()?.config,S0=r=>sh()?.[`_${r}`];class zb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(r){return(await fetch(r,{credentials:"include"})).ok}function jb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const Eo={};function Bb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function qb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function w0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Eo[r]===t||Eo[r]||j_)return;Eo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Bb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{j_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=qb(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),dt=i("preprendIcon"),Et=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const gt=M.element;g(gt),b(J,it);const Ft=_();y(Et,dt),gt.append(Et,W,J,Ft),document.body.appendChild(gt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Gb(){const r=sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xb(){return!Gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function Zb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Jb="FirebaseError";class hs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Jb,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Wb(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new hs(o,g,a)}}function Wb(r,t){return r.replace(tS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const tS=/\{\$([^}]+)}/g;function eS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(B_(c)&&B_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Lo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function nS(r,t){const i=new iS(r,t);return i.subscribe.bind(i)}class iS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");sS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function on(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class rS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aS(r){return r===qr?void 0:r}function lS(r){return r.instantiationMode==="EAGER"}class oS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new rS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const uS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},cS=kt.INFO,hS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},fS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=hS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const dS=(r,t)=>t.some(i=>r instanceof i);let q_,H_;function mS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Qd=new WeakMap,I0=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function gS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&R0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function yS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||I0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function _S(r){Yd=r(Yd)}function vS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return I0.set(a,t.sort?t.sort():[t]),Js(a)}:pS().includes(r)?function(...t){return r.apply(kd(this),t),Js(R0.get(this))}:function(...t){return Js(r.apply(kd(this),t))}}function ES(r){return typeof r=="function"?vS(r):(r instanceof IDBTransaction&&yS(r),dS(r,mS())?new Proxy(r,Yd):r)}function Js(r){if(r instanceof IDBRequest)return gS(r);if(Vd.has(r))return Vd.get(r);const t=ES(r);return t!==r&&(Vd.set(r,t),Tm.set(t,r)),t}const kd=r=>Tm.get(r);function TS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Js(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Js(d.result),y.oldVersion,y.newVersion,Js(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const bS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],Ud=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=SS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Ud.set(t,c),c}_S(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class AS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function wS(r){return r.getComponent()?.type==="VERSION"}const Kd="@firebase/app",F_="0.14.6";const as=new Em("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",xS="@firebase/app-check-compat",NS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",VS="@firebase/data-connect",kS="@firebase/database-compat",US="@firebase/functions",LS="@firebase/functions-compat",PS="@firebase/installations",zS="@firebase/installations-compat",jS="@firebase/messaging",BS="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",GS="@firebase/remote-config",FS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",KS="@firebase/firestore",XS="@firebase/ai",$S="@firebase/firestore-compat",ZS="firebase",JS="12.6.0";const Xd="[DEFAULT]",WS={[Kd]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[NS]:"fire-app-check",[xS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[VS]:"fire-data-connect",[kS]:"fire-rtdb-compat",[US]:"fire-fn",[LS]:"fire-fn-compat",[PS]:"fire-iid",[zS]:"fire-iid-compat",[jS]:"fire-fcm",[BS]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[GS]:"fire-rc",[FS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[KS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};const jc=new Map,tA=new Map,$d=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if($d.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const i of jc.values())Q_(i,r);for(const i of tA.values())Q_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ri(r){return r==null?!1:r.settings!==void 0}const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Uo("app","Firebase",eA);class nA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const sl=JS;function C0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=b0()),!i)throw Ws.create("no-options");const c=jc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const d=new oS(o);for(const y of $d.values())d.addComponent(y);const g=new nA(i,a,d);return jc.set(o,g),g}function x0(r=Xd){const t=jc.get(r);if(!t&&r===Xd&&b0())return C0();if(!t)throw Ws.create("no-app",{appName:r});return t}function tr(r,t,i){let a=WS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}$a(new Qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const iA="firebase-heartbeat-database",sA=1,Ro="firebase-heartbeat-store";let Ld=null;function N0(){return Ld||(Ld=TS(iA,sA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function rA(r){try{const i=(await N0()).transaction(Ro),a=await i.objectStore(Ro).get(D0(r));return await i.done,a}catch(t){if(t instanceof hs)as.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});as.warn(i.message)}}}async function Y_(r,t){try{const a=(await N0()).transaction(Ro,"readwrite");await a.objectStore(Ro).put(t,D0(r)),await a.done}catch(i){if(i instanceof hs)as.warn(i.message);else{const a=Ws.create("idb-set",{originalErrorMessage:i?.message});as.warn(a.message)}}}function D0(r){return`${r.name}!${r.options.appId}`}const aA=1024,lA=30;class oA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lA){const o=hA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K_(),{heartbeatsToSend:i,unsentEntries:a}=uA(this._heartbeatsCache.heartbeats),o=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return as.warn(t),""}}}function K_(){return new Date().toISOString().substring(0,10)}function uA(r,t=aA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?Zb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return zc(JSON.stringify({version:2,heartbeats:r})).length}function hA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function fA(r){$a(new Qr("platform-logger",t=>new AS(t),"PRIVATE")),$a(new Qr("heartbeat",t=>new oA(t),"PRIVATE")),tr(Kd,F_,r),tr(Kd,F_,"esm2020"),tr("fire-js","")}fA("");var dA="firebase",mA="12.6.0";tr(dA,mA,"app");function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pA=O0,M0=new Uo("auth","Firebase",O0());const Bc=new Em("@firebase/auth");function gA(r,...t){Bc.logLevel<=kt.WARN&&Bc.warn(`Auth (${sl}): ${r}`,...t)}function xc(r,...t){Bc.logLevel<=kt.ERROR&&Bc.error(`Auth (${sl}): ${r}`,...t)}function ls(r,...t){throw Sm(r,...t)}function Di(r,...t){return Sm(r,...t)}function V0(r,t,i){const a={...pA(),[t]:i};return new Uo("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return V0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return M0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Sm(t,...i)}function ss(r){const t="INTERNAL ASSERTION FAILED: "+r;throw xc(t),new Error(t)}function os(r,t){r||ss(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function yA(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function _A(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yA()||Qb()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Po{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=Hb()||Yb()}get(){return _A()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(r,t){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class k0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bA=new Po(3e4,6e4);function rh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function rl(r,t,i,a,o={}){return U0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Lo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return Fb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(_.credentials="include"),k0.fetch()(await P0(r,r.config.apiHost,i,g),_)})}async function U0(r,t,i){r._canInitEmulator=!1;const a={...EA,...t};try{const o=new SA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Tc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Tc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V0(r,b,_);ls(r,b)}}catch(o){if(o instanceof hs)throw o;ls(r,"network-request-failed",{message:String(o)})}}async function L0(r,t,i,a,o={}){const c=await rl(r,t,i,a,o);return"mfaPendingCredential"in c&&ls(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function P0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,o):`${r.config.apiScheme}://${o}`;return TA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Di(this.auth,"network-request-failed")),bA.get())})}}function Tc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Di(r,t,a);return o.customData._tokenResponse=i,o}async function AA(r,t){return rl(r,"POST","/v1/accounts:delete",t)}async function qc(r,t){return rl(r,"POST","/v1/accounts:lookup",t)}function To(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wA(r,t=!1){const i=on(r),a=await i.getIdToken(t),o=wm(a);Tt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:To(Pd(o.auth_time)),issuedAtTime:To(Pd(o.iat)),expirationTime:To(Pd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(i);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(r){const t=wm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Io(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hs&&RA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function RA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Io(r,qc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?z0(o.providerUserInfo):[],d=xA(r.providerData,c),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=g?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function CA(r){const t=on(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function z0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NA(r,t){const i=await U0(r,{},async()=>{const a=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await P0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),k0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DA(r,t){return rl(r,"POST","/v2/accounts:revokeToken",rh(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await NA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Fa;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Tt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Fs(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Io(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wA(this,t)}reload(){return CA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Io(this,AA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:it}=i;Tt(A&&it,t,"internal-error");const J=Fa.fromJSON(this.name,it);Tt(typeof A=="string",t,"internal-error"),Fs(a,t.name),Fs(o,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof F=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(g,t.name),Fs(y,t.name),Fs(_,t.name),Fs(b,t.name);const dt=new ai({uid:A,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(dt.providerData=W.map(Et=>({...Et}))),y&&(dt._redirectEventId=y),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Fa;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Tt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?z0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Fa;g.updateFromIdToken(a);const y=new ai({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const J_=new Map;function rs(r){os(r instanceof Function,"Expected a class definition");let t=J_.get(r);return t?(os(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,J_.set(r,t),t)}class j0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}j0.type="NONE";const W_=j0;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa(rs(W_),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||rs(W_);const d=Nc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const M=await qc(t,{idToken:b}).catch(()=>{});if(!M)break;A=await ai._fromGetAccountInfoResponse(t,M,b)}else A=ai._fromJSON(t,b);_!==c&&(g=A),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,a))}}function tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(G0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q0(t))return"Blackberry";if(Y0(t))return"Webos";if(q0(t))return"Safari";if((t.includes("chrome/")||H0(t))&&!t.includes("edge/"))return"Chrome";if(F0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function B0(r=ln()){return/firefox\//i.test(r)}function q0(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H0(r=ln()){return/crios\//i.test(r)}function G0(r=ln()){return/iemobile/i.test(r)}function F0(r=ln()){return/android/i.test(r)}function Q0(r=ln()){return/blackberry/i.test(r)}function Y0(r=ln()){return/webos/i.test(r)}function Rm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OA(r=ln()){return Rm(r)&&!!window.navigator?.standalone}function MA(){return Kb()&&document.documentMode===10}function K0(r=ln()){return Rm(r)||F0(r)||Y0(r)||Q0(r)||/windows phone/i.test(r)||G0(r)}function X0(r,t=[]){let i;switch(r){case"Browser":i=tv(ln());break;case"Worker":i=`${tv(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class VA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function kA(r,t={}){return rl(r,"GET","/v2/passwordPolicy",rh(r,t))}const UA=6;class LA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??UA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class PA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new VA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ri(this.app))return Promise.reject(er(this));const i=t?on(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ri(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kA(this),i=new LA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Uo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await DA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ah(r){return on(r)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=nS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zA(r){Im=r}function jA(r){return Im.loadJS(r)}function BA(){return Im.gapiScript}function qA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function HA(r,t){const i=bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return o;ls(o,"already-initialized")}return i.initialize({options:t})}function GA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function FA(r,t,i){const a=ah(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=$0(t),{host:d,port:g}=QA(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Fr(_,a.config.emulator)&&Fr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(A0(`${c}//${d}${y}`),w0("Auth",!0)):YA()}function $0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function QA(r){const t=$0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function YA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Z0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function Ya(r,t){return L0(r,"POST","/v1/accounts:signInWithIdp",rh(r,t))}const KA="http://localhost";class Yr extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ls("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Yr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:KA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Lo(i)}return t}}class J0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zo extends J0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends zo{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class Ks extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Xs extends zo{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends zo{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function XA(r,t){return L0(r,"POST","/v1/accounts:signUp",rh(r,t))}class sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ai._fromIdTokenResponse(t,a,o),d=iv(a);return new sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=iv(a);return new sr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $A(r){if(ri(r.app))return Promise.reject(er(r));const t=ah(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new sr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await XA(t,{returnSecureToken:!0}),a=await sr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Gc extends hs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Gc(t,i,a,o)}}function W0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,c,t,a):c})}async function ZA(r,t,i=!1){const a=await Io(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return sr._forOperation(r,"link",a)}async function JA(r,t,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(er(a));const o="reauthenticate";try{const c=await Io(r,W0(a,o,t,r),i);Tt(c.idToken,a,"internal-error");const d=wm(c.idToken);Tt(d,a,"internal-error");const{sub:g}=d;return Tt(r.uid===g,a,"user-mismatch"),sr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ls(a,"user-mismatch"),c}}async function WA(r,t,i=!1){if(ri(r.app))return Promise.reject(er(r));const a="signIn",o=await W0(r,a,t),c=await sr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function tw(r,t,i,a){return on(r).onIdTokenChanged(t,i,a)}function ew(r,t,i){return on(r).beforeAuthStateChanged(t,i)}function nw(r,t,i,a){return on(r).onAuthStateChanged(t,i,a)}function iw(r){return on(r).signOut()}const Fc="__sak";class tE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sw=1e3,rw=10;class eE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);MA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,rw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}eE.type="LOCAL";const aw=eE;class nE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}nE.type="SESSION";const iE=nE;function lw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await lw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class ow{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Cm("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function uw(r){Oi().location.href=r}function sE(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hw(){return navigator?.serviceWorker?.controller||null}function fw(){return sE()?self:null}const rE="firebaseLocalStorageDb",dw=1,Qc="firebaseLocalStorage",aE="fbase_key";class jo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(r,t){return r.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function mw(){const r=indexedDB.deleteDatabase(rE);return new jo(r).toPromise()}function Wd(){const r=indexedDB.open(rE,dw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:aE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await mw(),t(await Wd()))})})}async function sv(r,t,i){const a=oh(r,!0).put({[aE]:t,value:i});return new jo(a).toPromise()}async function pw(r,t){const i=oh(r,!1).get(t),a=await new jo(i).toPromise();return a===void 0?null:a.value}function rv(r,t){const i=oh(r,!0).delete(t);return new jo(i).toPromise()}const gw=800,yw=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(fw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new ow(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wd();return await sv(t,Fc,"1"),await rv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>pw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=oh(o,!1).getAll();return new jo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const _w=lE;new Po(3e4,6e4);function vw(r,t){return t?rs(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xm extends Z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ew(r){return WA(r.auth,new xm(r),r.bypassAuthState)}function Tw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),JA(i,new xm(r),r.bypassAuthState)}async function bw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),ZA(i,new xm(r),r.bypassAuthState)}class oE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:ls(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new Po(2e3,1e4);class Ga extends oE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}Ga.currentPopupAction=null;const Aw="pendingRedirect",Dc=new Map;class ww extends oE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(r,t){const i=xw(t),a=Cw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Iw(r,t){Dc.set(r._key(),t)}function Cw(r){return rs(r._redirectPersistence)}function xw(r){return Nc(Aw,r.config.apiKey,r.name)}async function Nw(r,t,i=!1){if(ri(r.app))return Promise.reject(er(r));const a=ah(r),o=vw(a,t),d=await new ww(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Dw=600*1e3;class Ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Mw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function uE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Mw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(r);default:return!1}}async function Vw(r,t={}){return rl(r,"GET","/v1/projects",t)}const kw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uw=/^https?/;async function Lw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Vw(r);for(const i of t)try{if(Pw(i))return}catch{}ls(r,"unauthorized-domain")}function Pw(r){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Uw.test(i))return!1;if(kw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const zw=new Po(3e4,6e4);function lv(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function jw(r){return new Promise((t,i)=>{function a(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Di(r,"network-request-failed"))},timeout:zw.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const o=qA("iframefcb");return Oi()[o]=()=>{gapi.load?a():i(Di(r,"network-request-failed"))},jA(`${BA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function Bw(r){return Oc=Oc||jw(r),Oc}const qw=new Po(5e3,15e3),Hw="__/auth/iframe",Gw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Am(t,Gw):`https://${r.config.authDomain}/${Hw}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=Qw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Lo(a).slice(1)}`}async function Kw(r){const t=await Bw(r),i=Oi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Yw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Di(r,"network-request-failed"),g=Oi().setTimeout(()=>{c(d)},qw.get());function y(){Oi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const Xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$w=500,Zw=600,Jw="_blank",Ww="http://localhost";class ov{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t2(r,t,i,a=$w,o=Zw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...Xw,width:a.toString(),height:o.toString(),top:c,left:d},_=ln().toLowerCase();i&&(g=H0(_)?Jw:i),B0(_)&&(t=t||Ww,y.scrollbars="yes");const b=Object.entries(y).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(OA(_)&&g!=="_self")return e2(t||"",g),new ov(null);const A=window.open(t||"",g,b);Tt(A,r,"popup-blocked");try{A.focus()}catch{}return new ov(A)}function e2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const n2="__/auth/handler",i2="emulator/auth/handler",s2=encodeURIComponent("fac");async function uv(r,t,i,a,o,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof J0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",eS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof zo){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),_=y?`#${s2}=${encodeURIComponent(y)}`:"";return`${r2(r)}?${Lo(g).slice(1)}${_}`}function r2({config:r}){return r.emulator?Am(r,i2):`https://${r.authDomain}/${n2}`}const zd="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iE,this._completeRedirectFn=Nw,this._overrideRedirectResult=Iw}async _openPopup(t,i,a,o){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,Zd(),o);return t2(t,c,Cm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await uv(t,i,a,Zd(),o);return uw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Kw(t),a=new Ow(t);return i.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},o=>{const c=o?.[0]?.[zd];c!==void 0&&i(!!c),ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Lw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return K0()||q0()||Rm()}}const l2=a2;var cv="@firebase/auth",hv="1.11.1";class o2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function u2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(r){$a(new Qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X0(r)},_=new PA(a,o,c,y);return GA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),$a(new Qr("auth-internal",t=>{const i=ah(t.getProvider("auth").getImmediate());return(a=>new o2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(cv,hv,u2(r)),tr(cv,hv,"esm2020")}const h2=300,f2=S0("authIdTokenMaxAge")||h2;let fv=null;const d2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>f2)return;const o=i?.token;fv!==o&&(fv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function m2(r=x0()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=HA(r,{popupRedirectResolver:l2,persistence:[_w,aw,iE]}),a=S0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=d2(c.toString());ew(i,d,()=>d(i.currentUser)),tw(i,g=>d(g))}}const o=T0("auth");return o&&FA(i,`http://${o}`),i}function p2(){return document.getElementsByTagName("head")?.[0]??document}zA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Di("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",p2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,cE;(function(){var r;function t(C,S){function R(){}R.prototype=S.prototype,C.F=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,k){for(var w=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)w[oe-2]=arguments[oe];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],N=C.g[2];let k=C.g[3],w;w=S+(k^R&(N^k))+V[0]+3614090360&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+V[1]+3905402710&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+V[5]+1200080426&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+V[9]+2336552879&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(k^R&(N^k))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=k+(N^S&(R^N))+V[13]+4254626195&4294967295,k=S+(w<<12&4294967295|w>>>20),w=N+(R^k&(S^R))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=R+(S^N&(k^S))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^k&(R^N))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+V[6]+3225465664&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+V[10]+38016083&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+V[14]+3275163606&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^k&(R^N))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=k+(R^N&(S^R))+V[2]+4243563512&4294967295,k=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(k^S))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=R+(k^S&(N^k))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^k)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+V[8]+2272392833&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+V[4]+1272893353&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+V[0]+3936430074&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^k)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=k+(S^R^N)+V[12]+3873151461&4294967295,k=S+(w<<11&4294967295|w>>>21),w=N+(k^S^R)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=R+(N^k^S)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~k))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+V[7]+1126891415&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+V[3]+2399980690&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+V[15]+4264355552&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~k))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=k+(R^(S|~N))+V[11]+3174756917&4294967295,k=S+(w<<10&4294967295|w>>>22),w=N+(S^(k|~R))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=R+(k^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const R=S-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(V[N++]=C.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<S;)if(V[N++]=C[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[S++]=this.g[R]>>>V&255;return C};function c(C,S){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;V&&k==S||(R[N]=k,V=!1)}this.g=R}var g={};function y(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return J(_(-C));const S=[];let R=1;for(let V=0;C>=R;V++)S[V]=C/R|0,R*=4294967296;return new d(S,0)}function b(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return J(b(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=A;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var A=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();let C=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(it(this))return"-"+J(this).toString(C);const S=_(Math.pow(C,6));var R=this;let V="";for(;;){const N=Ft(R,S).g;R=dt(R,N.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,W(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function it(C){return C.h==-1}r.l=function(C){return C=dt(this,C),it(C)?-1:W(C)?0:1};function J(C){const S=C.g.length,R=[];for(let V=0;V<S;V++)R[V]=~C.g[V];return new d(R,~C.h).add(M)}r.abs=function(){return it(this)?J(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=S;N++){let k=V+(this.i(N)&65535)+(C.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,R[N]=w<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function dt(C,S){return C.add(J(S))}r.j=function(C){if(W(this)||W(C))return A;if(it(this))return it(C)?J(this).j(J(C)):J(J(this).j(C));if(it(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,oe=C.i(N)>>>16,ge=C.i(N)&65535;R[2*V+2*N]+=w*ge,Et(R,2*V+2*N),R[2*V+2*N+1]+=k*ge,Et(R,2*V+2*N+1),R[2*V+2*N+1]+=w*oe,Et(R,2*V+2*N+1),R[2*V+2*N+2]+=k*oe,Et(R,2*V+2*N+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new d(R,0)};function Et(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function gt(C,S){this.g=C,this.h=S}function Ft(C,S){if(W(S))throw Error("division by zero");if(W(C))return new gt(A,A);if(it(C))return S=Ft(J(C),S),new gt(J(S.g),J(S.h));if(it(S))return S=Ft(C,J(S)),new gt(J(S.g),S.h);if(C.g.length>30){if(it(C)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=S;V.l(C)<=0;)R=ae(R),V=ae(V);var N=Pt(R,1),k=Pt(V,1);for(V=Pt(V,2),R=Pt(R,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(N=N.add(R),k=w),V=Pt(V,1),R=Pt(R,1)}return S=dt(C,N.j(S)),new gt(N,S)}for(N=A;C.l(S)>=0;){for(R=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(R),w=k.j(S);it(w)||w.l(C)>0;)R-=V,k=_(R),w=k.j(S);W(k)&&(k=M),N=N.add(k),C=dt(C,w)}return new gt(N,C)}r.B=function(C){return Ft(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function ae(C){const S=C.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function Pt(C,S){const R=S>>5;S%=32;const V=C.g.length-R,N=[];for(let k=0;k<V;k++)N[k]=S>0?C.i(k+R)>>>S|C.i(k+R+1)<<32-S:C.i(k+R);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,cE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,nr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hE,go,fE,Mc,tm,dE,mE,pE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)tt[Rt-2]=arguments[Rt];return m.prototype[L].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Pt=!1,C=new Et,S=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(R)}};function R(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){J(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function oe(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(oe,N),oe.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),ve={};function Yt(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Yt(u,m[B],v,T,L);return null}return v=en(v),u&&u[ge]?u.J(m,v,g(T)?!!T.capture:!1,L):We(u,m,v,!1,T,L)}function We(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=g(L)?!!L.capture:!!L;let Rt=$t(u);if(Rt||(u[Dt]=Rt=new rt(u)),v=Rt.add(m,v,T,tt,B),v.proxy)return v;if(T=Z(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(lt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Z(){function u(v){return m.call(u.src,u.listener,v)}const m=yt;return u}function st(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)st(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=en(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$t(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,L)),(v=u>-1?m[u]:null)&&Ot(v))}function Ot(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(lt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=$t(m))?(vt(v,u),v.h==0&&(v.src=null,m[Dt]=null)):ut(u)}}}function lt(u){return u in ve?ve[u]:ve[u]="on"+u}function yt(u,m){if(u.da)u=!0;else{m=new oe(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ot(u),u=v.call(T,m)}return u}function $t(u){return u=u[Dt],u instanceof rt?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function Jt(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(Jt,V),Jt.prototype[ge]=!0,Jt.prototype.removeEventListener=function(u,m,v,T){st(this,u,m,v,T)};function Ue(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=fs(B,T,!0,m)&&L;if(B=m.g=u,L=fs(B,T,!0,m)&&L,L=fs(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=fs(B,T,!1,m)&&L}Jt.prototype.N=function(){if(Jt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},Jt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Jt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Rt=tt.listener,Te=tt.ha||tt.src;tt.fa&&vt(u.i,tt),L=Rt.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Qo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Qo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class cn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}A(dr,V);var cl=[];function hl(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ot(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),hl(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,xh=d.JSON.parse,Yo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Xo(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}A(Ge,N);function On(){N.call(this,"c")}A(On,N);var Ee={},$o=null;function Wr(){return $o=$o||new Jt}Ee.Ia="serverreachability";function Zo(u){N.call(this,Ee.Ia,u)}A(Zo,N);function ui(u){const m=Wr();Ue(m,new Zo(m))}Ee.STAT_EVENT="statevent";function mr(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}A(mr,N);function we(u){const m=Wr();Ue(m,new mr(m,u))}Ee.Ja="timingevent";function ci(u,m){N.call(this,Ee.Ja,u),this.size=m}A(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Rt=B.split("&");for(let Kt=0;Kt<Rt.length;Kt++){var Te=Rt[Kt].split("=");if(Te.length>1){const fe=Te[0];Te=Te[1];const Un=fe.split("_");tt=Un.length>=2&&Un[1]=="type"?tt+(fe+"="+Te+"&"):tt+(fe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Jo(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function fi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ds(B)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function yr(){}A(yr,Ko),yr.prototype.g=function(){return new XMLHttpRequest},dl=new yr;function zi(u){return encodeURIComponent(String(u))}function Wo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Re={},je={};function di(u,m,v){u.M=1,u.A=_r(Ce(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),mi(u),u.B=Ce(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Xn,u.g=mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new cn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(let B=0;B<L.length;B++){const tt=Yt(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=Jn(this.g),Te=this.g.ya(),Kt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||Rt!=4||Te==7||(Te==8||Kt<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,we(12),bn(this),Mn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=eu(this,v),fe==je){Rt==4&&(this.m=4,we(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,we(15),fi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),gi(this,fe);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Cl(tt),tt.P=!0,we(11))}}else fi(this.i,this.l,v,null),gi(this,v);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?cu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),bn(this),Mn(this)}}}catch{}finally{}};function Oh(u){if(!tu(u))return u.g.la();const m=Fe(u.g);if(m==="")return"";let v="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?je:(v=Number(m.substring(v,T)),isNaN(v)?Re:(T+=1,T+v>m.length?je:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,bn(this)};function mi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(_(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ui(),we(17)),bn(this),this.m=2,Mn(this)):ea(this,this.T-u)};function Mn(u){u.j.I==0||u.K||cu(u.j,u)}function bn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||_i(v.h,u))){if(!u.L&&_i(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),Ts(v);else break t;wr(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(_(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const fe=Kt[0];if(!(fe<=v.K))if(v.K=fe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Un=Kt[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const wi=Kt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=Kt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Rr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(gl(B,B.h),B.h=null))}if(T.G){const ca=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Wt(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=du(T,T.L?T.ba:null,T.W),tt.L){yl(T.h,tt);var Rt=tt,Te=T.O;Te&&(Rt.H=Te),Rt.D&&(pi(Rt),mi(Rt)),T.g=tt}else ou(T);v.i.length>0&&Si(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Ai(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ai(v,7):Rl(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ui(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,vl(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),ms(this,m[4]),this.h=vi(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ia,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?El:iu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,su)),u.join("")},Sn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Rt=L[tt++];Rt=="."?T&&tt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Rt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?vl(m,au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new Sn(u)}function Be(u,m,v){u.j=v?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,v){m instanceof gs?(u.i=m,ra(u.i,u.l)):(v||(m=vr(m,ps)),u.i=new gs(m,u.l))}function Wt(u,m,v){u.i.set(m,v)}function _r(u){return Wt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,iu=/[#\?:]/g,El=/[#\?]/g,ps=/[#\?@]/g,su=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=gs.prototype,r.add=function(u,m){mn(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ru(u,m){mn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return mn(u),m=ys(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function bl(u,m){mn(u);let v=[];if(typeof m=="string")Tl(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=ys(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=bl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){ru(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=zi(v);v=bl(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+zi(v[B])),u.push(tt)}}return this.i=u.join("&")};function au(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(ru(this,T),sa(this,L,v))},u)),u.j=m}function $n(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=b(Vn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Vn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Vn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Vn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Sl(u,m){const v=new Yn,T=new AbortController,L=setTimeout(()=>{T.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function _s(){this.g=new Yo}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ei,Ko),Ei.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){Jt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Er,Jt),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Zn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},r.Na=function(u){this.g&&(this.response=u,vs(this))},r.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return zt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=kn(v),typeof u=="string"?v!=null&&zi(v):Wt(u,m,v))}function ne(u){Jt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ne,Jt);var Ti=/^https?$/i,Al=["POST","PUT"];r=ne.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){br(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Al,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){br(this,B)}};function br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),ji(u)}function wl(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),ne.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},r.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(nu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(tt?tt.toLowerCase():"")}v=T}if(v)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wl(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ue(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function Fe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Wo(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Qt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Es.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){we(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),Si(this)};function Rl(u){if(la(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Wt(v,"SID",u.M),Wt(v,"RID",m),Wt(v,"TYPE","terminate"),Ar(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=_r(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}fu(u)}function Ts(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function la(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||S(),Pt||(ae(),Pt=!0),C.add(m,u),u.D=0}}function oa(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(_(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=lu(this,L,m),v=Ce(this.J),Wt(v,"RID",u),Wt(v,"CVER",22),this.G&&Wt(v,"X-HTTP-Session-Id",this.G),Ar(this,v),B&&(this.R?m="headers="+zi(kn(B))+"&"+m:this.u&&Tr(v,this.u,B)),gl(this.h,L),this.Ra&&Wt(v,"TYPE","init"),this.S?(Wt(v,"$req",m),Wt(v,"SID","null"),L.U=!0,di(L,v,null)):di(L,v,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var v;m?v=m.l:v=u.V++;const T=Ce(u.J);Wt(T,"SID",u.M),Wt(T,"RID",v),Wt(T,"AID",u.K),Ar(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),gl(u.h,v),di(v,T,m)}function Ar(u,m){u.H&&zt(u.H,function(v,T){Wt(m,T,v)}),u.l&&zt({},function(v,T){Wt(m,T,v)})}function lu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const Te=["count="+v];Rt==-1?v>0?(Rt=L[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let Kt=!0;for(let fe=0;fe<v;fe++){var B=L[fe].g;const Un=L[fe].map;if(B-=Rt,B<0)Rt=Math.max(0,L[fe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var tt=Un instanceof Map?Un:Object.entries(Un);for(const[wi,Wn]of tt){let ti=Wn;g(Wn)&&(ti=ds(Wn)),Te.push(B+wi+"="+encodeURIComponent(ti))}}catch(wi){throw Te.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Un)}}if(Kt){tt=Te.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||S(),Pt||(ae(),Pt=!0),C.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(_(u.Da,u),hu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ts(this),uu(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Wt(m,"RID","rpc"),Wt(m,"SID",u.M),Wt(m,"AID",u.K),Wt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Wt(m,"TO",u.ia),Wt(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Ce(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ts(this),wr(this),we(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var v=null;if(u.g==m){ua(u),Cl(u),u.g=null;var T=2}else if(_i(u.h,m))v=m.G,yl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),Ue(T,new ci(T,v)),Si(u)}else ou(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function hu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(T,"https"),_r(T),L?$n(T.toString(),v):Sl(T.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),fu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function du(u,m,v){var T=v instanceof Sn?Ce(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Sn(null);T&&Be(B,T),m&&(B.g=m),L&&ms(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Wt(T,v,m),Wt(T,"VER",u.ka),Ar(u,T),T}function mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ne(new Ei({ab:v})):new ne(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){Jt.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}A(hn,Jt),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Rl(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Si(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,hn.Z.N.call(this)};function gu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(gu,Ge);function yu(){On.call(this),this.status=1}A(yu,On);function qi(u){this.g=u}A(qi,pu),qi.prototype.ra=function(){Ue(this.g,"a")},qi.prototype.qa=function(u){Ue(this.g,new gu(u))},qi.prototype.pa=function(u){Ue(this.g,new yu)},qi.prototype.oa=function(){Ue(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,pE=function(){return new bs},mE=function(){return Wr()},dE=Ee,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Mc=gr,fl.COMPLETE="complete",fE=fl,Xo.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Jt.prototype.listen=Jt.prototype.J,go=Xo,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,hE=ne}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let al="12.3.0";const Kr=new Em("@firebase/firestore");function ja(){return Kr.logLevel}function at(r,...t){if(Kr.logLevel<=kt.DEBUG){const i=t.map(Nm);Kr.debug(`Firestore (${al}): ${r}`,...i)}}function us(r,...t){if(Kr.logLevel<=kt.ERROR){const i=t.map(Nm);Kr.error(`Firestore (${al}): ${r}`,...i)}}function Za(r,...t){if(Kr.logLevel<=kt.WARN){const i=t.map(Nm);Kr.warn(`Firestore (${al}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,gE(r,a,i)}function gE(r,t,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function Zt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||gE(t,o,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class yE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class y2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ir,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ir)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new yE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=b2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return jd(o)===jd(c)?Ut(o,c):jd(o)?1:-1}return Ut(r.length,t.length)}const S2=55296,A2=57343;function jd(r){const t=r.charCodeAt(0);return t>=S2&&t<=A2}function Ja(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const yv="__name__";class Ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ni.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ni.isNumericId(t),o=Ni.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class me extends Ni{construct(t,i,a){return new me(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ni{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return w2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Ze([yv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(me.fromString(t))}static fromName(t){return new mt(me.fromString(t).popFirst(5))}static empty(){return new mt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new me(t.slice()))}}function R2(r,t,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function I2(r,t,i,a){if(t===!0&&a===!0)throw new ht($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!mt.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _E(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Om(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Om(r);throw new ht($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bo(r,t){if(!_E(r))throw new ht($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht($.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bo(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ve("string",he._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new he(0,0))}static max(){return new bt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function C2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new rr(o,mt.empty(),t)}function x2(r){return new rr(r.readTime,r.key,Co)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(bt.min(),mt.empty(),Co)}static max(){return new rr(bt.max(),mt.empty(),Co)}}function N2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ll(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==D2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function M2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Mm=-1;function ch(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function V2(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const vE="";function k2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=U2(r.get(i),t);return Tv(t)}function U2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case vE:i+="";break;default:i+=c}}return i}function Tv(r){return r+vE+""}function bv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function hr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function EE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||$e.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??$e.RED,this.left=o??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new $e(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new $e(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new Dn([])}unionWith(t){let i=new ze(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Dn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new TE("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=L2.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function lr(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const bE="server_timestamp",SE="__type__",AE="__previous_value__",wE="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===bE}function hh(r){const t=r.mapValue.fields[AE];return Vm(t)?hh(t):t}function xo(r){const t=ar(r.mapValue.fields[wE].timestampValue);return new he(t.seconds,t.nanos)}class P2{constructor(t,i,a,o,c,d,g,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Kc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const RE="__type__",z2="__max__",Ac={mapValue:{}},IE="__vector__",Xc="value";function or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:B2(r)?9007199254740991:j2(r)?10:11:_t(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=or(r);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xo(r).isEqual(xo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ar(o.timestampValue),g=ar(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return lr(o.bytesValue).isEqual(lr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ae(o.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ae(o.integerValue)===Ae(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ae(o.doubleValue),g=Ae(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(bv(d)!==bv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Li(d[y],g[y])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Do(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=or(r),a=or(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ae(c.integerValue||c.doubleValue),y=Ae(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return Av(r.timestampValue,t.timestampValue);case 4:return Av(xo(r),xo(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=lr(c),y=lr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=Ut(g[_],y[_]);if(b!==0)return b}return Ut(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ut(Ae(c.latitude),Ae(d.latitude));return g!==0?g:Ut(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Xc]?.arrayValue,b=y[Xc]?.arrayValue,A=Ut(_?.values?.length||0,b?.values?.length||0);return A!==0?A:wv(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const M=em(y[A],b[A]);if(M!==0)return M;const F=Wa(g[y[A]],_[b[A]]);if(F!==0)return F}return Ut(y.length,b.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=ar(r),a=ar(t),o=Ut(i.seconds,a.seconds);return o!==0?o:Ut(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return Ut(i.length,a.length)}function tl(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return lr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function Vc(r){switch(or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return hr(a.fields,((c,d)=>{o+=c.length+Vc(d)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function j2(r){return(r?.mapValue?.fields||{})[RE]?.stringValue===IE}function bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return hr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bo(r.arrayValue.values[i]);return t}return{...r}}function B2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===z2}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bo(i)}setAll(t){let i=Ze.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=bo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){hr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Tn(bo(this.value))}}function CE(r){const t=[];return hr(r.fields,((i,a)=>{const o=new Ze([i]);if(kc(a)){const c=CE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Dn(t)}class an{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,o){return new an(t,1,i,bt.min(),a,o,0)}static newNoDocument(t,i){return new an(t,2,i,bt.min(),bt.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,bt.min(),bt.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Cv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function xv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class xE{}class Pe extends xE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new G2(t,i,a):i==="array-contains"?new Y2(t,a):i==="in"?new K2(t,a):i==="not-in"?new X2(t,a):i==="array-contains-any"?new $2(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new F2(t,a):new Q2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends xE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Pi(t,i)}matches(t){return NE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(r){return r.op==="and"}function DE(r){return H2(r)&&NE(r)}function H2(r){for(const t of r.filters)if(t instanceof Pi)return!1;return!0}function sm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(DE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function OE(r,t){return r instanceof Pe?(function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&Li(a.value,o.value)})(r,t):r instanceof Pi?(function(a,o){return o instanceof Pi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&OE(d,o.filters[g])),!0):!1})(r,t):void _t(19439)}function ME(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(ME).join(" ,")+"}"})(r):"Filter"}class G2 extends Pe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class F2 extends Pe{constructor(t,i){super(t,"in",i),this.keys=VE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Q2 extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=VE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function VE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class Y2 extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Do(i.arrayValue,this.value)}}class K2 extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class X2 extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class $2 extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Do(this.value.arrayValue,a)))}}class Z2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Nv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Z2(r,t,i,a,o,c,d)}function Um(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function Lm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!q2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!OE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!xv(r.startAt,t.startAt)&&xv(r.endAt,t.endAt)}function rm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J2(r,t,i,a,o,c,d,g){return new fh(r,t,i,a,o,c,d,g)}function dh(r){return new fh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function W2(r){return r.collectionGroup!==null}function So(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ze(Ze.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Zc(Ze.keyField(),a))}return t.Ie}function Mi(r){const t=At(r);return t.Ee||(t.Ee=tR(t,So(r))),t.Ee}function tR(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return Lm(Mi(r),Mi(t))&&r.limitType===t.limitType}function kE(r){return`${Um(Mi(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>ME(o))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Mi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of So(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=Cv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,So(a),o)||a.endAt&&!(function(d,g,y){const _=Cv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,So(a),o))})(r,t)}function eR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UE(r){return(t,i)=>{let a=!1;for(const o of So(r)){const c=nR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function nR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Wa(y,_):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return EE(this.inner)}size(){return this.innerSize}}const iR=new pe(mt.comparator);function cs(){return iR}const LE=new pe(mt.comparator);function yo(...r){let t=LE;for(const i of r)t=t.insert(i.key,i);return t}function PE(r){let t=LE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Ao()}function zE(){return Ao()}function Ao(){return new Zr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const sR=new pe(mt.comparator),rR=new ze(mt.comparator);function Lt(...r){let t=rR;for(const i of r)t=t.add(i);return t}const aR=new ze(Ut);function lR(){return aR}function Pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function jE(r){return{integerValue:""+r}}function BE(r,t){return V2(t)?jE(t):Pm(r,t)}class gh{constructor(){this._=void 0}}function oR(r,t,i){return r instanceof Jc?(function(o,c){const d={fields:{[SE]:{stringValue:bE},[wE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vm(c)&&(c=hh(c)),c&&(d.fields[AE]=c),{mapValue:d}})(i,t):r instanceof Oo?HE(r,t):r instanceof Mo?GE(r,t):(function(o,c){const d=qE(o,c),g=Ov(d)+Ov(o.Ae);return im(d)&&im(o.Ae)?jE(g):Pm(o.serializer,g)})(r,t)}function uR(r,t,i){return r instanceof Oo?HE(r,t):r instanceof Mo?GE(r,t):i}function qE(r,t){return r instanceof Vo?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends gh{}class Oo extends gh{constructor(t){super(),this.elements=t}}function HE(r,t){const i=FE(t);for(const a of r.elements)i.some((o=>Li(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mo extends gh{constructor(t){super(),this.elements=t}}function GE(r,t){let i=FE(t);for(const a of r.elements)i=i.filter((o=>!Li(o,a)));return{arrayValue:{values:i}}}class Vo extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return Ae(r.integerValue||r.doubleValue)}function FE(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class cR{constructor(t,i){this.field=t,this.transform=i}}function hR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Oo&&o instanceof Oo||a instanceof Mo&&o instanceof Mo?Ja(a.elements,o.elements,Li):a instanceof Vo&&o instanceof Vo?Li(a.Ae,o.Ae):a instanceof Jc&&o instanceof Jc})(r.transform,t.transform)}class fR{constructor(t,i){this.version=t,this.transformResults=i}}class oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function QE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new zm(r.key,oi.none()):new qo(r.key,r.data,oi.none());{const i=r.data,a=Tn.empty();let o=new ze(Ze.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new fr(r.key,a,new Dn(o.toArray()),oi.none())}}function dR(r,t,i){r instanceof qo?(function(o,c,d){const g=o.value.clone(),y=Vv(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof fr?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(YE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(r,t,i,a){return r instanceof qo?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=c.value.clone(),b=kv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof fr?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=kv(c.fieldTransforms,y,d),b=d.data;return b.setAll(YE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function mR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=qE(a.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>hR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class qo extends yh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fr extends yh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,uR(d,g,i[o]))}return a}function kv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,oR(c,d,t))}return a}class zm extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pR extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&dR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=zE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=QE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class jm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return sR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new jm(t,i,a,o)}}class yR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _R{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function vR(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function KE(r){if(r===void 0)return us("GRPC error has no .code"),$.UNKNOWN;switch(r){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function ER(){return new TextEncoder}const TR=new nr([4294967295,4294967295],0);function Uv(r){const t=ER().encode(r),i=new cE;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,a],0),new nr([o,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(nr.fromNumber(a)));return o.compare(TR)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(bt.min(),o,new pe(Ut),cs(),Lt())}}class Ho{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ho(a,i,Lt(),Lt(),Lt())}}class Lc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class XE{constructor(t,i){this.targetId=t,this.Ce=i}}class $E{constructor(t,i,a=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_t(38017,{changeType:c})}})),new Ho(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bR{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=wc(),this.He=wc(),this.Ye=new pe(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new mt(c.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=lr(a).toUint8Array()}catch(y){if(y instanceof TE)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Bm(d,o,c)}catch(y){return Za(y instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new _h(t,i,this.Ye,this.je,a);return this.je=cs(),this.Je=wc(),this.He=wc(),this.Ye=new pe(Ut),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new pe(mt.comparator)}function zv(){return new pe(mt.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wR={and:"AND",or:"OR"};class RR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function IR(r,t){return Wc(r,t.toTimestamp())}function Vi(r){return Zt(!!r,49232),bt.fromTimestamp((function(i){const a=ar(i);return new he(a.seconds,a.nanos)})(r))}function qm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(o){return new me(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function JE(r){const t=me.fromString(r);return Zt(iT(t),10190,{key:t.toString()}),t}function um(r,t){return qm(r.databaseId,t.path)}function Bd(r,t){const i=JE(t);if(i.get(1)!==r.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(tT(i))}function WE(r,t){return qm(r.databaseId,t)}function CR(r){const t=JE(r);return t.length===4?me.emptyPath():tT(t)}function cm(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tT(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function xR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Zt(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Zt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?$.UNKNOWN:KE(_.code);return new ht(b,_.message||"")})(d);i=new $E(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):bt.min(),g=new Tn({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(o,c,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Lc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?Vi(a.readTime):bt.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new _R(o,c),g=a.targetId;i=new XE(g,d)}}return i}function NR(r,t){let i;if(t instanceof qo)i={update:jv(r,t.key,t.value)};else if(t instanceof zm)i={delete:um(r,t.key)};else if(t instanceof fr)i={update:jv(r,t.key,t.data),updateMask:zR(t.fieldMask)};else{if(!(t instanceof pR))return _t(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:IR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function DR(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Vi(o.updateTime):Vi(c);return d.isEqual(bt.min())&&(d=Vi(c)),new fR(d,o.transformResults||[])})(i,t)))):[]}function OR(r,t){return{documents:[WE(r,t.path)]}}function MR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=WE(r,o);const c=(function(_){if(_.length!==0)return nT(Pi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(M){return{field:qa(M.field),direction:UR(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function VR(r){let t=CR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Zt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=eT(A);return M instanceof Pi&&DE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new Zc(Ha(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,ch(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,F=A.values||[];return new $c(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new $c(F,M)})(i.endAt)),J2(t,o,d,c,g,"F",y,_)}function kR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function eT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Pi.create(i.compositeFilter.filters.map((a=>eT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function UR(r){return SR[r]}function LR(r){return AR[r]}function PR(r){return wR[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Ze.fromServerFormat(r.fieldPath)}function nT(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:LR(i.op),value:i.value}}})(r):r instanceof Pi?(function(i){const a=i.getFilters().map((o=>nT(o)));return a.length===1?a[0]:{compositeFilter:{op:PR(i.op),filters:a}}})(r):_t(54877,{filter:r})}function zR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function iT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zs{constructor(t,i,a,o,c=bt.min(),d=bt.min(),g=Je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class jR{constructor(t){this.yt=t}}function BR(r){const t=VR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class qR{constructor(){this.Cn=new HR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class HR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new ze(me.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new ze(me.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sT=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(sT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const qv="LruGarbageCollector",GR=1048576;function Hv([r,t],[i,a]){const o=Ut(r,i);return o===0?Ut(t,a):o}class FR{constructor(t){this.Ir=t,this.buffer=new ze(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?at(qv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class YR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new FR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),ja()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function KR(r,t){return new YR(r,t)}class XR{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ZR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&wo(a.mutation,o,Dn.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const o=Hr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=cs();const d=Ao(),g=(function(){return Ao()})();return i.forEach(((y,_)=>{const b=a.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof fr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),wo(b.mutation,_,b.mutation.getFieldMask(),he.now())):d.set(_.key,Dn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new $R(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new pe(((d,g)=>d-g)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Dn.empty();b=g.applyToLocalView(_,b),a.set(y,b);const A=(o.get(g.batchId)||Lt()).add(y);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,A=zE();b.forEach((M=>{if(!c.has(M)){const F=QE(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):W2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Hr());let g=Co,y=c;return d.next((_=>X.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{y=y.insert(b,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((b=>({batchId:g,changes:PE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(y=>{const _=(function(A,M){return new fh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let g=yo();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&wo(b.mutation,_,Dn.empty(),he.now()),ph(i,_)&&(g=g.insert(y,_))})),g}))}}class JR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:BR(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),X.resolve()}}class WR{constructor(){this.overlays=new pe(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Hr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new pe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Hr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=Hr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=o)););return X.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new yR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class tI{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Hm{constructor(){this.Qr=new ze(He.$r),this.Ur=new ze(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new me([])),a=new He(i,t),o=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new me([])),a=new He(i,t),o=new He(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class eI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new He(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Ut);return i.forEach((o=>{const c=new He(o,0),d=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new He(new mt(c),0);let g=new ze(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new He(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nI{constructor(t){this.ri=t,this.docs=(function(){return new pe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=cs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=cs();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||N2(x2(b),a)<=0||(o.has(b.key)||ph(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){_t(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new iI(this)}getSize(t){return X.resolve(this.size)}}class iI extends XR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class sI{constructor(t){this.persistence=t,this.si=new Zr((i=>Um(i)),Lm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class rT{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new tI,this.referenceDelegate=t(this),this.Pi=new sI(this),this.indexManager=new qR,this.remoteDocumentCache=(function(o){return new nI(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new jR(i),this.Ii=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new WR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new eI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new rI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class rI extends O2{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Gm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Zr((a=>k2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=KR(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fm(t,i.fromCache,a,o)}}class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Xb()?8:M2(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(ja()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=kt.DEBUG&&at("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ja()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(i))):X.resolve())}ys(t,i){if(Dv(i))return X.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return Dv(i)||o.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ja()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.vs(t,d,i,C2(o,Co)).next((g=>g)))}))}Ds(t,i){let a=new ze(UE(t));return i.forEach(((o,c)=>{ph(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return ja()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",oI=3e8;class uI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new pe(Ut),this.xs=new Zr((c=>Um(c)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function cI(r,t,i,a){return new uI(r,t,i,a)}async function aT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Lt();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function hI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>b.getEntry(y,W))).next((it=>{const J=_.docVersions.get(W);Zt(J!==null,48541),it.version.compareTo(J)<0&&(A.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),b.addEntry(it)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Lt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function lT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function fI(r,t){const i=At(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((b,A)=>{const M=o.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(Je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(A,F),(function(it,J,dt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=oI?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,F,b)&&g.push(i.Pi.updateTargetData(c,F))}));let y=cs(),_=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(dI(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(bt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function dI(r,t,i){let a=Lt(),o=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=cs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):at(Qm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function mI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Zs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=At(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;at(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Gv(r,t,i){const a=At(r);let o=bt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=At(y),M=A.xs.get(b);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,b)})(a,d,Mi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:bt.min(),i?c:Lt()))).next((g=>(gI(a,eR(t),g),{documents:g,Qs:c})))))}function gI(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=lR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yI{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _I{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function fm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const qd="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),g=this.zo(t,i.toUriEncodedString());at(qd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),b=il(_);return this.Jo(t,g,y,a,b).then((A=>(at(qd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Za(qd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=vI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class TI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class bI extends EI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((g,y)=>{const _=new hE;_.setWithCredentials(!0),_.listenOnce(fE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const A=_.getResponseJson();at(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Mc.TIMEOUT:at(sn,`RPC '${t}' ${d} timed out`),y(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const M=_.getStatus();if(at(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const it=(function(dt){const Et=dt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(W.status);y(new ht(it,W.message))}else y(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ht($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(sn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);at(sn,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=pE(),g=mE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");at(sn,`Creating RPC '${t}' stream ${o}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let M=!1,F=!1;const W=new TI({Yo:J=>{F?at(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(M||(at(sn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),M=!0),at(sn,`RPC '${t}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),it=(J,dt,Et)=>{J.listen(dt,(gt=>{try{Et(gt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(A,go.EventType.OPEN,(()=>{F||(at(sn,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),it(A,go.EventType.CLOSE,(()=>{F||(F=!0,at(sn,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(A))})),it(A,go.EventType.ERROR,(J=>{F||(F=!0,Za(sn,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ht($.UNAVAILABLE,"The operation could not be completed")))})),it(A,go.EventType.MESSAGE,(J=>{if(!F){const dt=J.data[0];Zt(!!dt,16349);const Et=dt,gt=Et?.error||Et[0]?.error;if(gt){at(sn,`RPC '${t}' stream ${o} received error:`,gt);const Ft=gt.status;let ae=(function(S){const R=Me[S];if(R!==void 0)return KE(R)})(Ft),Pt=gt.message;ae===void 0&&(ae=$.INTERNAL,Pt="Unknown error status: "+Ft+" with message "+gt.message),F=!0,W.a_(new ht(ae,Pt)),A.close()}else at(sn,`RPC '${t}' stream ${o} received:`,dt),W.u_(dt)}})),it(g,dE.STAT_EVENT,(J=>{J.stat===tm.PROXY?at(sn,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&at(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function vh(r){return new RR(r,!0)}class oT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class uT{constructor(t,i,a,o,c,d,g,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ht($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SI extends uT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Vi(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=rm(y)?{documents:OR(c,y)}:{query:MR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ZE(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=kR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class AI extends uT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=DR(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>NR(this.serializer,a)))};this.q_(i)}}class wI{}class RI extends wI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,om(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class II{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class CI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Jr(this)&&(at(Xr,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Go(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Eh(_)})(this))}))})),this.Ra=new II(a,o)}}async function Eh(r){if(Jr(r))for(const t of r.da)await t(!0)}async function Go(r){for(const t of r.da)await t(!1)}function cT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):ul(i).O_()&&Km(i,t))}function Ym(r,t){const i=At(r),a=ul(i);i.Ia.delete(t),a.O_()&&hT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Jr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ul(r).Y_(t)}function hT(r,t){r.Va.Ue(t),ul(r).Z_(t)}function Xm(r){r.Va=new bR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Ra.ua()}function $m(r){return Jr(r)&&!ul(r).x_()&&r.Ia.size>0}function Jr(r){return At(r).Ea.size===0}function fT(r){r.Va=void 0}async function xI(r){r.Ra.set("Online")}async function NI(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function DI(r,t){fT(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function OI(r,t,i){if(r.Ra.set("Online"),t instanceof $E&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){at(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof XE?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await lT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),hT(c,y);const A=new Zs(b.target,y,_,b.sequenceNumber);Km(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at(Xr,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!ol(t))throw t;r.Ea.add(1),await Go(r),r.Ra.set("Offline"),i||(i=()=>lT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Xr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function dT(r,t){return t().catch((i=>eh(r,i,t)))}async function Th(r){const t=At(r),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;MI(t);)try{const o=await mI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,VI(t,o)}catch(o){await eh(t,o)}mT(t)&&pT(t)}function MI(r){return Jr(r)&&r.Ta.length<10}function VI(r,t){r.Ta.push(t);const i=ur(r);i.O_()&&i.X_&&i.ea(t.mutations)}function mT(r){return Jr(r)&&!ur(r).x_()&&r.Ta.length>0}function pT(r){ur(r).start()}async function kI(r){ur(r).ra()}async function UI(r){const t=ur(r);for(const i of r.Ta)t.ea(i.mutations)}async function LI(r,t,i){const a=r.Ta.shift(),o=jm.from(a,t,i);await dT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Th(r)}async function PI(r,t){t&&ur(r).X_&&await(async function(a,o){if((function(d){return vR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();ur(a).B_(),await dT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Th(a)}})(r,t),mT(r)&&pT(r)}async function Xv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(Xr,"RemoteStore received new credentials");const a=Jr(i);i.Ea.add(3),await Go(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function zI(r,t){const i=At(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Go(i),i.Ra.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new SI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:xI.bind(null,r),t_:NI.bind(null,r),r_:DI.bind(null,r),H_:OI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),fT(r))}))),r.ma}function ur(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new AI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kI.bind(null,r),r_:PI.bind(null,r),ta:UI.bind(null,r),na:LI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Xr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Zm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Zm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(us("AsyncQueue",`${t}: ${r}`),ol(r))return new ht($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new pe(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new nl(t,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class jI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class BI{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Zv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ht($.ABORTED,"Firestore shutting down"))}}function Zv(){return new Zr((r=>kE(r)),mh)}async function gT(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new jI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Jm(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function yT(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qI(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Wm(i)}function HI(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var dm,Jv;(Jv=dm||(dm={})).Ma="default",Jv.Cache="cache";class _T{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class vT{constructor(t){this.key=t}}class ET{constructor(t){this.key=t}}class GI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=UE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const M=o.get(b),F=ph(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==it&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(y||_)&&(g=!0)),J&&(F?(d=d.add(F),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(F,W){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return it(F)-it(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new ET(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new vT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class FI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class QI{constructor(t){this.key=t,this.hu=!1}}class YI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((g=>kE(g)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(mt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(r,t,i=!0){const a=RT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await TT(a,t,i,!0),o}async function XI(r,t){const i=RT(r);await TT(i,t,!0,!1)}async function TT(r,t,i,a){const o=await pI(r.localStore,Mi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await $I(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&cT(r.remoteStore,o),g}async function $I(r,t,i,a,o){r.pu=(A,M,F)=>(async function(it,J,dt,Et){let gt=J.view.ru(dt);gt.Cs&&(gt=await Gv(it.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,gt))));const Ft=Et&&Et.targetChanges.get(J.targetId),ae=Et&&Et.targetMismatches.get(J.targetId)!=null,Pt=J.view.applyChanges(gt,it.isPrimaryClient,Ft,ae);return t0(it,J.targetId,Pt.au),Pt.snapshot})(r,A,M,F);const c=await Gv(r.localStore,t,!0),d=new GI(t,c.Qs),g=d.ru(c.documents),y=Ho.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,y);t0(r,i,_.au);const b=new FI(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function ZI(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ym(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(ll)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function JI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function WI(r,t,i){const a=aC(r);try{const o=await(function(d,g){const y=At(d),_=he.now(),b=g.reduce(((F,W)=>F.add(W.key)),Lt());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=cs(),it=Lt();return y.Ns.getEntries(F,b).next((J=>{W=J,W.forEach(((dt,Et)=>{Et.isValidDocument()||(it=it.add(dt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,W))).next((J=>{A=J;const dt=[];for(const Et of g){const gt=mR(Et,A.get(Et.key).overlayedDocument);gt!=null&&dt.push(new fr(Et.key,gt,CE(gt.value.mapValue),oi.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,dt,g)})).next((J=>{M=J;const dt=J.applyToLocalDocumentSet(A,it);return y.documentOverlayCache.saveOverlays(F,J.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:PE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new pe(Ut)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Fo(a,o.changes),await Th(a.remoteStore)}catch(o){const c=Jm(o,"Failed to persist write");i.reject(c)}}async function bT(r,t){const i=At(r);try{const a=await fI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Zt(d.hu,14607):o.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await Fo(i,a,t)}catch(a){await ll(a)}}function Wv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(g)&&(_=!0)})),_&&Wm(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function tC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new pe(mt.comparator);d=d.insert(c,an.newNoDocument(c,bt.min()));const g=Lt().add(c),y=new _h(bt.min(),new Map,new pe(Ut),d,g);await bT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(ll)}async function eC(r,t){const i=At(r),a=t.batch.batchId;try{const o=await hI(i.localStore,t);AT(i,a,null),ST(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fo(i,o)}catch(o){await ll(o)}}async function nC(r,t,i){const a=At(r);try{const o=await(function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Zt(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);AT(a,t,i),ST(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fo(a,o)}catch(o){await ll(o)}}function ST(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function AT(r,t,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||wT(r,a)}))}function wT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ep(r))}function t0(r,t,i){for(const a of i)a instanceof vT?(r.Ru.addReference(a.key,t),iC(r,a)):a instanceof ET?(at(tp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||wT(r,a.key)):_t(19791,{wu:a})}function iC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(tp,"New document in limbo: "+i),r.Eu.add(a),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(me.fromString(t)),a=r.fu.next();r.Au.set(a,new QI(i)),r.du=r.du.insert(i,a),cT(r.remoteStore,new Zs(Mi(dh(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fo(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Fm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const b=At(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!ol(A))throw A;at(Qm,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=b.Ms.get(M),W=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(M,it)}}})(a.localStore,c))}async function sC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(tp,"User change. New user:",t.toKey());const a=await aT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ht($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fo(i,a.Ls)}}function rC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let o=Lt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function RT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tC.bind(null,t),t.Pu.H_=qI.bind(null,t.eventManager),t.Pu.yu=HI.bind(null,t.eventManager),t}function aC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nC.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return cI(this.persistence,new lI,t.initialUser,this.serializer)}Cu(t){return new rT(Gm.mi,this.serializer)}Du(t){return new yI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class lC extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new QR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new rT((a=>th.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),await zI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BI})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=(function(c){return new bI(c)})(t.databaseInfo);return(function(c,d,g,y){return new RI(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new CI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new _I})())}createSyncEngine(t,i){return(function(o,c,d,g,y,_,b){const A=new YI(o,c,d,g,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Xr,"RemoteStore shutting down."),a.Ea.add(5),await Go(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class IT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):us("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class oC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await aT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await uC(r);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Xv(t.remoteStore,o))),r._onlineComponents=t}async function uC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new nh)}}else at(cr,"Using default OfflineComponentProvider"),await Gd(r,new lC(void 0));return r._offlineComponents}async function CT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await e0(r,new pm))),r._onlineComponents}function cC(r){return CT(r).then((t=>t.syncEngine))}async function gm(r){const t=await CT(r),i=t.eventManager;return i.onListen=KI.bind(null,t.syncEngine),i.onUnlisten=ZI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=XI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=JI.bind(null,t.syncEngine),i}function hC(r,t,i={}){const a=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const b=new IT({next:M=>{b.Nu(),d.enqueueAndForget((()=>yT(c,A)));const F=M.docs.has(g);!F&&M.fromCache?_.reject(new ht($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new _T(dh(g.path),b,{includeMetadataChanges:!0,qa:!0});return gT(c,A)})(await gm(r),r.asyncQueue,t,i,a))),a.promise}function xT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const NT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GR)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class np{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g2;switch(a.type){case"firstParty":return new E2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(at("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function fC(r,t,i,a={}){r=li(r,np);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(A0(`https://${g}`),w0("Firestore",!0)),c.host!==NT&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Fr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=rn.MOCK_USER;else{_=jb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(A)}r._authCredentials=new y2(new yE(_,b))}}class bh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class ke{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bo(i,ke._jsonSchema))return new ke(t,a||null,new mt(me.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ve("string",ke._jsonSchemaVersion),referencePath:Ve("string")};class ko extends bh{constructor(t,i,a){super(t,i,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new mt(t))}withConverter(t){return new ko(this.firestore,t,this._path)}}function Ic(r,t,...i){if(r=on(r),arguments.length===1&&(t=Dm.newId()),R2("doc","path",t),r instanceof np){const a=me.fromString(t,...i);return _v(a),new ke(r,null,new mt(a))}{if(!(r instanceof ke||r instanceof ko))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return _v(a),new ke(r.firestore,r instanceof ko?r.converter:null,new mt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oT(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&at(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;at(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",l0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class $r extends np{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new a0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function dC(r,t){const i=typeof r=="object"?r:x0(),a=typeof r=="string"?r:Kc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Pb("firestore");c&&fC(o,...c)}return o}function ip(r){if(r._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mC(r),r._firestoreClient}function mC(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new P2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,xT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new oC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(Je.fromBase64String(t))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bo(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ve("string",Fn._jsonSchemaVersion),bytes:Ve("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ah{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Bo(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ve("string",ki._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bo(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new ht($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ve("string",Ui._jsonSchemaVersion),vectorValues:Ve("object")};const pC=/^__.*__$/;class gC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new qo(t,this.data,i,this.fieldTransforms)}}class DT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function OT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class sp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(OT(this.Ac)&&pC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class yC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}Cc(t,i,a,o=!1){return new sp({Ac:t,methodName:i,Dc:a,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new yC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function _C(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);ap("Data must be an object, but it was:",d,a);const g=VT(a,d);let y,_;if(c.merge)y=new Dn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=ym(t,A,i);if(!d.contains(M))throw new ht($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);UT(b,M)||b.push(M)}y=new Dn(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new gC(new Tn(g),y,_)}class wh extends Ah{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}class rp extends Ah{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Vo(t.serializer,BE(t.serializer,this.Fc));return new cR(t.path,i)}isEqual(t){return t instanceof rp&&this.Fc===t.Fc}}function vC(r,t,i,a){const o=r.Cc(1,t,i);ap("Data must be an object, but it was:",o,a);const c=[],d=Tn.empty();hr(a,((y,_)=>{const b=lp(t,y,i);_=on(_);const A=o.yc(b);if(_ instanceof wh)c.push(b);else{const M=Rh(_,A);M!=null&&(c.push(b),d.set(b,M))}}));const g=new Dn(c);return new DT(d,g,o.fieldTransforms)}function EC(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[ym(t,a,i)],y=[o];if(c.length%2!=0)throw new ht($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(ym(t,c[M])),y.push(c[M+1]);const _=[],b=Tn.empty();for(let M=g.length-1;M>=0;--M)if(!UT(_,g[M])){const F=g[M];let W=y[M];W=on(W);const it=d.yc(F);if(W instanceof wh)_.push(F);else{const J=Rh(W,it);J!=null&&(_.push(F),b.set(F,J))}}const A=new Dn(_);return new DT(b,A,d.fieldTransforms)}function Rh(r,t){if(kT(r=on(r)))return ap("Unsupported field value:",t,r),VT(r,t);if(r instanceof Ah)return(function(a,o){if(!OT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=Rh(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=on(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return BE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:Wc(o.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:ZE(o.serializer,a._byteString)};if(a instanceof ke){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,g){return{mapValue:{fields:{[RE]:{stringValue:IE},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Pm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Om(a)}`)})(r,t)}function VT(r,t){const i={};return EE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(r,((a,o)=>{const c=Rh(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function kT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof ki||r instanceof Fn||r instanceof ke||r instanceof Ah||r instanceof Ui)}function ap(r,t,i){if(!kT(i)||!_E(i)){const a=Om(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function ym(r,t,i){if((t=on(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return lp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const TC=new RegExp("[~\\*/\\[\\]]");function lp(r,t,i){if(t.search(TC)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ht($.INVALID_ARGUMENT,g+r+y)}function UT(r,t){return r.some((i=>i.isEqual(t)))}class LT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(PT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bC extends LT{data(){return super.data()}}function PT(r,t){return typeof t=="string"?lp(r,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function SC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AC{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return hr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new ki(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=ar(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=me.fromString(t);Zt(iT(a),9688,{name:t});const o=new No(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function wC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends LT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(PT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ve("string",Gr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Pc extends Gr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:RC(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function IC(r){r=li(r,ke);const t=li(r.firestore,$r);return hC(ip(t),r._key).then((i=>jT(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ve("string",Xa._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class zT extends AC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function CC(r,t,i){r=li(r,ke);const a=li(r.firestore,$r),o=wC(r.converter,t);return op(a,[_C(MT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,oi.none())])}function Fd(r,t,i,...a){r=li(r,ke);const o=li(r.firestore,$r),c=MT(o);let d;return d=typeof(t=on(t))=="string"||t instanceof Sh?EC(c,"updateDoc",r._key,t,i,a):vC(c,"updateDoc",r._key,t),op(o,[d.toMutation(r._key,oi.exists(!0))])}function xC(r){return op(li(r.firestore,$r),[new zm(r._key,oi.none())])}function NC(r,...t){r=on(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof ke)d=li(r.firestore,$r),g=dh(r._key.path),c={next:y=>{t[a]&&t[a](jT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=li(r,bh);d=li(y.firestore,$r),g=y._query;const _=new zT(d);c={next:b=>{t[a]&&t[a](new Xa(d,_,y,b))},error:t[a+1],complete:t[a+2]},SC(r._query)}return(function(_,b,A,M){const F=new IT(M),W=new _T(b,F,A);return _.asyncQueue.enqueueAndForget((async()=>gT(await gm(_),W))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>yT(await gm(_),W)))}})(ip(d),g,o,c)}function op(r,t){return(function(a,o){const c=new ir;return a.asyncQueue.enqueueAndForget((async()=>WI(await cC(a),o,c))),c.promise})(ip(r),t)}function jT(r,t,i){const a=i.docs.get(t._key),o=new zT(r);return new Gr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}function DC(r){return new rp("increment",r)}(function(t,i=!0){(function(o){al=o})(sl),$a(new Qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new $r(new _2(a.getProvider("auth-internal")),new T2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(_.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),tr(mv,pv,t),tr(mv,pv,"esm2020")})();const OC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=r=>{const t=MC(r);return t.charAt(0).toUpperCase()+t.slice(1)},BT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),VC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var kC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UC=Gt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>Gt.createElement("svg",{ref:y,...kC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:BT("lucide",o),...!c&&!VC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>Gt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const un=(r,t)=>{const i=Gt.forwardRef(({className:a,...o},c)=>Gt.createElement(UC,{ref:c,iconNode:t,className:BT(`lucide-${OC(u0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=u0(r),i};const LC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PC=un("arrow-right",LC);const zC=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],jC=un("bomb",zC);const BC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qC=un("chevron-down",BC);const HC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GC=un("circle-check-big",HC);const FC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],c0=un("gift",FC);const QC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],h0=un("hash",QC);const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],KC=un("info",YC);const XC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],$C=un("log-in",XC);const ZC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f0=un("log-out",ZC);const JC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WC=un("pen-line",JC);const tx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ex=un("rotate-ccw",tx);const nx=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ix=un("share-2",nx);const sx=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],d0=un("shuffle",sx);const rx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],_m=un("skull",rx);const ax=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m0=un("star",ax);const lx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ox=un("triangle-alert",lx),qT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Ih=qT.apiKey!=="_apiKey",HT=Ih?C0(qT):null,Cc=Ih?m2(HT):null,mo=Ih?dC(HT):null,p0=[" +1 ()"," -1 ()"," +2 ()","",""," 1 ","",""," 3 "," -2 ()"," +3 ()",""],po=["","++","","","","","",""," 20 ","/"],g0=({message:r,onClose:t})=>(Gt.useEffect(()=>{const i=setTimeout(t,3e3);return()=>clearTimeout(i)},[t]),O.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down w-max max-w-[90%] pointer-events-none",children:O.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl border border-slate-600 flex items-center gap-2",children:[O.jsx(KC,{size:18,className:"text-blue-400 shrink-0"}),O.jsx("span",{className:"font-bold text-sm md:text-base",children:r})]})})),ux=({items:r,targetItem:t,isSpinning:i,className:a})=>{const[o,c]=Gt.useState(0);Gt.useEffect(()=>{if(t&&r.length>0){const g=r.indexOf(t);if(g===-1)return;const y=360/r.length,b=3600+(360-(g*y+y/2));c(b)}},[t,r]);const d=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","#ec4899","#6366f1"];return O.jsxs("div",{className:`relative w-80 h-80 md:w-[500px] md:h-[500px] mx-auto ${a}`,children:[O.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-4 z-20 filter drop-shadow-lg",children:O.jsx(qC,{size:60,className:"text-white fill-white stroke-[4px] stroke-slate-900"})}),O.jsx("div",{className:"w-full h-full rounded-full border-8 border-slate-800 shadow-2xl relative overflow-hidden transition-transform duration-[5000ms] cubic-bezier(0.15, 0.85, 0.15, 1)",style:{transform:`rotate(${o}deg)`,background:`conic-gradient(${r.map((g,y)=>`${d[y%d.length]} ${y*(100/r.length)}% ${(y+1)*(100/r.length)}%`).join(", ")})`},children:r.map((g,y)=>{const _=360/r.length*y+360/r.length/2;return O.jsx("div",{className:"absolute top-1/2 left-1/2 w-1/2 h-1 origin-left flex items-center",style:{transform:`rotate(${_-90}deg)`},children:O.jsx("div",{className:"pl-12 text-white font-bold text-sm md:text-xl truncate w-32 md:w-56 text-shadow",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:g})},y)})}),O.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-slate-800 rounded-full border-4 border-slate-600 flex items-center justify-center shadow-xl z-10",children:O.jsx(_m,{className:"text-slate-400",size:32})})]})},y0=Gt.memo(()=>{const r=Gt.useRef(null);return Gt.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.15)",o.forEach(g=>{i.beginPath(),i.arc(g.x,g.y,g.radius,0,Math.PI*2),i.fill(),g.y+=g.speed,g.y>t.height&&(g.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),O.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Qs=({children:r,className:t=""})=>O.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 border border-white/10 text-white ${t}`,children:r}),si=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="lg"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2 select-none",g={sm:"px-4 py-2 text-base",md:"px-6 py-3 text-lg",lg:"px-8 py-4 text-xl"},y={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return O.jsx("button",{onClick:r,disabled:o,className:`${d} ${g[c]} ${y[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},cx=({onFinish:r})=>{const[t,i]=Gt.useState(10);return Gt.useEffect(()=>{if(t<=0){r();return}const a=setTimeout(()=>i(o=>o-1),1e3);return()=>clearTimeout(a)},[t,r]),O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:O.jsxs("div",{className:"text-center animate-pulse",children:[O.jsx("div",{className:"text-yellow-400 text-4xl mb-4 font-bold",children:""}),O.jsx("div",{className:"text-[15rem] font-black text-white leading-none",children:t})]})})},hx=()=>{const[r,t]=Gt.useState(null),[i,a]=Gt.useState(""),[o,c]=Gt.useState(""),[d,g]=Gt.useState(null),[y,_]=Gt.useState(!1),[b,A]=Gt.useState(!0),[M,F]=Gt.useState(null),[W,it]=Gt.useState(""),[J,dt]=Gt.useState(""),[Et,gt]=Gt.useState(""),[Ft,ae]=Gt.useState({}),[Pt,C]=Gt.useState(" ..."),[S,R]=Gt.useState(!1),V=Gt.useRef(!1),N=d?.participantNumbers?.[r?.uid],k=Z=>{F(Z)},w=Gt.useMemo(()=>{const Z=d?.punishments?Object.values(d.punishments):[];return(Z.length===0?[...po]:Z).sort()},[d?.punishments]);if(!Ih)return O.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:O.jsxs("div",{className:"max-w-md",children:[O.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),O.jsx("p",{className:"text-slate-400",children:" (.env)  Config"})]})});Gt.useEffect(()=>{const Z=async()=>{try{await $A(Cc)}catch(st){console.error(":",st)}};if(Cc){Z();const st=nw(Cc,Ot=>{t(Ot),A(!1)});return()=>st()}else A(!1)},[]),Gt.useEffect(()=>{if(r&&!y){const Z=localStorage.getItem("xmas_last_room_id");Z&&a(Z)}},[r]),Gt.useEffect(()=>{if(!r||!i||!mo)return;const Z=Ic(mo,"xmas_rooms",`room_${i}`),st=NC(Z,Ot=>{if(Ot.exists()){const lt=Ot.data();if(g(lt),lt.participants&&lt.participants[r.uid]){if(_(!0),c(lt.participants[r.uid]),lt.phase==="gift-entry"){const yt=lt.gifts?lt.gifts[r.uid]:"";yt&&gt(yt)}if(lt.phase==="rule-entry"){const yt=lt.rules.find($t=>$t.uid===r.uid);yt&&yt.text&&it(yt.text)}if(lt.phase==="punishment-entry"){const yt=lt.punishments?lt.punishments[r.uid]:"";yt&&dt(yt)}}if(lt.isSpinning&&!V.current){V.current=!0,R(!1);const yt=setInterval(()=>{let tn=lt.punishments?Object.values(lt.punishments):po;C(tn[Math.floor(Math.random()*tn.length)])},100),$t=setTimeout(()=>{clearInterval(yt),R(!0)},5e3);return()=>{clearInterval(yt),clearTimeout($t)}}if(lt.finalPunishment&&lt.isSpinning&&!S&&(R(!0),V.current=!0),lt.hostId===r.uid){const yt=Object.keys(lt.participants).length;lt.phase==="gift-entry"&&yt>1&&Object.keys(lt.gifts||{}).length===yt&&x("rule-entry",lt),lt.phase==="rule-entry"&&yt>1&&lt.rules.filter(tn=>tn.text&&tn.text.trim()!=="").length===yt&&x("punishment-entry",lt),lt.phase==="punishment-entry"&&yt>1&&Object.keys(lt.punishments||{}).length===yt&&x("game-playing",lt),lt.phase==="voting"&&yt>1&&Object.keys(lt.votingStatus||{}).length===yt&&x("countdown",lt)}}else g(null)});return()=>st()},[r,i]);const oe=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await iw(Cc),window.location.reload())},ge=async()=>{if(!confirm(""))return;const Z=Ic(mo,"xmas_rooms",`room_${i}`),st={...d.participants};delete st[r.uid],Object.keys(st).length===0?(await xC(Z),k(" ")):await Fd(Z,{participants:st}),localStorage.removeItem("xmas_last_room_id"),window.location.reload()},H=async()=>{const Z=i.toString().trim(),st=o.trim();if(!Z||!st){k("");return}a(Z),c(st);const Ot=Ic(mo,"xmas_rooms",`room_${Z}`);try{const lt=await IC(Ot);if(!lt.exists())await CC(Ot,{hostId:r.uid,phase:"entry",participants:{[r.uid]:st},participantNumbers:{},gifts:{},rules:[],punishments:{},currentRuleIndex:0,votingStatus:{},ratings:{},finalResults:null,finalPunishment:null,isSpinning:!1,createdAt:new Date().toISOString()});else{const yt=lt.data();if(yt.phase!=="entry"&&!yt.participants[r.uid]){k("");return}await Fd(Ot,{[`participants.${r.uid}`]:st})}localStorage.setItem("xmas_last_room_id",Z),_(!0)}catch{k("")}},et=()=>{const Z=` 
${window.location.href}
${i}`,st=document.createElement("textarea");st.value=Z,st.style.position="fixed",st.style.left="-9999px",document.body.appendChild(st),st.focus(),st.select();try{document.execCommand("copy"),k(" ")}catch{k("")}document.body.removeChild(st)},ut=async Z=>{if(!i)return;const st=Ic(mo,"xmas_rooms",`room_${i}`);await Fd(st,Z)},zt=()=>{const Z=p0[Math.floor(Math.random()*p0.length)];it(Z)},Qt=()=>{const Z=po[Math.floor(Math.random()*po.length)];dt(Z)},x=async(Z,st=d)=>{if(!st)return;let Ot={phase:Z};if(Z==="gift-entry"&&st.phase==="entry"){const lt=Object.keys(st.participants),yt=lt.length,$t=Array.from({length:yt},(en,Jt)=>Jt+1);for(let en=$t.length-1;en>0;en--){const Jt=Math.floor(Math.random()*(en+1));[$t[en],$t[Jt]]=[$t[Jt],$t[en]]}const tn={};lt.forEach((en,Jt)=>{tn[en]=$t[Jt]}),Ot.participantNumbers=tn}if(Z==="rule-entry"){const yt=Object.keys(st.participants).map($t=>({uid:$t,authorName:st.participants[$t],text:""}));Ot.rules=yt}if(Z==="game-playing"){const lt=[...st.rules];for(let yt=lt.length-1;yt>0;yt--){const $t=Math.floor(Math.random()*(yt+1));[lt[yt],lt[$t]]=[lt[$t],lt[yt]]}Ot.rules=lt,Ot.currentRuleIndex=0}if(Z==="result-entry"&&(Ot.resultMapping={}),Z==="voting"){const lt={};Object.keys(st.participants).forEach(yt=>{lt[yt]={giftName:"",ratings:{}}}),Ot.matchDetails=lt}if(Z==="result"){const lt=Object.keys(st.participants).map(yt=>{const $t=st.ratings?st.ratings[yt]:{},tn=Object.values($t||{}).reduce((en,Jt)=>en+Jt,0);return{uid:yt,name:st.participants[yt],giftName:st.gifts?st.gifts[yt]:"",totalScore:tn}});Ot.finalResults=lt}await ut(Ot)},Y=async()=>{Et.trim()&&(await ut({[`gifts.${r.uid}`]:Et}),k("..."))},nt=async()=>{if(!W.trim())return;const Z=d.rules.findIndex(Ot=>Ot.uid===r.uid);if(Z===-1)return;const st=[...d.rules];st[Z].text=W,await ut({rules:st}),k("...")},rt=async()=>{J.trim()&&(await ut({[`punishments.${r.uid}`]:J}),k("..."))},vt=async()=>{d.currentRuleIndex<d.rules.length-1?await ut({currentRuleIndex:DC(1)}):x("voting")},wt=(Z,st)=>{ae(Ot=>({...Ot,[Z]:st}))},Dt=async()=>{const Z={[`votingStatus.${r.uid}`]:!0};Object.keys(d.participants).forEach(st=>{if(st===r.uid)return;const Ot=Ft[st]||1;Z[`ratings.${st}.${r.uid}`]=Ot}),await ut(Z),k("...")},ve=async()=>{let Z=Object.values(d.punishments||{});Z.length===0&&(Z=po),Z.sort();const st=Z[Math.floor(Math.random()*Z.length)];await ut({finalPunishment:st,isSpinning:!0})};if(b)return O.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!y)return O.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 flex items-center justify-center relative overflow-hidden",children:[O.jsx(y0,{}),M&&O.jsx(g0,{message:M,onClose:()=>F(null)}),O.jsxs(Qs,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[O.jsx("div",{className:"flex justify-center mb-6",children:O.jsx("div",{className:"p-5 bg-purple-500/20 rounded-full",children:O.jsx(c0,{size:64,className:"text-purple-300"})})}),O.jsx("h1",{className:"text-4xl font-black mb-3 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),O.jsx("p",{className:"text-slate-400 mb-10 text-base uppercase tracking-widest",children:"Party Online"}),O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"text-left",children:[O.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),O.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"",value:o,onChange:Z=>c(Z.target.value)})]}),O.jsxs("div",{className:"text-left",children:[O.jsx("label",{className:"text-sm font-bold text-slate-400 ml-1 mb-2 block",children:""}),O.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800 text-lg",placeholder:"8888",value:i,onChange:Z=>a(Z.target.value)})]}),O.jsxs(si,{onClick:H,size:"lg",className:"w-full mt-6 shadow-purple-900/50 text-xl py-5",children:[O.jsx($C,{size:24})," "]}),O.jsx("div",{className:"pt-8 border-t border-white/5",children:O.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-2 mx-auto text-sm text-slate-500 hover:text-slate-300 transition-colors",children:[O.jsx(ex,{size:14}),"  ()"]})})]})]})]});if(!d)return O.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const Yt=r.uid===d.hostId,We=Object.entries(d.participants).sort((Z,st)=>Z[0].localeCompare(st[0]));return O.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20 overflow-hidden",children:[O.jsx(y0,{}),M&&O.jsx(g0,{message:M,onClose:()=>F(null)}),d.phase==="countdown"&&O.jsx(cx,{onFinish:()=>Yt&&x("result")}),O.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg p-4 flex justify-between items-center gap-4",children:[O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[O.jsxs("div",{className:"bg-purple-600 px-2 py-0.5 rounded text-xs font-bold shadow",children:["Room ",i]}),O.jsxs("div",{className:"flex flex-col",children:[O.jsx("span",{className:"font-bold truncate max-w-[140px] text-slate-200 text-lg leading-none mb-0.5",children:o}),N&&O.jsxs("span",{className:"text-xs text-yellow-400 font-bold flex items-center gap-0.5",children:[O.jsx(h0,{size:10}),"  ",N," "]})]})]}),O.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar mask-gradient",children:We.map(([Z,st])=>O.jsxs("span",{className:`shrink-0 px-2 py-0.5 rounded text-[10px] border flex items-center gap-1 transition-all ${Z===r.uid?"bg-purple-500/20 border-purple-500/50 text-purple-200":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[Z===d.hostId&&O.jsx("span",{className:"text-yellow-400",children:""}),st]},Z))})]}),O.jsxs("button",{onClick:ge,className:"shrink-0 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500/50 p-2 rounded-lg transition-colors flex flex-col items-center justify-center w-14 h-14",title:"",children:[O.jsx(f0,{size:20}),O.jsx("span",{className:"text-[10px] mt-1",children:""})]})]}),O.jsxs("main",{className:`relative z-10 max-w-3xl mx-auto p-4 flex flex-col gap-8 ${d.phase==="punishment-reveal"?"h-screen p-0 m-0 max-w-none":"mt-4"}`,children:[d.phase==="entry"&&O.jsx("div",{className:"animate-fade-in space-y-8",children:O.jsxs(Qs,{className:"text-center py-16 border-t-4 border-t-emerald-500",children:[O.jsx("h2",{className:"text-3xl font-bold mb-3",children:""}),O.jsx("p",{className:"text-slate-400 text-lg mb-10",children:"..."}),O.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-10",children:We.map(([Z,st])=>O.jsx("span",{className:"bg-slate-800 text-slate-200 px-5 py-3 rounded-2xl text-lg font-bold border border-slate-700",children:st},Z))}),O.jsx("div",{className:"mb-8",children:O.jsxs(si,{onClick:et,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40 py-4",children:[O.jsx(ix,{size:22})," "]})}),Yt?O.jsxs(si,{onClick:()=>x("gift-entry"),size:"lg",className:"w-full shadow-emerald-900/50 text-2xl py-6",disabled:We.length<2,children:[" ",O.jsx(PC,{})]}):O.jsx("p",{className:"text-slate-500 animate-pulse text-base",children:"..."})]})}),d.phase==="gift-entry"&&O.jsxs("div",{className:"animate-fade-in space-y-8",children:[N&&O.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/50 p-6 rounded-2xl text-center shadow-lg animate-fade-in-up",children:[O.jsx("p",{className:"text-yellow-200 text-sm mb-1 uppercase tracking-widest",children:"Your Number"}),O.jsxs("div",{className:"text-5xl font-black text-yellow-400 flex items-center justify-center gap-2",children:[O.jsx(h0,{size:40})," ",N]}),O.jsx("p",{className:"text-xs text-yellow-200/70 mt-2",children:""})]}),O.jsxs(Qs,{children:[O.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[O.jsx(c0,{className:"text-pink-400",size:28})," "]}),O.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),O.jsx("div",{className:"mb-6",children:O.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-pink-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[120px]",placeholder:"...",value:Et,onChange:Z=>gt(Z.target.value),disabled:d.gifts&&d.gifts[r.uid]})}),O.jsx(si,{onClick:Y,className:"w-full text-xl py-5",disabled:!Et,children:d.gifts&&d.gifts[r.uid]?"...":""})]}),O.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.gifts||{}).length," / ",We.length]})]}),d.phase==="rule-entry"&&O.jsxs("div",{className:"animate-fade-in space-y-8",children:[O.jsxs(Qs,{children:[O.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[O.jsx(WC,{className:"text-purple-400",size:28})," "]}),O.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),O.jsx("div",{className:"mb-6",children:O.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-purple-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:" +1 ...",value:W,onChange:Z=>it(Z.target.value),disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!==""})}),O.jsx("div",{className:"flex justify-end mb-8",children:O.jsxs("button",{onClick:zt,disabled:d.rules.find(Z=>Z.uid===r.uid)?.text!=="",className:"text-sm text-purple-300 flex items-center gap-2 hover:text-white transition-colors bg-purple-500/10 px-4 py-2 rounded-full border border-purple-500/20",children:[O.jsx(d0,{size:16})," "]})}),O.jsx(si,{onClick:nt,className:"w-full text-xl py-5",disabled:!W,children:d.rules.find(Z=>Z.uid===r.uid)?.text!==""?"...":""})]}),O.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",d.rules.filter(Z=>Z.text).length," / ",We.length]})]}),d.phase==="punishment-entry"&&O.jsxs("div",{className:"animate-fade-in space-y-8",children:[O.jsxs(Qs,{children:[O.jsxs("h2",{className:"text-2xl font-bold text-center mb-2 flex items-center justify-center gap-2",children:[O.jsx(jC,{className:"text-red-500",size:28})," "]}),O.jsx("p",{className:"text-sm text-slate-400 text-center mb-8",children:""}),O.jsx("div",{className:"mb-6",children:O.jsx("textarea",{className:"w-full p-5 bg-slate-800/50 border border-slate-600 rounded-2xl focus:border-red-500 outline-none resize-none text-xl text-white placeholder-slate-600 min-h-[160px]",placeholder:"...",value:J,onChange:Z=>dt(Z.target.value),disabled:d.punishments&&d.punishments[r.uid]})}),O.jsx("div",{className:"flex justify-end mb-8",children:O.jsxs("button",{onClick:Qt,disabled:d.punishments&&d.punishments[r.uid],className:"text-sm text-red-300 flex items-center gap-2 hover:text-white transition-colors bg-red-500/10 px-4 py-2 rounded-full border border-red-500/20",children:[O.jsx(d0,{size:16})," "]})}),O.jsx(si,{onClick:rt,className:"w-full text-xl py-5 bg-red-600 hover:bg-red-500 shadow-red-900/50 border-none",disabled:!J,children:d.punishments&&d.punishments[r.uid]?"...":""})]}),O.jsxs("div",{className:"text-center text-slate-500 text-sm",children:[" ",Object.keys(d.punishments||{}).length," / ",We.length]})]}),d.phase==="game-playing"&&O.jsxs("div",{className:"animate-fade-in py-10 flex flex-col items-center",children:[O.jsxs("div",{className:"text-slate-400 mb-8 text-center w-full",children:[O.jsxs("div",{className:"flex justify-between text-sm mb-3 px-3",children:[O.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),O.jsxs("span",{children:["Total ",d.rules.length]})]}),O.jsx("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:O.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),O.jsxs(Qs,{className:"w-full text-center py-20 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),O.jsx("div",{className:"mb-8",children:O.jsxs("span",{className:"bg-slate-800 text-slate-300 px-5 py-2 rounded-full text-sm font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),O.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white leading-tight drop-shadow-lg px-4",children:d.rules[d.currentRuleIndex].text||""})]}),Yt&&O.jsx("div",{className:"mt-10 w-full",children:O.jsx(si,{onClick:vt,size:"lg",className:"w-full text-2xl py-6",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="voting"&&O.jsx("div",{className:"animate-fade-in space-y-6 pb-24",children:d.votingStatus&&d.votingStatus[r.uid]?O.jsxs(Qs,{className:"text-center py-12 border-t-4 border-t-green-500",children:[O.jsx(GC,{size:64,className:"text-green-400 mx-auto mb-4"}),O.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),O.jsx("p",{className:"text-slate-400",children:"..."}),O.jsxs("div",{className:"mt-6 text-sm text-slate-500",children:["",Object.keys(d.votingStatus||{}).length," / ",We.length]})]}):O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-5 rounded-2xl flex gap-4 items-start mb-6",children:[O.jsx(ox,{className:"text-yellow-500 shrink-0 mt-1",size:24}),O.jsxs("div",{children:[O.jsx("h2",{className:"text-lg font-bold text-yellow-500",children:""}),O.jsxs("p",{className:"text-sm text-yellow-200/70 mt-1",children:["",O.jsx("br",{})," =  (10=)"]})]})]}),We.map(([Z,st])=>{if(Z===r.uid)return null;const Ot=d.gifts?d.gifts[Z]:"",lt=Ft[Z]||1;return O.jsxs(Qs,{className:"p-5 border border-white/5 relative overflow-hidden mb-4",children:[O.jsxs("div",{className:"flex justify-between items-start mb-4",children:[O.jsxs("div",{children:[O.jsxs("div",{className:"text-sm text-slate-400 mb-1",children:[st," "]}),O.jsx("div",{className:"text-xl font-bold text-white",children:Ot})]}),O.jsx("div",{className:"text-4xl font-black text-yellow-400",children:lt})]}),O.jsx("input",{type:"range",min:"1",max:"10",value:lt,onChange:yt=>wt(Z,parseInt(yt.target.value)),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),O.jsxs("div",{className:"flex justify-between text-sm text-slate-400 mt-2 px-1 font-bold",children:[O.jsx("span",{children:"1 ()"}),O.jsx("span",{children:"5 ()"}),O.jsx("span",{children:"10 ()"})]})]},Z)}),O.jsx("div",{className:"h-20"})," ",O.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:O.jsx(si,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400 text-2xl py-6",onClick:Dt,children:" "})})]})}),d.phase==="result"&&O.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[O.jsx("div",{className:"bg-yellow-500/20 text-yellow-300 py-2 text-center text-sm font-bold border-y border-yellow-500/30 animate-pulse",children:" ..."}),O.jsxs("div",{className:"text-center mb-10",children:[O.jsxs("h2",{className:"text-5xl font-black text-yellow-400 drop-shadow-xl mb-3 flex items-center justify-center gap-3",children:[O.jsx(m0,{fill:"currentColor",size:40}),"  ",O.jsx(m0,{fill:"currentColor",size:40})]}),O.jsx("p",{className:"text-slate-400 text-lg",children:""})]}),(d.finalResults||[]).sort((Z,st)=>st.totalScore-Z.totalScore).slice(0,3).map((Z,st)=>O.jsxs("div",{className:`relative rounded-3xl p-6 shadow-xl flex items-center gap-5 border ${st===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[st===0&&O.jsx("div",{className:"absolute -top-4 -right-3 text-5xl animate-bounce",children:""}),O.jsxs("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-white font-bold text-2xl shrink-0 ${st===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":st===1?"bg-slate-500":"bg-amber-700"}`,children:["#",st+1]}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("div",{className:"font-bold text-white text-2xl truncate mb-1",children:Z.name}),O.jsx("div",{className:"text-base text-slate-400 truncate",children:Z.giftName})]}),O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-4xl font-black text-red-500",children:Z.totalScore}),O.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Points"})]})]},Z.uid)),Yt&&O.jsx("div",{className:"mt-12 text-center",children:O.jsx(si,{variant:"danger",size:"lg",onClick:()=>x("punishment-reveal"),className:"w-full max-w-md mx-auto text-2xl py-6 shadow-2xl animate-bounce",children:"  "})})]}),d.phase==="punishment-reveal"&&O.jsxs("div",{className:"animate-fade-in flex flex-col h-[calc(100vh-80px)] overflow-hidden w-full max-w-md mx-auto",children:[(()=>{const Z=(d.finalResults||[]).sort((st,Ot)=>Ot.totalScore-st.totalScore)[0];return Z?O.jsxs("div",{className:"shrink-0 text-center py-4 bg-slate-900/50 border-b border-white/10 relative z-20",children:[O.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-[0.2em] mb-1",children:"The Loser is"}),O.jsxs("div",{className:"flex flex-col items-center gap-1",children:[O.jsx("h2",{className:"text-4xl font-black text-red-500 drop-shadow-[0_0_15px_rgba(239,68,68,0.6)] leading-none",children:Z.name}),O.jsxs("span",{className:"text-sm font-bold text-white bg-red-600 px-3 py-0.5 rounded-full shadow-lg",children:[Z.totalScore," "]})]})]}):null})(),O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0",children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-300 mb-2 flex items-center gap-2 shrink-0",children:[O.jsx(_m,{size:20}),"  ",O.jsx(_m,{size:20})]}),O.jsx("div",{className:"scale-75 md:scale-90 origin-center transition-transform",children:O.jsx(ux,{items:w,targetItem:d.finalPunishment,isSpinning:d.isSpinning})})]}),O.jsxs("div",{className:"shrink-0 p-4 w-full bg-slate-900/80 border-t border-white/10 backdrop-blur-md relative z-30 pb-8",children:[O.jsx("div",{className:"mb-4",children:O.jsx("div",{className:`text-yellow-400 font-black text-2xl md:text-3xl text-center bg-black/40 border-2 ${S?"border-yellow-500/80":"border-slate-700/50"} p-4 rounded-xl shadow-xl leading-tight transition-all`,children:d.isSpinning||!S?Pt:d.finalPunishment})}),O.jsxs("div",{className:"space-y-3",children:[Yt&&!d.finalPunishment&&O.jsx(si,{variant:"neutral",size:"lg",onClick:ve,className:"w-full text-xl py-4 shadow-lg shadow-blue-900/20",disabled:d.isSpinning,children:d.isSpinning?"...":" "}),!Yt&&!d.finalPunishment&&O.jsx("div",{className:"text-center text-slate-500 py-2 text-sm animate-pulse",children:"..."}),d.finalPunishment&&S&&O.jsxs(si,{variant:"secondary",onClick:ge,className:"w-full bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white py-4 animate-fade-in",children:[O.jsx(f0,{size:20})," "]})]})]})]})]}),O.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        @keyframes fade-in-down { from { opacity: 0; transform: translateY(-20px) translateX(-50%); } to { opacity: 1; transform: translateY(0) translateX(-50%); } }
        @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .animate-fade-in-down { animation: fade-in-down 0.5s ease-out forwards; }
        .animate-fade-in-up { animation: fade-in-up 0.4s ease-out forwards; }
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .mask-gradient { mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
      `})]})};xb.createRoot(document.getElementById("root")).render(O.jsx(Gt.StrictMode,{children:O.jsx(hx,{})}));
