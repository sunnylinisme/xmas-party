(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Sd={exports:{}},ho={};var b_;function mA(){if(b_)return ho;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return ho.Fragment=t,ho.jsx=i,ho.jsxs=i,ho}var w_;function gA(){return w_||(w_=1,Sd.exports=mA()),Sd.exports}var B=gA(),bd={exports:{}},Tt={};var R_;function pA(){if(R_)return Tt;R_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function F(x){return x===null||typeof x!="object"?null:(x=O&&x[O]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,tt={};function ft(x,K,it){this.props=x,this.context=K,this.refs=tt,this.updater=it||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},ft.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function mt(x,K,it){this.props=x,this.context=K,this.refs=tt,this.updater=it||W}var Dt=mt.prototype=new Et;Dt.constructor=mt,st(Dt,ft.prototype),Dt.isPureReactComponent=!0;var Wt=Array.isArray;function It(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(x,K,it){var at=it.ref;return{$$typeof:r,type:x,key:K,ref:at!==void 0?at:null,props:it}}function M(x,K){return I(x.type,K,x.props)}function N(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(it){return K[it]})}var w=/\/+/g;function jt(x,K){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):K.toString(36)}function J(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(It,It):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function k(x,K,it,at,_t){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var Pt=!1;if(x===null)Pt=!0;else switch(wt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(x.$$typeof){case r:case t:Pt=!0;break;case A:return Pt=x._init,k(Pt(x._payload),K,it,at,_t)}}if(Pt)return _t=_t(x),Pt=at===""?"."+jt(x,0):at,Wt(_t)?(it="",Pt!=null&&(it=Pt.replace(w,"$&/")+"/"),k(_t,K,it,"",function(sr){return sr})):_t!=null&&(N(_t)&&(_t=M(_t,it+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Pt)),K.push(_t)),1;Pt=0;var Ne=at===""?".":at+":";if(Wt(x))for(var se=0;se<x.length;se++)at=x[se],wt=Ne+jt(at,se),Pt+=k(at,K,it,wt,_t);else if(se=F(x),typeof se=="function")for(x=se.call(x),se=0;!(at=x.next()).done;)at=at.value,wt=Ne+jt(at,se++),Pt+=k(at,K,it,wt,_t);else if(wt==="object"){if(typeof x.then=="function")return k(J(x),K,it,at,_t);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function X(x,K,it){if(x==null)return x;var at=[],_t=0;return k(x,at,"","",function(wt){return K.call(it,wt,_t++)}),at}function nt(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(it){(x._status===0||x._status===-1)&&(x._status=1,x._result=it)},function(it){(x._status===0||x._status===-1)&&(x._status=2,x._result=it)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var gt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Lt={map:X,forEach:function(x,K,it){X(x,function(){K.apply(this,arguments)},it)},count:function(x){var K=0;return X(x,function(){K++}),K},toArray:function(x){return X(x,function(K){return K})||[]},only:function(x){if(!N(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Tt.Activity=b,Tt.Children=Lt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=mt,Tt.StrictMode=a,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(x,K,it){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=st({},x.props),_t=x.key;if(K!=null)for(wt in K.key!==void 0&&(_t=""+K.key),K)!S.call(K,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&K.ref===void 0||(at[wt]=K[wt]);var wt=arguments.length-2;if(wt===1)at.children=it;else if(1<wt){for(var Pt=Array(wt),Ne=0;Ne<wt;Ne++)Pt[Ne]=arguments[Ne+2];at.children=Pt}return I(x.type,_t,at)},Tt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Tt.createElement=function(x,K,it){var at,_t={},wt=null;if(K!=null)for(at in K.key!==void 0&&(wt=""+K.key),K)S.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=K[at]);var Pt=arguments.length-2;if(Pt===1)_t.children=it;else if(1<Pt){for(var Ne=Array(Pt),se=0;se<Pt;se++)Ne[se]=arguments[se+2];_t.children=Ne}if(x&&x.defaultProps)for(at in Pt=x.defaultProps,Pt)_t[at]===void 0&&(_t[at]=Pt[at]);return I(x,wt,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:p,render:x}},Tt.isValidElement=N,Tt.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:nt}},Tt.memo=function(x,K){return{$$typeof:y,type:x,compare:K===void 0?null:K}},Tt.startTransition=function(x){var K=C.T,it={};C.T=it;try{var at=x(),_t=C.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(It,gt)}catch(wt){gt(wt)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(x){return C.H.use(x)},Tt.useActionState=function(x,K,it){return C.H.useActionState(x,K,it)},Tt.useCallback=function(x,K){return C.H.useCallback(x,K)},Tt.useContext=function(x){return C.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,K){return C.H.useDeferredValue(x,K)},Tt.useEffect=function(x,K){return C.H.useEffect(x,K)},Tt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(x,K,it){return C.H.useImperativeHandle(x,K,it)},Tt.useInsertionEffect=function(x,K){return C.H.useInsertionEffect(x,K)},Tt.useLayoutEffect=function(x,K){return C.H.useLayoutEffect(x,K)},Tt.useMemo=function(x,K){return C.H.useMemo(x,K)},Tt.useOptimistic=function(x,K){return C.H.useOptimistic(x,K)},Tt.useReducer=function(x,K,it){return C.H.useReducer(x,K,it)},Tt.useRef=function(x){return C.H.useRef(x)},Tt.useState=function(x){return C.H.useState(x)},Tt.useSyncExternalStore=function(x,K,it){return C.H.useSyncExternalStore(x,K,it)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.1",Tt}var I_;function pm(){return I_||(I_=1,bd.exports=pA()),bd.exports}var Re=pm(),wd={exports:{}},fo={},Rd={exports:{}},Id={};var C_;function yA(){return C_||(C_=1,(function(r){function t(k,X){var nt=k.length;k.push(X);t:for(;0<nt;){var gt=nt-1>>>1,Lt=k[gt];if(0<o(Lt,X))k[gt]=X,k[nt]=Lt,nt=gt;else break t}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var X=k[0],nt=k.pop();if(nt!==X){k[0]=nt;t:for(var gt=0,Lt=k.length,x=Lt>>>1;gt<x;){var K=2*(gt+1)-1,it=k[K],at=K+1,_t=k[at];if(0>o(it,nt))at<Lt&&0>o(_t,it)?(k[gt]=_t,k[at]=nt,gt=at):(k[gt]=it,k[K]=nt,gt=K);else if(at<Lt&&0>o(_t,nt))k[gt]=_t,k[at]=nt,gt=at;else break t}}return X}function o(k,X){var nt=k.sortIndex-X.sortIndex;return nt!==0?nt:k.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,b=null,O=3,F=!1,W=!1,st=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Dt(k){for(var X=i(y);X!==null;){if(X.callback===null)a(y);else if(X.startTime<=k)a(y),X.sortIndex=X.expirationTime,t(v,X);else break;X=i(y)}}function Wt(k){if(st=!1,Dt(k),!W)if(i(v)!==null)W=!0,It||(It=!0,U());else{var X=i(y);X!==null&&J(Wt,X.startTime-k)}}var It=!1,C=-1,S=5,I=-1;function M(){return tt?!0:!(r.unstable_now()-I<S)}function N(){if(tt=!1,It){var k=r.unstable_now();I=k;var X=!0;try{t:{W=!1,st&&(st=!1,Et(C),C=-1),F=!0;var nt=O;try{e:{for(Dt(k),b=i(v);b!==null&&!(b.expirationTime>k&&M());){var gt=b.callback;if(typeof gt=="function"){b.callback=null,O=b.priorityLevel;var Lt=gt(b.expirationTime<=k);if(k=r.unstable_now(),typeof Lt=="function"){b.callback=Lt,Dt(k),X=!0;break e}b===i(v)&&a(v),Dt(k)}else a(v);b=i(v)}if(b!==null)X=!0;else{var x=i(y);x!==null&&J(Wt,x.startTime-k),X=!1}}break t}finally{b=null,O=nt,F=!1}X=void 0}}finally{X?U():It=!1}}}var U;if(typeof mt=="function")U=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,jt=w.port2;w.port1.onmessage=N,U=function(){jt.postMessage(null)}}else U=function(){ft(N,0)};function J(k,X){C=ft(function(){k(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(k){switch(O){case 1:case 2:case 3:var X=3;break;default:X=O}var nt=O;O=X;try{return k()}finally{O=nt}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var nt=O;O=k;try{return X()}finally{O=nt}},r.unstable_scheduleCallback=function(k,X,nt){var gt=r.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?gt+nt:gt):nt=gt,k){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=nt+Lt,k={id:A++,callback:X,priorityLevel:k,startTime:nt,expirationTime:Lt,sortIndex:-1},nt>gt?(k.sortIndex=nt,t(y,k),i(v)===null&&k===i(y)&&(st?(Et(C),C=-1):st=!0,J(Wt,nt-gt))):(k.sortIndex=Lt,t(v,k),W||F||(W=!0,It||(It=!0,U()))),k},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(k){var X=O;return function(){var nt=O;O=X;try{return k.apply(this,arguments)}finally{O=nt}}}})(Id)),Id}var N_;function _A(){return N_||(N_=1,Rd.exports=yA()),Rd.exports}var Cd={exports:{}},Ke={};var D_;function vA(){if(D_)return Ke;D_=1;var r=pm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Ke.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:F}):A==="script"&&a.d.X(v,{crossOrigin:b,integrity:O,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ke.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,y){return v(y)},Ke.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.1",Ke}var x_;function EA(){if(x_)return Cd.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cd.exports=vA(),Cd.exports}var O_;function TA(){if(O_)return fo;O_=1;var r=_A(),t=pm(),i=EA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case Wt:return"Suspense";case It:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:jt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return jt(e(n))}catch{}}return null}var J=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},gt=[],Lt=-1;function x(e){return{current:e}}function K(e){0>Lt||(e.current=gt[Lt],gt[Lt]=null,Lt--)}function it(e,n){Lt++,gt[Lt]=e.current,e.current=n}var at=x(null),_t=x(null),wt=x(null),Pt=x(null);function Ne(e,n){switch(it(wt,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function se(){K(at),K(_t),K(wt)}function sr(e){e.memoizedState!==null&&it(Pt,e);var n=at.current,s=Yy(n,e.type);n!==s&&(it(_t,e),it(at,s))}function Qr(e){_t.current===e&&(K(at),K(_t)),Pt.current===e&&(K(Pt),lo._currentValue=nt)}var Kr,Yr;function Jn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Yr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Yr}var ll=!1;function rr(e,n){if(!e||ll)return"";ll=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{ll=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jn(s):""}function ol(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Jn("Activity");default:return""}}function ul(e){try{var n="",s=null;do n+=ol(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,bh=r.unstable_shouldYield,Go=r.unstable_requestPaint,We=r.unstable_now,ar=r.unstable_getCurrentPriorityLevel,cl=r.unstable_ImmediatePriority,hl=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,wh=r.unstable_LowPriority,Fo=r.unstable_IdlePriority,Qo=r.log,Ko=r.unstable_setDisableYieldValue,Ln=null,Pe=null;function Sn(e){if(typeof Qo=="function"&&Ko(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Xo,Yo=Math.log,Xr=Math.LN2;function Xo(e){return e>>>=0,e===0?32:31-(Yo(e)/Xr|0)|0}var Wn=256,lr=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ti(l):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=l&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=l&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Rh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~Y}l!==0&&ur(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-he(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function fl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-he(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function dl(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $o(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function zn(e,n){var s=X.p;try{return X.p=e,n()}finally{X.p=s}}var jn=Math.random().toString(36).slice(2),_e="__reactFiber$"+jn,Ve="__reactProps$"+jn,ii="__reactContainer$"+jn,Zr="__reactEvents$"+jn,Ch="__reactListeners$"+jn,Jo="__reactHandles$"+jn,Wo="__reactResources$"+jn,si="__reactMarker$"+jn;function $r(e){delete e[_e],delete e[Ve],delete e[Zr],delete e[Ch],delete e[Jo]}function ri(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=e_(e);e!==null;){if(s=e[_e])return s;e=e_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Wo];return n||(n=e[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var ml=new Set,gl={};function li(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(gl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function tu(e){return pe.call(_l,e)?!0:pe.call(yl,e)?!1:pl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function Jr(e,n,s){if(tu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=as(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function nn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?El(e,g,Ue(n)):s!=null?El(e,g,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function eu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function El(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function os(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(J(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||iu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Al(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Sl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function dr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));Wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&hr(l)}break t;case"textarea":nu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var na=!1;function hs(e,n,s){if(na)return e(n,s);na=!0;try{var l=e(n);return l}finally{if(na=!1,(cs!==null||ci!==null)&&($u(),cs&&(n=cs,e=ci,ci=cs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{mr=!1}var hi=null,bl=null,gr=null;function wl(){if(gr)return gr;var e,n=bl,s=n.length,l,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return gr=h.slice(e,1<l?1-l:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function ze(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Mi),fs=b({},Mi,{view:0,detail:0}),Rl=ze(fs),ds,ia,di,sa=b({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,ia=e.screenY-di.screenY):ia=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Il=ze(sa),yr=b({},sa,{dataTransfer:0}),ru=ze(yr),au=b({},fs,{relatedTarget:0}),_r=ze(au),Cl=b({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=ze(Cl),ra=b({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=ze(ra),uu=b({},Mi,{data:0}),mi=ze(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function ms(){return du}var tn=b({},fs,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=ze(tn),gu=b({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(gu),u=b({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),_=b({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),L=b({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(L),et=b({},Mi,{newState:0,oldState:0}),St=ze(et),fe=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var In=Rn&&"TextEvent"in window&&!re,gi=Rn&&(!Ht||re&&8<re&&11>=re),Gn=" ",Fn=!1;function vr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function PT(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function zT(e,n){if(la)return e==="compositionend"||!Ht&&vr(e,n)?(e=wl(),gr=bl=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jT[e.type]:n==="textarea"}function rg(e,n,s,l){cs?ci?ci.push(l):ci=[l]:cs=l,n=sc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Nl=null,Dl=null;function BT(e){By(e,0)}function pu(e){var n=fn(e);if(hr(n))return e}function ag(e,n){if(e==="change")return n}var lg=!1;if(Rn){var Nh;if(Rn){var Dh="oninput"in document;if(!Dh){var og=document.createElement("div");og.setAttribute("oninput","return;"),Dh=typeof og.oninput=="function"}Nh=Dh}else Nh=!1;lg=Nh&&(!document.documentMode||9<document.documentMode)}function ug(){Nl&&(Nl.detachEvent("onpropertychange",cg),Dl=Nl=null)}function cg(e){if(e.propertyName==="value"&&pu(Dl)){var n=[];rg(n,Dl,e,wn(e)),hs(BT,n)}}function qT(e,n,s){e==="focusin"?(ug(),Nl=n,Dl=s,Nl.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Dl)}function GT(e,n){if(e==="click")return pu(n)}function FT(e,n){if(e==="input"||e==="change")return pu(n)}function QT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:QT;function xl(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var s=hg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hg(s)}}function dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var KT=Rn&&"documentMode"in document&&11>=document.documentMode,oa=null,Oh=null,Ol=null,Mh=!1;function gg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||oa==null||oa!==ui(l)||(l=oa,"selectionStart"in l&&xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ol&&xl(Ol,l)||(Ol=l,l=sc(Oh,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=oa)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ua={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Vh={},pg={};Rn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function Tr(e){if(Vh[e])return Vh[e];if(!ua[e])return e;var n=ua[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in pg)return Vh[e]=n[s];return e}var yg=Tr("animationend"),_g=Tr("animationiteration"),vg=Tr("animationstart"),YT=Tr("transitionrun"),XT=Tr("transitionstart"),ZT=Tr("transitioncancel"),Eg=Tr("transitionend"),Tg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function Qn(e,n){Tg.set(e,n),li(n,[e])}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ca=0,kh=0;function _u(){for(var e=ca,n=kh=ca=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ag(s,h,f)}}function vu(e,n,s,l){Cn[ca++]=e,Cn[ca++]=n,Cn[ca++]=s,Cn[ca++]=l,kh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lh(e,n,s,l){return vu(e,n,s,l),Eu(e)}function Ar(e,n){return vu(e,null,null,n),Eu(e)}function Ag(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Eu(e){if(50<to)throw to=0,Kf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function $T(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new $T(e,n,s,l)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Sg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Ph(e)&&(g=1);else if(typeof e=="string")g=nA(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,s,n,h),e.elementType=I,e.lanes=f,e;case st:return Sr(s.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=gn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Wt:return e=gn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case It:return e=gn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case Dt:g=11;break t;case C:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=gn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Sr(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function zh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function bg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=wg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ul(n)},wg.set(e,n),n)}return{value:e,source:n,stack:ul(n)}}var fa=[],da=0,Au=null,Ml=0,Dn=[],xn=0,gs=null,pi=1,yi="";function ki(e,n){fa[da++]=Ml,fa[da++]=Au,Au=e,Ml=n}function Rg(e,n,s){Dn[xn++]=pi,Dn[xn++]=yi,Dn[xn++]=gs,gs=e;var l=pi;e=yi;var h=32-he(l)-1;l&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,pi=1<<32-he(n)+h|s<<h|l,yi=f+e}else pi=1<<f|s<<h|l,yi=e}function Bh(e){e.return!==null&&(ki(e,1),Rg(e,1,0))}function qh(e){for(;e===Au;)Au=fa[--da],fa[da]=null,Ml=fa[--da],fa[da]=null;for(;e===gs;)gs=Dn[--xn],Dn[xn]=null,yi=Dn[--xn],Dn[xn]=null,pi=Dn[--xn],Dn[xn]=null}function Ig(e,n){Dn[xn++]=pi,Dn[xn++]=yi,Dn[xn++]=gs,pi=n.id,yi=n.overflow,gs=e}var je=null,ee=null,kt=!1,ps=null,On=!1,Hh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Nn(n,e)),Hh}function Cg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[_e]=e,n[Ve]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Nt(no[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Fy(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ys(e,!0)}function Ng(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function ma(e){if(e!==je)return!1;if(!kt)return Ng(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||od(e.type,e.memoizedProps)),s=!s),s&&ee&&ys(e),Ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=t_(e)}else n===27?(n=ee,xs(e.type)?(e=dd,dd=null,ee=e):ee=n):ee=je?Vn(e.stateNode.nextSibling):null;return!0}function br(){ee=je=null,kt=!1}function Gh(){var e=ps;return e!==null&&(on===null?on=e:on.push.apply(on,e),ps=null),e}function Vl(e){ps===null?ps=[e]:ps.push(e)}var Fh=x(null),wr=null,Li=null;function _s(e,n,s){it(Fh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Fh.current,K(Fh)}function Qh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Kh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Qh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Qh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&Kh(n,e,s,l),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Dg(wr,e)}function bu(e,n){return wr===null&&Rr(e),Dg(e,n)}function Dg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},WT=r.unstable_scheduleCallback,t1=r.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new JT,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&WT(t1,function(){e.controller.abort()})}var kl=null,Xh=0,pa=0,ya=null;function e1(e,n){if(kl===null){var s=kl=[];Xh=0,pa=Wf(),ya={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xh++,n.then(xg,xg),n}function xg(){if(--Xh===0&&kl!==null){ya!==null&&(ya.status="fulfilled");var e=kl;kl=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Og=k.S;k.S=function(e,n){gy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(e,n),Og!==null&&Og(e,n)};var Ir=x(null);function Zh(){var e=Ir.current;return e!==null?e:te.pooledCache}function wu(e,n){n===null?it(Ir,Ir.current):it(Ir,n.pool)}function Mg(){var e=Zh();return e===null?null:{parent:Te._currentValue,pool:e}}var _a=Error(a(460)),$h=Error(a(474)),Ru=Error(a(542)),Iu={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Nr=n,_a}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,_a):s}}var Nr=null;function kg(){if(Nr===null)throw Error(a(459));var e=Nr;return Nr=null,e}function Lg(e){if(e===_a||e===Ru)throw Error(a(483))}var va=null,Ll=0;function Cu(e){var n=Ll;return Ll+=1,va===null&&(va=[]),Ug(va,e,n)}function Pl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pg(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ui(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,Q){return D===null||D.tag!==6?(D=zh(P,V.mode,Q),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,Q){var ct=P.type;return ct===st?G(V,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Cr(ct)===D.type)?(D=h(D,P.props),Pl(D,P),D.return=V,D):(D=Tu(P.type,P.key,P.props,null,V.mode,Q),Pl(D,P),D.return=V,D)}function z(V,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=jh(P,V.mode,Q),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,Q,ct){return D===null||D.tag!==7?(D=Sr(P,V.mode,Q,ct),D.return=V,D):(D=h(D,P),D.return=V,D)}function Y(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=zh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Tu(D.type,D.key,D.props,null,V.mode,P),Pl(P,D),P.return=V,P;case W:return D=jh(D,V.mode,P),D.return=V,D;case S:return D=Cr(D),Y(V,D,P)}if(J(D)||U(D))return D=Sr(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Y(V,Cu(D),P);if(D.$$typeof===mt)return Y(V,bu(V,D),P);Nu(V,D)}return null}function j(V,D,P,Q){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(V,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ct?R(V,D,P,Q):null;case W:return P.key===ct?z(V,D,P,Q):null;case S:return P=Cr(P),j(V,D,P,Q)}if(J(P)||U(P))return ct!==null?null:G(V,D,P,Q,null);if(typeof P.then=="function")return j(V,D,Cu(P),Q);if(P.$$typeof===mt)return j(V,D,bu(V,P),Q);Nu(V,P)}return null}function H(V,D,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(P)||null,E(D,V,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return V=V.get(Q.key===null?P:Q.key)||null,R(D,V,Q,ct);case W:return V=V.get(Q.key===null?P:Q.key)||null,z(D,V,Q,ct);case S:return Q=Cr(Q),H(V,D,P,Q,ct)}if(J(Q)||U(Q))return V=V.get(P)||null,G(D,V,Q,ct,null);if(typeof Q.then=="function")return H(V,D,P,Cu(Q),ct);if(Q.$$typeof===mt)return H(V,D,P,bu(D,Q),ct);Nu(D,Q)}return null}function lt(V,D,P,Q){for(var ct=null,Bt=null,ot=D,Rt=D=0,Ot=null;ot!==null&&Rt<P.length;Rt++){ot.index>Rt?(Ot=ot,ot=null):Ot=ot.sibling;var qt=j(V,ot,P[Rt],Q);if(qt===null){ot===null&&(ot=Ot);break}e&&ot&&qt.alternate===null&&n(V,ot),D=f(qt,D,Rt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt,ot=Ot}if(Rt===P.length)return s(V,ot),kt&&ki(V,Rt),ct;if(ot===null){for(;Rt<P.length;Rt++)ot=Y(V,P[Rt],Q),ot!==null&&(D=f(ot,D,Rt),Bt===null?ct=ot:Bt.sibling=ot,Bt=ot);return kt&&ki(V,Rt),ct}for(ot=l(ot);Rt<P.length;Rt++)Ot=H(ot,V,Rt,P[Rt],Q),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?Rt:Ot.key),D=f(Ot,D,Rt),Bt===null?ct=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ot.forEach(function(ks){return n(V,ks)}),kt&&ki(V,Rt),ct}function dt(V,D,P,Q){if(P==null)throw Error(a(151));for(var ct=null,Bt=null,ot=D,Rt=D=0,Ot=null,qt=P.next();ot!==null&&!qt.done;Rt++,qt=P.next()){ot.index>Rt?(Ot=ot,ot=null):Ot=ot.sibling;var ks=j(V,ot,qt.value,Q);if(ks===null){ot===null&&(ot=Ot);break}e&&ot&&ks.alternate===null&&n(V,ot),D=f(ks,D,Rt),Bt===null?ct=ks:Bt.sibling=ks,Bt=ks,ot=Ot}if(qt.done)return s(V,ot),kt&&ki(V,Rt),ct;if(ot===null){for(;!qt.done;Rt++,qt=P.next())qt=Y(V,qt.value,Q),qt!==null&&(D=f(qt,D,Rt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt);return kt&&ki(V,Rt),ct}for(ot=l(ot);!qt.done;Rt++,qt=P.next())qt=H(ot,V,Rt,qt.value,Q),qt!==null&&(e&&qt.alternate!==null&&ot.delete(qt.key===null?Rt:qt.key),D=f(qt,D,Rt),Bt===null?ct=qt:Bt.sibling=qt,Bt=qt);return e&&ot.forEach(function(dA){return n(V,dA)}),kt&&ki(V,Rt),ct}function Jt(V,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===st){if(D.tag===7){s(V,D.sibling),Q=h(D,P.props.children),Q.return=V,V=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Cr(ct)===D.type){s(V,D.sibling),Q=h(D,P.props),Pl(Q,P),Q.return=V,V=Q;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===st?(Q=Sr(P.props.children,V.mode,Q,P.key),Q.return=V,V=Q):(Q=Tu(P.type,P.key,P.props,null,V.mode,Q),Pl(Q,P),Q.return=V,V=Q)}return g(V);case W:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),Q=h(D,P.children||[]),Q.return=V,V=Q;break t}else{s(V,D);break}else n(V,D);D=D.sibling}Q=jh(P,V.mode,Q),Q.return=V,V=Q}return g(V);case S:return P=Cr(P),Jt(V,D,P,Q)}if(J(P))return lt(V,D,P,Q);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),dt(V,D,P,Q)}if(typeof P.then=="function")return Jt(V,D,Cu(P),Q);if(P.$$typeof===mt)return Jt(V,D,bu(V,P),Q);Nu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),Q=h(D,P),Q.return=V,V=Q):(s(V,D),Q=zh(P,V.mode,Q),Q.return=V,V=Q),g(V)):s(V,D)}return function(V,D,P,Q){try{Ll=0;var ct=Jt(V,D,P,Q);return va=null,ct}catch(ot){if(ot===_a||ot===Ru)throw ot;var Bt=gn(29,ot,null,V.mode);return Bt.lanes=Q,Bt.return=V,Bt}finally{}}}var Dr=Pg(!0),zg=Pg(!1),vs=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Eu(e),Ag(e,null,s),n}return vu(e,l,n,s),Eu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}function tf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ef=!1;function jl(){if(ef){var e=ya;if(e!==null)throw e}}function Bl(e,n,s,l){ef=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(xt&j)===j:(l&j)===j){j!==0&&j===pa&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,dt=E;j=n;var Jt=s;switch(dt.tag){case 1:if(lt=dt.payload,typeof lt=="function"){Y=lt.call(Jt,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=dt.payload,j=typeof lt=="function"?lt.call(Jt,Y,j):lt,j==null)break t;Y=b({},Y,j);break t;case 2:vs=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=Y):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=Y}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jg(s[e],n)}var Ea=x(null),Du=x(0);function qg(e,n){e=Ki,it(Du,e),it(Ea,n),Ki=e|n.baseLanes}function nf(){it(Du,Ki),it(Ea,Ea.current)}function sf(){Ki=Du.current,K(Ea),K(Du)}var pn=x(null),Mn=null;function As(e){var n=e.alternate;it(de,de.current&1),it(pn,e),Mn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Mn=e)}function rf(e){it(de,de.current),it(pn,e),Mn===null&&(Mn=e)}function Hg(e){e.tag===22?(it(de,de.current),it(pn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){it(de,de.current),it(pn,pn.current)}function yn(e){K(pn),Mn===e&&(Mn=null),K(de)}var de=x(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hd(s)||fd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,bt=null,Zt=null,Ae=null,Ou=!1,Ta=!1,xr=!1,Mu=0,ql=0,Aa=null,i1=0;function ue(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function lf(e,n,s,l,h,f){return zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?Rp:Af,xr=!1,f=s(l,h),xr=!1,Ta&&(f=Fg(n,s,l,h)),Gg(e),f}function Gg(e){k.H=Fl;var n=Zt!==null&&Zt.next!==null;if(zi=0,Ae=Zt=bt=null,Ou=!1,ql=0,Aa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Su(e)&&(Se=!0))}function Fg(e,n,s,l){bt=e;var h=0;do{if(Ta&&(Aa=null),ql=0,Ta=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=Ip,f=n(s,l)}while(Ta);return f}function s1(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),n}function of(){var e=Mu!==0;return Mu=0,e}function uf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function cf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}zi=0,Ae=Zt=bt=null,Ta=!1,ql=Mu=0,Aa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Aa===null&&(Aa=[]),e=Ug(Aa,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?Rp:Af),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===mt)return Be(e)}throw Error(a(438,String(e)))}function hf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Vu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=me();return ff(n,Zt,e)}function ff(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(zi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===pa&&(G=!0);else if((zi&j)===j){z=z.next,j===pa&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,bt.lanes|=j,Rs|=j;Y=z.action,xr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,bt.lanes|=Y,Rs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(Se=!0,G&&(s=ya,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function df(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Qg(e,n,s){var l=bt,h=me(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!mn((Zt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,pf(Xg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Sa(9,{destroy:void 0},Yg.bind(null,l,h,s,n),null),te===null)throw Error(a(349));f||(zi&127)!==0||Kg(l,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Vu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Yg(e,n,s,l){n.value=s,n.getSnapshot=l,Zg(n)&&$g(e)}function Xg(e,n,s){return s(function(){Zg(n)&&$g(e)})}function Zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function $g(e){var n=Ar(e,2);n!==null&&un(n,e,2)}function mf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),xr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function Jg(e,n,s,l){return e.baseState=s,ff(e,Zt,typeof l=="function"?l:ji)}function r1(e,n,s,l,h){if(zu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};k.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Wg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=k.T,g={};k.T=g;try{var E=s(h,l),R=k.S;R!==null&&R(g,E),tp(e,n,E)}catch(z){gf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),k.T=f}}else try{f=s(h,l),tp(e,n,f)}catch(z){gf(e,n,z)}}function tp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ep(e,n,l)},function(l){return gf(e,n,l)}):ep(e,n,s)}function ep(e,n,s){n.status="fulfilled",n.value=s,np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Wg(e,s)))}function gf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==l)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(kt){var s=te.formState;if(s!==null){t:{var l=bt;if(kt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Vn(h.nextSibling),l=h.data==="F!";break t}}ys(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=l,s=Sp.bind(null,bt,l),l.dispatch=s,l=mf(!1),f=Tf.bind(null,bt,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=r1.bind(null,bt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function rp(e){var n=me();return ap(n,Zt,e)}function ap(e,n,s){if(n=ff(e,n,ip)[0],e=ku(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(g){throw g===_a?Ru:g}else l=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Sa(9,{destroy:void 0},a1.bind(null,h,s),null)),[l,f,e]}function a1(e,n){e.action=n}function lp(e){var n=me(),s=Zt;if(s!==null)return ap(n,s,e);me(),n=n.memoizedState,s=me();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Sa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Vu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function op(){return me().memoizedState}function Lu(e,n,s,l){var h=en();bt.flags|=e,h.memoizedState=Sa(1|n,{destroy:void 0},s,l===void 0?null:l)}function Pu(e,n,s,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Zt!==null&&l!==null&&af(l,Zt.memoizedState.deps)?h.memoizedState=Sa(n,f,s,l):(bt.flags|=e,h.memoizedState=Sa(1|n,f,s,l))}function up(e,n){Lu(8390656,8,e,n)}function pf(e,n){Pu(2048,8,e,n)}function l1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Vu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function cp(e){var n=me().memoizedState;return l1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return Pu(4,2,e,n)}function fp(e,n){return Pu(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,s){s=s!=null?s.concat([e]):null,Pu(4,4,dp.bind(null,n,e),s)}function yf(){}function gp(e,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&af(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function pp(e,n){var s=me();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&af(n,l[1]))return l[0];if(l=e(),xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function _f(e,n,s){return s===void 0||(zi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=yy(),bt.lanes|=e,Rs|=e,s)}function yp(e,n,s,l){return mn(s,n)?s:Ea.current!==null?(e=_f(e,s,l),mn(e,n)||(Se=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(xt&261930)===0?(Se=!0,e.memoizedState=s):(e=yy(),bt.lanes|=e,Rs|=e,n)}function _p(e,n,s,l,h){var f=X.p;X.p=f!==0&&8>f?f:8;var g=k.T,E={};k.T=E,Tf(e,!1,n,s);try{var R=h(),z=k.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=n1(R,l);Gl(e,n,G,En(e))}else Gl(e,n,l,En(e))}catch(Y){Gl(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{X.p=f,g!==null&&E.types!==null&&(g.types=E.types),k.T=g}}function o1(){}function vf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,nt,s===null?o1:function(){return Ep(e),s(l)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:nt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),Gl(e,n.next.queue,{},En())}function Ef(){return Be(lo)}function Tp(){return me().memoizedState}function Ap(){return me().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Es(s);var l=Ts(n,e,s);l!==null&&(un(l,n,s),zl(l,n,s)),n={cache:Yh()},e.payload=n;return}n=n.return}}function c1(e,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},zu(e)?bp(n,s):(s=Lh(e,n,s,l),s!==null&&(un(s,e,l),wp(s,n,l)))}function Sp(e,n,s){var l=En();Gl(e,n,s,l)}function Gl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return vu(e,n,h,0),te===null&&_u(),!1}catch{}finally{}if(s=Lh(e,n,h,l),s!==null)return un(s,e,l),wp(s,n,l),!0}return!1}function Tf(e,n,s,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(a(479))}else n=Lh(e,s,l,2),n!==null&&un(n,e,2)}function zu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function bp(e,n){Ta=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function wp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,fl(e,s)}}var Fl={readContext:Be,use:Uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Fl.useEffectEvent=ue;var Rp={readContext:Be,use:Uu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(xr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var h=s(n);if(xr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=c1.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=mf(e);var n=e.queue,s=Sp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:yf,useDeferredValue:function(e,n){var s=en();return _f(s,e,n)},useTransition:function(){var e=mf(!1);return e=_p.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=bt,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(xt&127)!==0||Kg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,up(Xg.bind(null,l,f,e),[e]),l.flags|=2048,Sa(9,{destroy:void 0},Yg.bind(null,l,f,s,n),null),s},useId:function(){var e=en(),n=te.identifierPrefix;if(kt){var s=yi,l=pi;s=(l&~(1<<32-he(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=i1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ef,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:hf,useCacheRefresh:function(){return en().memoizedState=u1.bind(null,bt)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Be,use:Uu,useCallback:gp,useContext:Be,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:ku,useRef:op,useState:function(){return ku(ji)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return yp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=ku(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Ef,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=me();return Jg(s,Zt,e,n)},useMemoCache:hf,useCacheRefresh:Ap};Af.useEffectEvent=cp;var Ip={readContext:Be,use:Uu,useCallback:gp,useContext:Be,useEffect:pf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:df,useRef:op,useState:function(){return df(ji)},useDebugValue:yf,useDeferredValue:function(e,n){var s=me();return Zt===null?_f(s,e,n):yp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=df(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Ef,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var s=me();return Zt!==null?Jg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Ap};Ip.useEffectEvent=cp;function Sf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=En(),h=Es(l);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,l),n!==null&&(un(n,e,l),zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=En(),h=Es(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,l),n!==null&&(un(n,e,l),zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),l=Es(s);l.tag=2,n!=null&&(l.callback=n),n=Ts(e,l,s),n!==null&&(un(n,e,s),zl(n,e,s))}};function Cp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!xl(s,l)||!xl(h,f):!0}function Np(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&bf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Dp(e){yu(e)}function xp(e){console.error(e)}function Op(e){yu(e)}function ju(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Mp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(e,n)},s}function Vp(e){return e=Es(e),e.tag=3,e}function Up(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Mp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mp(n,s,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function h1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Zf(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Zf(e,l,h)),!1}throw Error(a(435,s.tag))}return Zf(e,l,h),Ju(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Hh&&(e=Error(a(422),{cause:l}),Vl(Nn(e,s)))):(l!==Hh&&(n=Error(a(423),{cause:l}),Vl(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=wf(e.stateNode,l,h),tf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),Wl===null?Wl=[f]:Wl.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=wf(s.stateNode,l,e),tf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Vp(h),Up(h,e,s,l),tf(s,h),!1}s=s.return}while(s!==null);return!1}var Rf=Error(a(461)),Se=!1;function qe(e,n,s,l){n.child=e===null?zg(n,null,s,l):Dr(n,e.child,s,l)}function kp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Rr(n),l=lf(e,n,s,g,f,h),E=of(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&E&&Bh(n),n.flags|=1,qe(e,n,l,h),n.child)}function Lp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Pp(e,n,f,l,h)):(e=Tu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(g,l)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Ui(f,l),e.ref=n.ref,e.return=n,n.child=e}function Pp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(xl(f,l)&&e.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Vf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return If(e,n,s,l,h)}function zp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return jp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):nf(),Hg(n);else return l=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(wu(n,f.cachePool),qg(n,f),Ss(),n.memoizedState=null):(e!==null&&wu(n,null),nf(),Ss());return qe(e,n,h,s),n.child}function Ql(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,l,h){var f=Zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&wu(n,null),nf(),Hg(n),e!==null&&ga(e,n,l,!0),n.childLanes=h,null}function Bu(e,n){return n=Hu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,s){return Dr(n,e.child,null,s),e=Bu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function f1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Bu(n,l),n.lanes=536870912,Ql(null,e);if(rf(n),(e=ee)?(e=Wy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Bu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Bp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ga(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(l=te,l!==null&&(g=dl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ar(e,g),un(l,e,g),Rf;Ju(),n=Bp(e,n,s)}else e=f.treeContext,ee=Vn(g.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Ig(n,e),n=Bu(n,l),n.flags|=4096;return n}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,l,h){return Rr(n),s=lf(e,n,s,l,void 0,h),l=of(),e!==null&&!Se?(uf(e,n,h),Bi(e,n,h)):(kt&&l&&Bh(n),n.flags|=1,qe(e,n,s,h),n.child)}function qp(e,n,s,l,h,f){return Rr(n),n.updateQueue=null,s=Fg(n,l,s,h),Gg(e),l=of(),e!==null&&!Se?(uf(e,n,f),Bi(e,n,f)):(kt&&l&&Bh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Hp(e,n,s,l,h){if(Rr(n),n.stateNode===null){var f=ha,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ha,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&bf.enqueueReplaceState(f,f.state,null),Bl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Or(s,E);f.props=R;var z=f.context,G=s.contextType;g=ha,typeof G=="object"&&G!==null&&(g=Be(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Np(n,f,l,g),vs=!1;var j=n.memoizedState;f.state=j,Bl(n,l,f,h),jl(),z=n.memoizedState,E||j!==z||vs?(typeof Y=="function"&&(Sf(n,s,Y,l),z=n.memoizedState),(R=vs||Cp(n,s,R,l,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wh(e,n),g=n.memoizedProps,G=Or(s,g),f.props=G,Y=n.pendingProps,j=f.context,z=s.contextType,R=ha,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Np(n,f,l,R),vs=!1,j=n.memoizedState,f.state=j,Bl(n,l,f,h),jl();var H=n.memoizedState;g!==Y||j!==H||vs||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(Sf(n,s,E,l),H=n.memoizedState),(G=vs||Cp(n,s,G,l,j,H,R)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,qu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Gp(e,n,s,l){return br(),n.flags|=256,qe(e,n,s,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(e){return{baseLanes:e,cachePool:Mg()}}function Df(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Fp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?As(n):Ss(),(e=ee)?(e=Wy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,je=n,ee=null)):e=null,e===null)throw ys(n);return fd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=Hu({mode:"hidden",children:E},h),l=Sr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Nf(s),l.childLanes=Df(e,g,s),n.memoizedState=Cf,Ql(null,l)):(As(n),xf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Of(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=Hu({mode:"visible",children:l.children},h),E=Sr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Dr(n,e.child,null,s),l=n.child,l.memoizedState=Nf(s),l.childLanes=Df(e,g,s),n.memoizedState=Cf,n=Ql(null,l));else if(As(n),fd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Vl({value:l,source:null,stack:null}),n=Of(e,n,s)}else if(Se||ga(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=te,g!==null&&(l=dl(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ar(e,l),un(g,e,l),Rf;hd(E)||Ju(),n=Of(e,n,s)}else hd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=Vn(E.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Ig(n,e),n=xf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=Ui(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ql(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Nf(s):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Df(e,g,s),n.memoizedState=Cf,Ql(e.child,l)):(As(n),s=e.child,e=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Of(e,n,s){return Dr(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Qh(e.return,n,s)}function Mf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(de,g),qe(e,n,l,s),l=kt?Ml:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ui(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ui(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function d1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),_s(n,Te,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fp(e,n,s):(As(n),e=Bi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ga(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(de,de.current),l)break;return null;case 22:return n.lanes=0,zp(e,n,s,n.pendingProps);case 24:_s(n,Te,e.memoizedState.cache)}return Bi(e,n,s)}function Yp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return Se=!1,d1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,kt&&(n.flags&1048576)!==0&&Rg(n,Ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Ph(e)?(l=Or(e,l),n.tag=1,n=Hp(null,n,e,l,s)):(n.tag=0,n=If(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Dt){n.tag=11,n=kp(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=Lp(null,n,e,l,s);break t}}throw n=jt(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Or(l,n.pendingProps),Hp(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Wh(e,n),Bl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,_s(n,Te,l),l!==f.cache&&Kh(n,[Te],s,!0),jl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gp(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Vl(h),n=Gp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Vn(e.firstChild),je=n,kt=!0,ps=null,On=!0,s=zg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(br(),l===h){n=Bi(e,n,s);break t}qe(e,n,l,s)}n=n.child}return n;case 26:return qu(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,l=rc(wt.current).createElement(s),l[_e]=n,l[Ve]=e,He(l,s,e),ve(l),n.stateNode=l):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(l=n.stateNode=n_(n.type,n.pendingProps,wt.current),je=n,On=!0,h=ee,xs(n.type)?(dd=h,ee=Vn(l.firstChild)):ee=h),qe(e,n,n.pendingProps.children,s),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=ee)&&(l=H1(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,je=n,ee=Vn(l.firstChild),On=!1,h=!0):h=!1),h||ys(n)),sr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,od(h,f)?l=null:g!==null&&od(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,s1,null,null,s),lo._currentValue=h),qu(e,n),qe(e,n,l,s),n.child;case 6:return e===null&&kt&&((e=s=ee)&&(s=G1(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,ee=null,e=!0):e=!1),e||ys(n)),null;case 13:return Fp(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Dr(n,null,l,s):qe(e,n,l,s),n.child;case 11:return kp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,_s(n,n.type,l.value),qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Rr(n),h=Be(h),l=l(h),n.flags|=1,qe(e,n,l,s),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,s);case 15:return Pp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return f1(e,n,s);case 22:return zp(e,n,s,n.pendingProps);case 24:return Rr(n),l=Be(Te),e===null?(h=Zh(),h===null&&(h=te,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Jh(n),_s(n,Te,h)):((e.lanes&s)!==0&&(Wh(e,n),Bl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Te,l)):(l=f.cache,_s(n,Te,l),l!==h.cache&&Kh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Uf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Nr=Iu,$h}else e.flags&=-16777217}function Xp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ty())e.flags|=8192;else throw Nr=Iu,$h}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zo():536870912,e.lanes|=n,Ia|=n)}function Kl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function m1(e,n,s){var l=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ma(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),Xp(n,f)):(ne(n),Uf(n,h,null,l,s))):f?f!==e.memoizedState?(qi(n),ne(n),Xp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&qi(n),ne(n),Uf(n,h,e,l,s)),null;case 27:if(Qr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=at.current,ma(n)?Cg(n):(e=n_(h,l,s),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=at.current,ma(n))Cg(n);else{var g=rc(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[_e]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(n)}}return ne(n),Uf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ma(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Fy(e.nodeValue,s)),e||ys(n,!0)}else e=rc(e).createTextNode(l),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ma(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&id(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(K(de),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Kl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Kl(l,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Sg(s,e),s=s.sibling;return it(de,de.current&1|2),kt&&ki(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>Xu&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ne(n),null}else 2*We()-l.renderingStartTime>Xu&&s!==536870912&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,s=de.current,it(de,h?s&1|2:s&1),kt&&ki(n,l.treeForkCount),e):(ne(n),null);case 22:case 23:return yn(n),sf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(Ir),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function g1(e,n){switch(qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),sf(),e!==null&&K(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function Zp(e,n){switch(qh(n),n.tag){case 3:Pi(Te),se();break;case 26:case 27:case 5:Qr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(de);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),sf(),e!==null&&K(Ir);break;case 24:Pi(Te)}}function Yl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function bs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Yt(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Bg(n,s)}catch(l){Yt(e,e.return,l)}}}function Jp(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Xl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Yt(e,n,h)}}function _i(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function Wp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function kf(e,n,s){try{var l=e.stateNode;L1(l,e.type,s,n),l[Ve]=n}catch(h){Yt(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Lf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Pf(e,n,s),e=e.sibling;e!==null;)Pf(e,n,s),e=e.sibling}function Fu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,s),n[_e]=e,n[Ve]=s}catch(f){Yt(e,e.return,f)}}var Hi=!1,be=!1,zf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,ke=null;function p1(e,n){if(e=e.containerInfo,ad=fc,e=mg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(R=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===l&&(R=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},fc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=Or(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Yt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function iy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),l&4&&Yl(5,s);break;case 1:if(Fi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}l&64&&$p(s),l&512&&Xl(s,s.return);break;case 3:if(Fi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Bg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&l&4&&ey(s);case 26:case 5:Fi(e,s),n===null&&l&4&&Wp(s),l&512&&Xl(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),l&4&&ay(e,s);break;case 13:Fi(e,s),l&4&&ly(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=w1.bind(null,s),F1(e,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||be,h=Hi;var f=be;Hi=l,(be=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,be=f}break;case 30:break;default:Fi(e,s)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Gi(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:be||_i(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||_i(s,n);var l=ae,h=rn;xs(s.type)&&(ae=s.stateNode,rn=!1),Gi(e,n,s),so(s.stateNode),ae=l,rn=h;break;case 5:be||_i(s,n);case 6:if(l=ae,h=rn,ae=null,Gi(e,n,s),ae=l,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):$y(ae,s.stateNode));break;case 4:l=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Gi(e,n,s),ae=l,rn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),be||bs(4,s,n),Gi(e,n,s);break;case 1:be||(_i(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jp(s,n,l)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:be=(l=be)||s.memoizedState!==null,Gi(e,n,s),be=l;break;default:Gi(e,n,s)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Yt(n,n.return,s)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Yt(n,n.return,s)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Qu(e,n){var s=y1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=R1.bind(null,e,l);l.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ry(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Kn=null;function oy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),ln(e),l&4&&(bs(3,e,e.return),Yl(3,e),bs(5,e,e.return));break;case 1:an(n,e),ln(e),l&512&&(be||s===null||_i(s,s.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Kn;if(an(n,e),ln(e),l&512&&(be||s===null||_i(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,s),f[_e]=e,ve(f),l=f;break t;case"link":var g=o_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=e,ve(f),l=f}e.stateNode=l}else u_(h,e.type,e.stateNode);else e.stateNode=l_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?u_(h,e.type,e.stateNode):l_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),ln(e),l&512&&(be||s===null||_i(s,s.return)),s!==null&&l&4&&kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),ln(e),l&512&&(be||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(lt){Yt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,kf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(an(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(oc=null,h=Kn,Kn=ac(n.containerInfo),an(n,e),Kn=h,ln(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(lt){Yt(e,e.return,lt)}zf&&(zf=!1,uy(e));break;case 4:l=Kn,Kn=ac(e.stateNode.containerInfo),an(n,e),ln(e),Kn=l;break;case 12:an(n,e),ln(e);break;case 31:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 13:an(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Hi,G=be;if(Hi=z||h,be=G||R,an(n,e),be=G,Hi=z,ln(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Hi||be||Mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Yt(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?Jy(H,!0):Jy(R.stateNode,!1)}catch(lt){Yt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qu(e,s))));break;case 19:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 30:break;case 21:break;default:an(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ty(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Lf(e);Fu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Lf(e);Fu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Lf(e);Pf(e,z,R);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),Mr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),Mr(n);break;case 27:so(n.stateNode);case 26:case 5:_i(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Yl(4,f);break;case 1:if(Qi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jg(R[h],E)}catch(z){Yt(l,l.return,z)}}s&&g&64&&$p(f),Xl(f,f.return);break;case 27:ey(f);case 26:case 5:Qi(h,f,s),s&&l===null&&g&4&&Wp(f),Xl(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&ay(h,f);break;case 13:Qi(h,f,s),s&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Xl(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ul(s))}function Bf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e))}function Yn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,s,l),n=n.sibling}function cy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,l),h&2048&&Yl(9,n);break;case 1:Yn(e,n,s,l);break;case 3:Yn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ul(e)));break;case 12:if(h&2048){Yn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Yn(e,n,s,l);break;case 31:Yn(e,n,s,l);break;case 13:Yn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,l):Zl(e,n):f._visibility&2?Yn(e,n,s,l):(f._visibility|=2,ba(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(g,n);break;case 24:Yn(e,n,s,l),h&2048&&Bf(n.alternate,n);break;default:Yn(e,n,s,l)}}function ba(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,R,h),Yl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ba(f,g,E,R,h):Zl(f,g):(G._visibility|=2,ba(f,g,E,R,h)),h&&z&2048&&jf(g.alternate,g);break;case 24:ba(f,g,E,R,h),h&&z&2048&&Bf(g.alternate,g);break;default:ba(f,g,E,R,h)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Zl(s,l),h&2048&&jf(l.alternate,l);break;case 24:Zl(s,l),h&2048&&Bf(l.alternate,l);break;default:Zl(s,l)}n=n.sibling}}var $l=8192;function wa(e,n,s){if(e.subtreeFlags&$l)for(e=e.child;e!==null;)hy(e,n,s),e=e.sibling}function hy(e,n,s){switch(e.tag){case 26:wa(e,n,s),e.flags&$l&&e.memoizedState!==null&&iA(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,s);break;case 3:case 4:var l=Kn;Kn=ac(e.stateNode.containerInfo),wa(e,n,s),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,wa(e,n,s),$l=l):wa(e,n,s));break;default:wa(e,n,s)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,my(l,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&bs(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Jl(e);break;default:Jl(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,my(l,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function my(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ul(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=e;ke!==null;){l=ke;var h=l.sibling,f=l.return;if(sy(l),l===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var _1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Ct=null,xt=0,Kt=0,_n=null,ws=!1,Ra=!1,qf=!1,Ki=0,ce=0,Rs=0,Vr=0,Hf=0,vn=0,Ia=0,Wl=null,on=null,Gf=!1,Yu=0,gy=0,Xu=1/0,Zu=null,Is=null,xe=0,Cs=null,Ca=null,Yi=0,Ff=0,Qf=null,py=null,to=0,Kf=null;function En(){return(Gt&2)!==0&&xt!==0?xt&-xt:k.T!==null?Wf():$o()}function yy(){if(vn===0)if((xt&536870912)===0||kt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Ns(e,xt,vn,!1)),or(e,s),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(Vr|=s),ce===4&&Ns(e,xt,vn,!1)),vi(e))}function _y(e,n,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=l?A1(e,n):Xf(e,n,!0),f=l;do{if(h===0){Ra&&!l&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!E1(s)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Wl;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,g).flags|=256),g=Xf(E,g,!1),g!==2){if(qf&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Ns(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,vn,!ws);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yu+300-We(),10<h)){if(Ns(l,n,vn,!ws),ei(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=Xy(vy.bind(null,l,s,on,Zu,Gf,n,vn,Vr,Ia,ws,f,"Throttled",-0,0),h);break t}vy(l,s,on,Zu,Gf,n,vn,Vr,Ia,ws,f,null,-0,0)}}break}while(!0);vi(e)}function vy(e,n,s,l,h,f,g,E,R,z,G,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},hy(n,f,Y);var lt=(f&62914560)===f?Yu-We():(f&4194048)===f?gy-We():0;if(lt=sA(Y,lt),lt!==null){Yi=f,e.cancelPendingCommit=lt(Iy.bind(null,e,n,f,s,l,h,g,E,R,G,Y,null,j,H)),Ns(e,f,g,!z);return}}Iy(e,n,f,s,l,h,g,E,R)}function E1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,l){n&=~Hf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&ur(e,s,n)}function $u(){return(Gt&6)===0?(eo(0),!1):!0}function Yf(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,Li=wr=null,cf(e),va=null,Ll=0,e=Ct;for(;e!==null;)Zp(e.alternate,e),e=e.return;Ct=null}}function Na(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,j1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Yf(),te=e,Ct=s=Ui(e.current,null),xt=n,Kt=0,_n=null,ws=!1,Ra=Pn(e,n),qf=!1,Ia=vn=Hf=Vr=Rs=ce=0,on=Wl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=e[h],l&=~f}return Ki=n,_u(),s}function Ey(e,n){bt=null,k.H=Fl,n===_a||n===Ru?(n=kg(),Kt=3):n===$h?(n=kg(),Kt=4):Kt=n===Rf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(ce=1,ju(e,Nn(n,e.current)))}function Ty(){var e=pn.current;return e===null?!0:(xt&4194048)===xt?Mn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Mn:!1}function Ay(){var e=k.H;return k.H=Fl,e===null?Fl:e}function Sy(){var e=k.A;return k.A=_1,e}function Ju(){ce=4,ws||(xt&4194048)!==xt&&pn.current!==null||(Ra=!0),(Rs&134217727)===0&&(Vr&134217727)===0||te===null||Ns(te,xt,vn,!1)}function Xf(e,n,s){var l=Gt;Gt|=2;var h=Ay(),f=Sy();(te!==e||xt!==n)&&(Zu=null,Na(e,n)),n=!1;var g=ce;t:do try{if(Kt!==0&&Ct!==null){var E=Ct,R=_n;switch(Kt){case 8:Yf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var z=Kt;if(Kt=0,_n=null,Da(e,E,R,z),s&&Ra){g=0;break t}break;default:z=Kt,Kt=0,_n=null,Da(e,E,R,z)}}T1(),g=ce;break}catch(G){Ey(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=wr=null,Gt=l,k.H=h,k.A=f,Ct===null&&(te=null,xt=0,_u()),g}function T1(){for(;Ct!==null;)by(Ct)}function A1(e,n){var s=Gt;Gt|=2;var l=Ay(),h=Sy();te!==e||xt!==n?(Zu=null,Xu=We()+500,Na(e,n)):Ra=Pn(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Kt){case 1:Kt=0,_n=null,Da(e,n,f,1);break;case 2:case 9:if(Vg(f)){Kt=0,_n=null,wy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),vi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Vg(f)?(Kt=0,_n=null,wy(n)):(Kt=0,_n=null,Da(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?c_(g):E.stateNode.complete){Kt=0,_n=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,Wu(z)):Ct=null}break e}}Kt=0,_n=null,Da(e,n,f,5);break;case 6:Kt=0,_n=null,Da(e,n,f,6);break;case 8:Yf(),ce=6;break t;default:throw Error(a(462))}}S1();break}catch(G){Ey(e,G)}while(!0);return Li=wr=null,k.H=l,k.A=h,Gt=s,Ct!==null?0:(te=null,xt=0,_u(),ce)}function S1(){for(;Ct!==null&&!bh();)by(Ct)}function by(e){var n=Yp(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?Wu(e):Ct=n}function wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:cf(n);default:Zp(s,n),n=Ct=Sg(n,Ki),n=Yp(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?Wu(e):Ct=n}function Da(e,n,s,l){Li=wr=null,cf(n),va=null,Ll=0;var h=n.return;try{if(h1(e,h,n,s,xt)){ce=1,ju(e,Nn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,ju(e,Nn(s,e.current)),Ct=null;return}n.flags&32768?(kt||l===1?e=!0:Ra||(xt&536870912)!==0?e=!1:(ws=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ry(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,ws);return}e=n.return;var s=m1(n.alternate,n,Ki);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function Ry(e,n){do{var s=g1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function Iy(e,n,s,l,h,f,g,E,R){e.cancelPendingCommit=null;do tc();while(xe!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=kh,Ih(e,s,f,g,E,R),e===te&&(Ct=te=null,xt=0),Ca=n,Cs=e,Yi=s,Ff=f,Qf=h,py=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I1(rs,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,h=X.p,X.p=2,g=Gt,Gt|=4;try{p1(e,n,s)}finally{Gt=g,X.p=h,k.T=l}}xe=1,Cy(),Ny(),Dy()}}function Cy(){if(xe===1){xe=0;var e=Cs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null;var l=X.p;X.p=2;var h=Gt;Gt|=4;try{oy(n,e);var f=ld,g=mg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(R!==null&&xh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,dt=Math.min(R.start,lt),Jt=R.end===void 0?dt:Math.min(R.end,lt);!H.extend&&dt>Jt&&(g=Jt,Jt=dt,dt=g);var V=fg(E,dt),D=fg(E,Jt);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),dt>Jt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}fc=!!ad,ld=ad=null}finally{Gt=h,X.p=l,k.T=s}}e.current=n,xe=2}}function Ny(){if(xe===2){xe=0;var e=Cs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=k.T,k.T=null;var l=X.p;X.p=2;var h=Gt;Gt|=4;try{iy(e,n.alternate,n)}finally{Gt=h,X.p=l,k.T=s}}xe=3}}function Dy(){if(xe===4||xe===3){xe=0,Go();var e=Cs,n=Ca,s=Yi,l=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xe=5:(xe=0,Ca=Cs=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),xi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,h=X.p,X.p=2,k.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{k.T=n,X.p=h}}(Yi&3)!==0&&tc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Kf?to++:(to=0,Kf=e):to=0,eo(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ul(n)))}function tc(){return Cy(),Ny(),Dy(),Oy()}function Oy(){if(xe!==5)return!1;var e=Cs,n=Ff;Ff=0;var s=xi(Yi),l=k.T,h=X.p;try{X.p=32>s?32:s,k.T=null,s=Qf,Qf=null;var f=Cs,g=Yi;if(xe=0,Ca=Cs=null,Yi=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,dy(f.current),cy(f,f.current,g,s),Gt=E,eo(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{X.p=h,k.T=l,xy(e,n)}}function My(e,n,s){n=Nn(s,n),n=wf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(or(e,2),vi(e))}function Yt(e,n,s){if(e.tag===3)My(e,e,s);else for(;n!==null;){if(n.tag===3){My(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Nn(s,e),s=Vp(2),l=Ts(n,s,2),l!==null&&(Up(s,l,n,e),or(l,2),vi(l));break}}n=n.return}}function Zf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new v1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(qf=!0,h.add(s),e=b1.bind(null,e,n,s),n.then(e,e))}function b1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(xt&s)===s&&(ce===4||ce===3&&(xt&62914560)===xt&&300>We()-Yu?(Gt&2)===0&&Na(e,0):Hf|=s,Ia===xt&&(Ia=0)),vi(e)}function Vy(e,n){n===0&&(n=Zo()),e=Ar(e,n),e!==null&&(or(e,n),vi(e))}function w1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Vy(e,s)}function R1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Vy(e,s)}function I1(e,n){return De(e,n)}var ec=null,xa=null,$f=!1,nc=!1,Jf=!1,Ds=0;function vi(e){e!==xa&&e.next===null&&(xa===null?ec=xa=e:xa=xa.next=e),nc=!0,$f||($f=!0,N1())}function eo(e,n){if(!Jf&&nc){Jf=!0;do for(var s=!1,l=ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Py(l,f))}else f=xt,f=ei(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(s=!0,Py(l,f));l=l.next}while(s);Jf=!1}}function C1(){Uy()}function Uy(){nc=$f=!1;var e=0;Ds!==0&&z1()&&(e=Ds);for(var n=We(),s=null,l=ec;l!==null;){var h=l.next,f=ky(l,n);f===0?(l.next=null,s===null?ec=h:s.next=h,h===null&&(xa=s)):(s=l,(e!==0||(f&3)!==0)&&(nc=!0)),l=h}xe!==0&&xe!==5||eo(e),Ds!==0&&(Ds=0)}function ky(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Rh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=xt,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ss(l),xi(s)){case 2:case 8:s=hl;break;case 32:s=rs;break;case 268435456:s=Fo;break;default:s=rs}return l=Ly.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ss(l),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var l=xt;return l=ei(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_y(e,l,n),ky(e,We()),e.callbackNode!=null&&e.callbackNode===s?Ly.bind(null,e):null)}function Py(e,n){if(tc())return null;_y(e,n,!0)}function N1(){B1(function(){(Gt&6)!==0?De(cl,C1):Uy()})}function Wf(){if(Ds===0){var e=pa;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function D1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=zy((h[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var R=g?jy(h,g):new FormData(h);vf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?jy(h,g):new FormData(h),vf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],x1=ed.toLowerCase(),O1=ed[0].toUpperCase()+ed.slice(1);Qn(x1,"on"+O1)}Qn(yg,"onAnimationEnd"),Qn(_g,"onAnimationIteration"),Qn(vg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(YT,"onTransitionRun"),Qn(XT,"onTransitionStart"),Qn(ZT,"onTransitionCancel"),Qn(Eg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function By(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){yu(G)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){yu(G)}h.currentTarget=null,f=R}}}}function Nt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var l=e+"__bubble";s.has(l)||(qy(n,e,2,!1),s.add(l))}function nd(e,n,s){var l=0;n&&(l|=4),qy(s,e,l,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[ic]){e[ic]=!0,ml.forEach(function(s){s!=="selectionchange"&&(M1.has(s)||nd(s,!1,e),nd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,nd("selectionchange",!1,n))}}function qy(e,n,s,l){switch(y_(n)){case 2:var h=lA;break;case 8:h=oA;break;default:h=_d}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function sd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}hs(function(){var z=f,G=wn(s),Y=[];t:{var j=Tg.get(e);if(j!==void 0){var H=fi,lt=e;switch(e){case"keypress":if(pr(s)===0)break t;case"keydown":case"keyup":H=mu;break;case"focusin":lt="focus",H=_r;break;case"focusout":lt="blur",H=_r;break;case"beforeblur":case"afterblur":H=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case yg:case _g:case vg:H=lu;break;case Eg:H=T;break;case"scroll":case"scrollend":H=Rl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=St}var dt=(n&4)!==0,Jt=!dt&&(e==="scroll"||e==="scrollend"),V=dt?j!==null?j+"Capture":null:j;dt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||V===null||(Q=qn(D,V),Q!=null&&dt.push(io(D,Q,P))),Jt)break;D=D.return}0<dt.length&&(j=new H(j,lt,null,s,G),Y.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Sl&&(lt=s.relatedTarget||s.fromElement)&&(ri(lt)||lt[ii]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=z,lt=lt?ri(lt):null,lt!==null&&(Jt=c(lt),dt=lt.tag,lt!==Jt||dt!==5&&dt!==27&&dt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(dt=Il,Q="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,Q="onPointerLeave",V="onPointerEnter",D="pointer"),Jt=H==null?j:fn(H),P=lt==null?j:fn(lt),j=new dt(Q,D+"leave",H,s,G),j.target=Jt,j.relatedTarget=P,Q=null,ri(G)===z&&(dt=new dt(V,D+"enter",lt,s,G),dt.target=P,dt.relatedTarget=Jt,Q=dt),Jt=Q,H&&lt)e:{for(dt=V1,V=H,D=lt,P=0,Q=V;Q;Q=dt(Q))P++;Q=0;for(var ct=D;ct;ct=dt(ct))Q++;for(;0<P-Q;)V=dt(V),P--;for(;0<Q-P;)D=dt(D),Q--;for(;P--;){if(V===D||D!==null&&V===D.alternate){dt=V;break e}V=dt(V),D=dt(D)}dt=null}else dt=null;H!==null&&Hy(Y,j,H,dt,!1),lt!==null&&Jt!==null&&Hy(Y,Jt,lt,dt,!0)}}t:{if(j=z?fn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=ag;else if(sg(j))if(lg)Bt=FT;else{Bt=HT;var ot=qT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ta(z.elementType)&&(Bt=ag):Bt=GT;if(Bt&&(Bt=Bt(e,z))){rg(Y,Bt,s,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&El(j,"number",j.value)}switch(ot=z?fn(z):window,e){case"focusin":(sg(ot)||ot.contentEditable==="true")&&(oa=ot,Oh=z,Ol=null);break;case"focusout":Ol=Oh=oa=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,gg(Y,s,G);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":gg(Y,s,G)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else la?vr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(gi&&s.locale!=="ko"&&(la||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&la&&(Rt=wl()):(hi=G,bl="value"in hi?hi.value:hi.textContent,la=!0)),ot=sc(z,Ot),0<ot.length&&(Ot=new mi(Ot,e,null,s,G),Y.push({event:Ot,listeners:ot}),Rt?Ot.data=Rt:(Rt=aa(s),Rt!==null&&(Ot.data=Rt)))),(Rt=In?PT(e,s):zT(e,s))&&(Ot=sc(z,"onBeforeInput"),0<Ot.length&&(ot=new mi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ot,listeners:Ot}),ot.data=Rt)),D1(Y,e,z,s,G)}By(Y,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&l.unshift(io(e,h,f)),h=qn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function V1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=qn(s,f),z!=null&&g.unshift(io(s,z,R))):h||(z=qn(s,f),z!=null&&g.push(io(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var U1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(k1,"")}function Fy(e,n){return n=Gy(n),Gy(e)===n}function $t(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,l);break;case"style":Al(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ea(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ea(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Jr(e,"popover",l);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,Jr(e,s,l))}}function rd(e,n,s,l,h,f){switch(s){case"style":Al(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Jr(e,s,l)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),l&&$t(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,l,G,s,null)}}eu(e,f,E,R,z,g,h,!1);return;case"select":Nt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?ls(e,!!l,n,!1):s!=null&&ls(e,!!l,s,!0);return;case"textarea":Nt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,g,E,s,null)}os(e,l,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,n,R,l,s,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)Nt(no[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,l,s,null)}return;default:if(ta(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&rd(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(e,n,E,l,s,null))}function L1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(H)||$t(e,n,H,null,l,Y)}}for(var j in l){var H=l[j];if(Y=s[j],l.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&$t(e,n,j,H,l,Y)}}Wr(e,g,E,R,z,G,f,h);return;case"select":H=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||$t(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&$t(e,n,h,f,l,R)}n=E,s=g,l=H,j!=null?ls(e,!!s,j,!1):!!l!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,g,h,l,f)}nu(e,j,H);return;case"option":for(var lt in s)if(j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:$t(e,n,lt,null,l,j)}for(R in l)if(j=l[R],H=s[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(e,n,R,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&$t(e,n,dt,null,l,j);for(z in l)if(j=l[z],H=s[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,l,H)}return;default:if(ta(n)){for(var Jt in s)j=s[Jt],s.hasOwnProperty(Jt)&&j!==void 0&&!l.hasOwnProperty(Jt)&&rd(e,n,Jt,void 0,l,j);for(G in l)j=l[G],H=s[G],!l.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||rd(e,n,G,j,l,H);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!l.hasOwnProperty(V)&&$t(e,n,V,null,l,j);for(Y in l)j=l[Y],H=s[Y],!l.hasOwnProperty(Y)||j===H||j==null&&H==null||$t(e,n,Y,j,l,H)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Qy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Qy(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ad=null,ld=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function od(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function z1(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(q1)}:Xy;function q1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function $y(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ua(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")so(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,so(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&so(e.ownerDocument.body);s=h}while(s);Ua(n)}function Jy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function G1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function Wy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var dd=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function so(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var Un=new Map,i_=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=X.d;X.d={f:Q1,r:K1,D:Y1,C:X1,L:Z1,m:$1,X:W1,S:J1,M:tA};function Q1(){var e=Xi.f(),n=$u();return e||n}function K1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):Xi.r(e)}var Oa=typeof document>"u"?null:document;function s_(e,n,s){var l=Oa;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",e),ve(n),l.head.appendChild(n)))}}function Y1(e){Xi.D(e),s_("dns-prefetch",e,null)}function X1(e,n){Xi.C(e,n),s_("preconnect",e,n)}function Z1(e,n,s){Xi.L(e,n,s);var l=Oa;if(l&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Ma(e);break;case"script":f=Va(e)}Un.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ro(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),He(n,"link",e),ve(n),l.head.appendChild(n)))}}function $1(e,n){Xi.m(e,n);var s=Oa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!Un.has(f)&&(e=b({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),He(l,"link",e),ve(l),s.head.appendChild(l)}}}function J1(e,n,s){Xi.S(e,n,s);var l=Oa;if(l&&e){var h=ai(l).hoistableStyles,f=Ma(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ro(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&md(e,s);var R=g=l.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function W1(e,n){Xi.X(e,n);var s=Oa;if(s&&e){var l=ai(s).hoistableScripts,h=Va(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0},n),(n=Un.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function tA(e,n){Xi.M(e,n);var s=Oa;if(s&&e){var l=ai(s).hoistableScripts,h=Va(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&gd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function r_(e,n,s,l){var h=(h=wt.current)?ac(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ma(s.href),s=ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ma(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ro(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||eA(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Va(e){return'[src="'+nn(e)+'"]'}function ao(e){return"script[async]"+e}function l_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,ve(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),He(l,"style",h),lc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ma(s.href);var f=e.querySelector(ro(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=a_(s),(h=Un.get(h))&&md(l,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",l),n.state.loading|=4,lc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,ve(h),h):(l=s,(h=Un.get(f))&&(l=b({},s),gd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,lc(l,s.precedence,e));return n.instance}function lc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function o_(e,n,s){if(oc===null){var l=new Map,h=oc=new Map;h.set(s,l)}else h=oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function u_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function nA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ma(l.href),f=n.querySelector(ro(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,l=a_(l),(h=Un.get(h))&&md(l,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=uc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function sA(e,n){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&pd===0&&(pd=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>pd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(rA,e),cc=null,uc.call(e))}function rA(e,n){if(!(n.state.loading&4)){var s=cc.get(e);if(s)var l=s.get(null);else{s=new Map,cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:mt,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function aA(e,n,s,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function h_(e,n,s,l,h,f,g,E,R,z,G,Y){return e=new aA(e,n,s,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Yh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Jh(f),e}function f_(e){return e?(e=ha,e):ha}function d_(e,n,s,l,h,f){h=f_(h),l.context===null?l.context=h:l.pendingContext=h,l=Es(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ts(e,l,n),s!==null&&(un(s,e,n),zl(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function yd(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&un(n,e,67108864),yd(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=En();n=cr(n);var s=Ar(e,n);s!==null&&un(s,e,n),yd(e,n)}}var fc=!0;function lA(e,n,s,l){var h=k.T;k.T=null;var f=X.p;try{X.p=2,_d(e,n,s,l)}finally{X.p=f,k.T=h}}function oA(e,n,s,l){var h=k.T;k.T=null;var f=X.p;try{X.p=8,_d(e,n,s,l)}finally{X.p=f,k.T=h}}function _d(e,n,s,l){if(fc){var h=vd(l);if(h===null)sd(e,n,l,dc,s),__(e,l);else if(cA(h,e,n,s,l))l.stopPropagation();else if(__(e,l),n&4&&-1<uA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}vi(f),(Gt&6)===0&&(Xu=We()+500,eo(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&un(E,f,2),$u(),yd(f,2)}if(f=vd(l),f===null&&sd(e,n,l,dc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else sd(e,n,l,null,s)}}function vd(e){return e=wn(e),Ed(e)}var dc=null;function Ed(e){if(dc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case cl:return 2;case hl:return 8;case rs:case wh:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var Td=!1,Os=null,Ms=null,Vs=null,oo=new Map,uo=new Map,Us=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cA(e,n,s,l,h){switch(n){case"focusin":return Os=co(Os,e,n,s,l,h),!0;case"dragenter":return Ms=co(Ms,e,n,s,l,h),!0;case"mouseover":return Vs=co(Vs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,s,l,h)),!0}return!1}function v_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){p_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=vd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Sl=l,s.target.dispatchEvent(l),Sl=null}else return n=bn(s),n!==null&&g_(n),e.blockedOn=s,!1;n.shift()}return!0}function E_(e,n,s){mc(e)&&s.delete(n)}function hA(){Td=!1,Os!==null&&mc(Os)&&(Os=null),Ms!==null&&mc(Ms)&&(Ms=null),Vs!==null&&mc(Vs)&&(Vs=null),oo.forEach(E_),uo.forEach(E_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var pc=null;function T_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ed(l||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ua(e){function n(R){return gc(R,e)}Os!==null&&gc(Os,e),Ms!==null&&gc(Ms,e),Vs!==null&&gc(Vs,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ve]||null;if(typeof f=="function")g||T_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ed(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),T_(s)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}yc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=En();d_(s,l,e,n,null,null)},yc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),$u(),n[ii]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=$o();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&v_(e)}};var S_=t.version;if(S_!=="19.2.1")throw Error(a(527,S_,"19.2.1"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Ln=_c.inject(fA),Pe=_c}catch{}}return fo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Dp,f=xp,g=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,s,l,null,h,f,g,A_),e[ii]=n.current,id(e),new Ad(n)},fo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Dp,g=xp,E=Op,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=h_(e,1,!0,n,s??null,l,h,R,f,g,E,A_),n.context=f_(null),s=n.current,l=En(),l=cr(l),h=Es(l),h.callback=null,Ts(s,h,l),s=l,n.current.lanes=s,or(n,s),vi(n),e[ii]=n.current,id(e),new yc(n)},fo.version="19.2.1",fo}var M_;function AA(){if(M_)return wd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wd.exports=TA(),wd.exports}var SA=AA();const bA=()=>{};var V_={};const c0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},wA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,F=y&63;v||(F=64,d||(O=64)),a.push(i[A],i[b],i[O],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(c0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new RA;const O=c<<2|p>>4;if(a.push(O),y!==64){const F=p<<4&240|y>>2;if(a.push(F),b!==64){const W=y<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(r){const t=c0(r);return h0.encodeByteArray(t,!0)},Uc=function(r){return IA(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&f0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return bA()||NA()||DA()||xA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>th()?.emulatorHosts?.[r],OA=r=>{const t=d0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},m0=()=>th()?.config,g0=r=>th()?.[`_${r}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(r){return(await fetch(r,{credentials:"include"})).ok}function VA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const _o={};function UA(){const r={prod:[],emulator:[]};for(const t of Object.keys(_o))_o[t]?r.emulator.push(t):r.prod.push(t);return r}function kA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let U_=!1;function y0(r,t){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||_o[r]===t||_o[r]||U_)return;_o[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=UA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{U_=!0,d()},O}function A(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=kA(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const mt=O.element;p(mt),A(tt,st);const Dt=y();v(Et,ft),mt.append(Et,W,tt,Dt),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function PA(){const r=th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function HA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const QA="FirebaseError";class is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=QA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?KA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new is(o,p,a)}}function KA(r,t){return r.replace(YA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const YA=/\{\$([^}]+)}/g;function XA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(k_(c)&&k_(d)){if(!zr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function k_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZA(r,t){const i=new $A(r,t);return i.subscribe.bind(i)}class $A{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Nd),o.error===void 0&&(o.error=Nd),o.complete===void 0&&(o.complete=Nd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Nd(){}function Je(r){return r&&r._delegate?r._delegate:r}class jr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class WA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new MA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(r){return r===kr?void 0:r}function eS(r){return r.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const iS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},sS=Mt.INFO,rS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},aS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=rS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ym{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const lS=(r,t)=>t.some(i=>r instanceof i);let L_,P_;function oS(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,Gd=new WeakMap,v0=new WeakMap,Dd=new WeakMap,_m=new WeakMap;function cS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_0.set(i,r)}).catch(()=>{}),_m.set(t,r),t}function hS(r){if(Gd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Gd.set(r,t)}let Fd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||v0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fS(r){Fd=r(Fd)}function dS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(xd(this),t,...i);return v0.set(a,t.sort?t.sort():[t]),Hs(a)}:uS().includes(r)?function(...t){return r.apply(xd(this),t),Hs(_0.get(this))}:function(...t){return Hs(r.apply(xd(this),t))}}function mS(r){return typeof r=="function"?dS(r):(r instanceof IDBTransaction&&hS(r),lS(r,oS())?new Proxy(r,Fd):r)}function Hs(r){if(r instanceof IDBRequest)return cS(r);if(Dd.has(r))return Dd.get(r);const t=mS(r);return t!==r&&(Dd.set(r,t),_m.set(t,r)),t}const xd=r=>_m.get(r);function gS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Hs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Hs(d.result),v.oldVersion,v.newVersion,Hs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Od=new Map;function z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=yS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||pS.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return Od.set(t,c),c}fS(r=>({...r,get:(t,i,a)=>z_(t,i)||r.get(t,i,a),has:(t,i)=>!!z_(t,i)||r.has(t,i)}));class _S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vS(r){return r.getComponent()?.type==="VERSION"}const Qd="@firebase/app",j_="0.14.6";const Ji=new ym("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",AS="@firebase/analytics",SS="@firebase/app-check-compat",bS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",NS="@firebase/database-compat",DS="@firebase/functions",xS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",US="@firebase/messaging-compat",kS="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",GS="@firebase/firestore-compat",FS="firebase",QS="12.6.0";const Kd="[DEFAULT]",KS={[Qd]:"fire-core",[ES]:"fire-core-compat",[AS]:"fire-analytics",[TS]:"fire-analytics-compat",[bS]:"fire-app-check",[SS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[DS]:"fire-fn",[xS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[US]:"fire-fcm-compat",[kS]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[GS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};const kc=new Map,YS=new Map,Yd=new Map;function B_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(Yd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,r);for(const i of kc.values())B_(i,r);for(const i of YS.values())B_(i,r);return!0}function vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Zn(r){return r==null?!1:r.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Vo("app","Firebase",XS);class ZS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const el=QS;function E0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Gs.create("bad-app-name",{appName:String(o)});if(i||(i=m0()),!i)throw Gs.create("no-options");const c=kc.get(o);if(c){if(zr(i,c.options)&&zr(a,c.config))return c;throw Gs.create("duplicate-app",{appName:o})}const d=new nS(o);for(const v of Yd.values())d.addComponent(v);const p=new ZS(i,a,d);return kc.set(o,p),p}function T0(r=Kd){const t=kc.get(r);if(!t&&r===Kd&&m0())return E0();if(!t)throw Gs.create("no-app",{appName:r});return t}function Fs(r,t,i){let a=KS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new jr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const $S="firebase-heartbeat-database",JS=1,bo="firebase-heartbeat-store";let Md=null;function A0(){return Md||(Md=gS($S,JS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gs.create("idb-open",{originalErrorMessage:r.message})})),Md}async function WS(r){try{const i=(await A0()).transaction(bo),a=await i.objectStore(bo).get(S0(r));return await i.done,a}catch(t){if(t instanceof is)Ji.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function q_(r,t){try{const a=(await A0()).transaction(bo,"readwrite");await a.objectStore(bo).put(t,S0(r)),await a.done}catch(i){if(i instanceof is)Ji.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function S0(r){return`${r.name}!${r.options.appId}`}const tb=1024,eb=30;class nb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eb){const o=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=ib(this._heartbeatsCache.heartbeats),o=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ji.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function ib(r,t=tb){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),G_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),G_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function G_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function rb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function ab(r){Qa(new jr("platform-logger",t=>new _S(t),"PRIVATE")),Qa(new jr("heartbeat",t=>new nb(t),"PRIVATE")),Fs(Qd,j_,r),Fs(Qd,j_,"esm2020"),Fs("fire-js","")}ab("");var lb="firebase",ob="12.6.0";Fs(lb,ob,"app");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ub=b0,w0=new Vo("auth","Firebase",b0());const Lc=new ym("@firebase/auth");function cb(r,...t){Lc.logLevel<=Mt.WARN&&Lc.warn(`Auth (${el}): ${r}`,...t)}function wc(r,...t){Lc.logLevel<=Mt.ERROR&&Lc.error(`Auth (${el}): ${r}`,...t)}function Wi(r,...t){throw Em(r,...t)}function Ti(r,...t){return Em(r,...t)}function R0(r,t,i){const a={...ub(),[t]:i};return new Vo("auth","Firebase",a).create(t,{appName:r.name})}function Qs(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return w0.create(r,...t)}function yt(r,t,...i){if(!r)throw Em(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw wc(t),new Error(t)}function ts(r,t){r||Zi(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function hb(){return F_()==="http:"||F_()==="https:"}function F_(){return typeof self<"u"&&self.location?.protocol||null}function fb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hb()||jA()||"connection"in navigator)?navigator.onLine:!0}function db(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ko{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return fb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class I0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pb=new ko(3e4,6e4);function eh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function nl(r,t,i,a,o={}){return C0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Uo({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return zA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(y.credentials="include"),I0.fetch()(await D0(r,r.config.apiHost,i,p),y)})}async function C0(r,t,i){r._canInitEmulator=!1;const a={...mb,...t};try{const o=new yb(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw vc(r,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(r,A,y);Wi(r,A)}}catch(o){if(o instanceof is)throw o;Wi(r,"network-request-failed",{message:String(o)})}}async function N0(r,t,i,a,o={}){const c=await nl(r,t,i,a,o);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function D0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Tm(r.config,o):`${r.config.apiScheme}://${o}`;return gb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),pb.get())})}}function vc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ti(r,t,a);return o.customData._tokenResponse=i,o}async function _b(r,t){return nl(r,"POST","/v1/accounts:delete",t)}async function Pc(r,t){return nl(r,"POST","/v1/accounts:lookup",t)}function vo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vb(r,t=!1){const i=Je(r),a=await i.getIdToken(t),o=Am(a);yt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:vo(Vd(o.auth_time)),issuedAtTime:vo(Vd(o.iat)),expirationTime:vo(Vd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(i);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Q_(r){const t=Am(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof is&&Eb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Eb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Tb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zc(r){const t=r.auth,i=await r.getIdToken(),a=await wo(r,Pc(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?x0(o.providerUserInfo):[],d=Sb(r.providerData,c),p=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=p?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function Ab(r){const t=Je(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sb(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function x0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function bb(r,t){const i=await C0(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await D0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(v.credentials="include"),I0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wb(r,t){return nl(r,"POST","/v2/accounts:revokeToken",eh(r,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await bb(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ba;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(yt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Ls(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $n{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await wo(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vb(this,t)}reload(){return Ab(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new $n({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await wo(this,_b(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:F,providerData:W,stsTokenManager:st}=i;yt(b&&st,t,"internal-error");const tt=Ba.fromJSON(this.name,st);yt(typeof b=="string",t,"internal-error"),Ls(a,t.name),Ls(o,t.name),yt(typeof O=="boolean",t,"internal-error"),yt(typeof F=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(v,t.name),Ls(y,t.name),Ls(A,t.name);const ft=new $n({uid:b,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(ft.providerData=W.map(Et=>({...Et}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ba;o.updateFromServerResponse(i);const c=new $n({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];yt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?x0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ba;p.updateFromIdToken(a);const v=new $n({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const K_=new Map;function $i(r){ts(r instanceof Function,"Expected a class definition");let t=K_.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,K_.set(r,t),t)}class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}O0.type="NONE";const Y_=O0;function Rc(r,t,i){return`firebase:${r}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Rc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Pc(this.auth,{idToken:t}).catch(()=>{});return i?$n._fromGetAccountInfoResponse(this.auth,i,t):null}return $n._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa($i(Y_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||$i(Y_);const d=Rc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const O=await Pc(t,{idToken:A}).catch(()=>{});if(!O)break;b=await $n._fromGetAccountInfoResponse(t,O,A)}else b=$n._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new qa(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,t,a))}}function X_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(z0(t))return"Webos";if(V0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(L0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function M0(r=$e()){return/firefox\//i.test(r)}function V0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=$e()){return/crios\//i.test(r)}function k0(r=$e()){return/iemobile/i.test(r)}function L0(r=$e()){return/android/i.test(r)}function P0(r=$e()){return/blackberry/i.test(r)}function z0(r=$e()){return/webos/i.test(r)}function Sm(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Rb(r=$e()){return Sm(r)&&!!window.navigator?.standalone}function Ib(){return qA()&&document.documentMode===10}function j0(r=$e()){return Sm(r)||L0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||k0(r)}function B0(r,t=[]){let i;switch(r){case"Browser":i=X_($e());break;case"Worker":i=`${X_($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${el}/${a}`}class Cb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Nb(r,t={}){return nl(r,"GET","/v2/passwordPolicy",eh(r,t))}const Db=6;class xb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Db,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ob{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Pc(this,{idToken:t}),a=await $n._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=db()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Qs(this));const i=t?Je(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Nb(this),i=new xb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await wb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&cb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function nh(r){return Je(r)}class Z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mb(r){bm=r}function Vb(r){return bm.loadJS(r)}function Ub(){return bm.gapiScript}function kb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Lb(r,t){const i=vm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(zr(c,t??{}))return o;Wi(o,"already-initialized")}return i.initialize({options:t})}function Pb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function zb(r,t,i){const a=nh(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=q0(t),{host:d,port:p}=jb(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(zr(y,a.config.emulator)&&zr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,tl(d)?(p0(`${c}//${d}${v}`),y0("Auth",!0)):Bb()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function jb(r){const t=q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:$_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:$_(d)}}}function $_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Bb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class H0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ha(r,t){return N0(r,"POST","/v1/accounts:signInWithIdp",eh(r,t))}const qb="http://localhost";class Br extends H0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Br(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ha(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:qb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class G0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lo extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Lo{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Br._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Lo{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Lo{constructor(){super("twitter.com")}static credential(t,i){return Br._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function Hb(r,t){return N0(r,"POST","/v1/accounts:signUp",eh(r,t))}class Xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await $n._fromIdTokenResponse(t,a,o),d=J_(a);return new Xs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=J_(a);return new Xs({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function J_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Gb(r){if(Zn(r.app))return Promise.reject(Qs(r));const t=nh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Xs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Hb(t,{returnSecureToken:!0}),a=await Xs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class jc extends is{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new jc(t,i,a,o)}}function F0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jc._fromErrorAndOperation(r,c,t,a):c})}async function Fb(r,t,i=!1){const a=await wo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Xs._forOperation(r,"link",a)}async function Qb(r,t,i=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject(Qs(a));const o="reauthenticate";try{const c=await wo(r,F0(a,o,t,r),i);yt(c.idToken,a,"internal-error");const d=Am(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),Xs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function Kb(r,t,i=!1){if(Zn(r.app))return Promise.reject(Qs(r));const a="signIn",o=await F0(r,a,t),c=await Xs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function Yb(r,t,i,a){return Je(r).onIdTokenChanged(t,i,a)}function Xb(r,t,i){return Je(r).beforeAuthStateChanged(t,i)}function Zb(r,t,i,a){return Je(r).onAuthStateChanged(t,i,a)}function $b(r){return Je(r).signOut()}const Bc="__sak";class Q0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jb=1e3,Wb=10;class K0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Ib()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Wb):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}K0.type="LOCAL";const tw=K0;class Y0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Y0.type="SESSION";const X0=Y0;function ew(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ih(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await ew(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];function wm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class nw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=wm("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function iw(r){Ai().location.href=r}function Z0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function sw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rw(){return navigator?.serviceWorker?.controller||null}function aw(){return Z0()?self:null}const $0="firebaseLocalStorageDb",lw=1,qc="firebaseLocalStorage",J0="fbase_key";class Po{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(r,t){return r.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function ow(){const r=indexedDB.deleteDatabase($0);return new Po(r).toPromise()}function $d(){const r=indexedDB.open($0,lw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(qc,{keyPath:J0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(qc)?t(a):(a.close(),await ow(),t(await $d()))})})}async function W_(r,t,i){const a=sh(r,!0).put({[J0]:t,value:i});return new Po(a).toPromise()}async function uw(r,t){const i=sh(r,!1).get(t),a=await new Po(i).toPromise();return a===void 0?null:a.value}function tv(r,t){const i=sh(r,!0).delete(t);return new Po(i).toPromise()}const cw=800,hw=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>hw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(aw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sw(),!this.activeServiceWorker)return;this.sender=new nw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await W_(t,Bc,"1"),await tv(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>uw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=sh(o,!1).getAll();return new Po(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const fw=W0;new ko(3e4,6e4);function dw(r,t){return t?$i(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rm extends H0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function mw(r){return Kb(r.auth,new Rm(r),r.bypassAuthState)}function gw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Qb(i,new Rm(r),r.bypassAuthState)}async function pw(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),Fb(i,new Rm(r),r.bypassAuthState)}class tE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mw;case"linkViaPopup":case"linkViaRedirect":return pw;case"reauthViaPopup":case"reauthViaRedirect":return gw;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yw=new ko(2e3,1e4);class ja extends tE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yw.get())};t()}}ja.currentPopupAction=null;const _w="pendingRedirect",Ic=new Map;class vw extends tE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const a=await Ew(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ew(r,t){const i=Sw(t),a=Aw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Tw(r,t){Ic.set(r._key(),t)}function Aw(r){return $i(r._redirectPersistence)}function Sw(r){return Rc(_w,r.config.apiKey,r.name)}async function bw(r,t,i=!1){if(Zn(r.app))return Promise.reject(Qs(r));const a=nh(r),o=dw(a,t),d=await new vw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ww=600*1e3;class Rw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!eE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function eE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(r);default:return!1}}async function Cw(r,t={}){return nl(r,"GET","/v1/projects",t)}const Nw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dw=/^https?/;async function xw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Cw(r);for(const i of t)try{if(Ow(i))return}catch{}Wi(r,"unauthorized-domain")}function Ow(r){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Dw.test(i))return!1;if(Nw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Mw=new ko(3e4,6e4);function nv(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Vw(r){return new Promise((t,i)=>{function a(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Ti(r,"network-request-failed"))},timeout:Mw.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const o=kb("iframefcb");return Ai()[o]=()=>{gapi.load?a():i(Ti(r,"network-request-failed"))},Vb(`${Ub()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Cc=null,t})}let Cc=null;function Uw(r){return Cc=Cc||Vw(r),Cc}const kw=new ko(5e3,15e3),Lw="__/auth/iframe",Pw="emulator/auth/iframe",zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bw(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Tm(t,Pw):`https://${r.config.authDomain}/${Lw}`,a={apiKey:t.apiKey,appName:r.name,v:el},o=jw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function qw(r){const t=await Uw(r),i=Ai().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:Bw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},kw.get());function v(){Ai().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gw=500,Fw=600,Qw="_blank",Kw="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yw(r,t,i,a=Gw,o=Fw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Hw,width:a.toString(),height:o.toString(),top:c,left:d},y=$e().toLowerCase();i&&(p=U0(y)?Qw:i),M0(y)&&(t=t||Kw,v.scrollbars="yes");const A=Object.entries(v).reduce((O,[F,W])=>`${O}${F}=${W},`,"");if(Rb(y)&&p!=="_self")return Xw(t||"",p),new iv(null);const b=window.open(t||"",p,A);yt(b,r,"popup-blocked");try{b.focus()}catch{}return new iv(b)}function Xw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Zw="__/auth/handler",$w="emulator/auth/handler",Jw=encodeURIComponent("fac");async function sv(r,t,i,a,o,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:el,eventId:o};if(t instanceof G0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",XA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Lo){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await r._getAppCheckToken(),y=v?`#${Jw}=${encodeURIComponent(v)}`:"";return`${Ww(r)}?${Uo(p).slice(1)}${y}`}function Ww({config:r}){return r.emulator?Tm(r,$w):`https://${r.authDomain}/${Zw}`}const Ud="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=bw,this._overrideRedirectResult=Tw}async _openPopup(t,i,a,o){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await sv(t,i,a,Xd(),o);return Yw(t,c,wm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await sv(t,i,a,Xd(),o);return iw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await qw(t),a=new Rw(t);return i.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ud,{type:Ud},o=>{const c=o?.[0]?.[Ud];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j0()||V0()||Sm()}}const e2=t2;var rv="@firebase/auth",av="1.11.1";class n2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function i2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(r){Qa(new jr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},y=new Ob(a,o,c,v);return Pb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new jr("auth-internal",t=>{const i=nh(t.getProvider("auth").getImmediate());return(a=>new n2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(rv,av,i2(r)),Fs(rv,av,"esm2020")}const r2=300,a2=g0("authIdTokenMaxAge")||r2;let lv=null;const l2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>a2)return;const o=i?.token;lv!==o&&(lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o2(r=T0()){const t=vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Lb(r,{popupRedirectResolver:e2,persistence:[fw,tw,X0]}),a=g0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=l2(c.toString());Xb(i,d,()=>d(i.currentUser)),Yb(i,p=>d(p))}}const o=d0("auth");return o&&zb(i,`http://${o}`),i}function u2(){return document.getElementsByTagName("head")?.[0]??document}Mb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ti("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",u2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,nE;(function(){var r;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,U){for(var w=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)w[jt-2]=arguments[jt];return S.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+M[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+M[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+M[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+M[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+M[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+M[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+M[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+M[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+M[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+M[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+M[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+M[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(M[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,M),N=0;break}}else for(;U<S;)if(M[N++]=C[U++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;M&&U==S||(I[N]=U,M=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return tt(y(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return tt(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let M=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var b=v(0),O=v(1),F=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-tt(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(st(this))return"-"+tt(this).toString(C);const S=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=Dt(I,S).g;I=ft(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,W(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function st(C){return C.h==-1}r.l=function(C){return C=ft(this,C),st(C)?-1:W(C)?0:1};function tt(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(O)}r.abs=function(){return st(this)?tt(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=S;N++){let U=M+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add(tt(S))}r.j=function(C){if(W(this)||W(C))return b;if(st(this))return st(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(st(C))return tt(this.j(tt(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,jt=C.i(N)>>>16,J=C.i(N)&65535;I[2*M+2*N]+=w*J,Et(I,2*M+2*N),I[2*M+2*N+1]+=U*J,Et(I,2*M+2*N+1),I[2*M+2*N+1]+=w*jt,Et(I,2*M+2*N+1),I[2*M+2*N+2]+=U*jt,Et(I,2*M+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Et(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function mt(C,S){this.g=C,this.h=S}function Dt(C,S){if(W(S))throw Error("division by zero");if(W(C))return new mt(b,b);if(st(C))return S=Dt(tt(C),S),new mt(tt(S.g),tt(S.h));if(st(S))return S=Dt(C,tt(S)),new mt(tt(S.g),S.h);if(C.g.length>30){if(st(C)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=O,M=S;M.l(C)<=0;)I=Wt(I),M=Wt(M);var N=It(I,1),U=It(M,1);for(M=It(M,2),I=It(I,2);!W(M);){var w=U.add(M);w.l(C)<=0&&(N=N.add(I),U=w),M=It(M,1),I=It(I,1)}return S=ft(C,N.j(S)),new mt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(I),w=U.j(S);st(w)||w.l(C)>0;)I-=M,U=y(I),w=U.j(S);W(U)&&(U=O),N=N.add(U),C=ft(C,w)}return new mt(N,C)}r.B=function(C){return Dt(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Wt(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function It(C,S){const I=S>>5;S%=32;const M=C.g.length-I,N=[];for(let U=0;U<M;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,nE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ks=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,mo,sE,Nc,Jd,rE,aE,lE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(T,et)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const q=L.length||0;u.length=_+q;for(let et=0;et<q;et++)u[_+et]=L[et]}else u.push(L)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new st(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,It=!1,C=new Et,S=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){tt(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function jt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(jt,N),jt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),k=0;function X(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++k,this.da=this.fa=!1}function nt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Lt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function x(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let q=0;q<K.length;q++)_=K[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=wt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new X(m,this.src,q,!!T,L),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(nt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function wt(u,m,_,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return L}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,_,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],_,T,L);return null}return _=ul(_),u&&u[J]?u.J(m,_,p(T)?!!T.capture:!1,L):sr(u,m,_,!1,T,L)}function sr(u,m,_,T,L,q){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let St=rr(u);if(St||(u[Pt]=St=new at(u)),_=St.add(m,_,T,et,q),_.proxy)return _;if(T=Qr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qr(){function u(_){return m.call(u.src,u.listener,_)}const m=ll;return u}function Kr(u,m,_,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Kr(u,m[q],_,T,L);else T=p(T)?!!T.capture:!!T,_=ul(_),u&&u[J]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=wt(m,_,T,L),_>-1&&(nt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,_,T,L)),(_=u>-1?m[u]:null)&&Yr(_))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[J])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Jn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=rr(m))?(_t(_,u),_.h==0&&(_.src=null,m[Pt]=null)):nt(u)}}}function Jn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function ll(u,m){if(u.da)u=!0;else{m=new jt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=_.call(T,m)}return u}function rr(u){return u=u[Pt],u instanceof at?u:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(u){return typeof u=="function"?u:(u[ol]||(u[ol]=function(m){return u.handleEvent(m)}),u[ol])}function pe(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(pe,M),pe.prototype[J]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Kr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),it(m,L)}L=!0;let q,et;if(_)for(et=_.length-1;et>=0;et--)q=m.g=_[et],L=ss(q,T,!0,m)&&L;if(q=m.g=u,L=ss(q,T,!0,m)&&L,L=ss(q,T,!1,m)&&L,_)for(et=0;et<_.length;et++)q=m.g=_[et],L=ss(q,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)nt(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ss(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==_){const St=et.listener,fe=et.ha||et.src;et.fa&&_t(u.i,et),L=St.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Go(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){M.call(this),this.h=u,this.g={}}b(ar,M);var cl=[];function hl(u){gt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Yr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),hl(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,wh=d.JSON.parse,Fo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Qo(){}function Ko(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}b(Pe,N);function Sn(){N.call(this,"c")}b(Sn,N);var he={},Yo=null;function Xr(){return Yo=Yo||new pe}he.Ia="serverreachability";function Xo(u){N.call(this,he.Ia,u)}b(Xo,N);function Wn(u){const m=Xr();De(m,new Xo(m))}he.STAT_EVENT="statevent";function lr(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}b(lr,N);function ye(u){const m=Xr();De(m,new lr(m,u))}he.Ja="timingevent";function ti(u,m){N.call(this,he.Ja,u),this.size=m}b(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Rh(u,m,_,T,L,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Ht=0;Ht<St.length;Ht++){var fe=St[Ht].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const In=re.split("_");et=In.length>=2&&In[1]=="type"?et+(re+"="+fe+"&"):et+(re+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Zo(u,m,_,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+et})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,_)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return rs(q)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function cr(){}b(cr,Qo),cr.prototype.g=function(){return new XMLHttpRequest},dl=new cr;function xi(u){return encodeURIComponent(String(u))}function $o(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function zn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ii(u,m,_){u.M=1,u.A=hr(Ee(m)),u.u=_,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(_.i,"t",T),u.C=0,_=u.j.L,u.h=new jn,u.g=fu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(let q=0;q<L.length;q++){const et=se(_,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Rh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Hn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||fe==7||(fe==8||Ht<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Ch(this);if(this.o=m==200,Zo(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),fn(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Wo(this,_),re==Ve){St==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),fn(this),bn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Cl(et),et.P=!0,ye(11))}}else ni(this.i,this.l,_,null),ai(this,_);St==4&&fn(this),this.o&&!this.K&&(St==4?ou(this.j,this):(this.o=!1,si(this)))}else Mi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),bn(this)}}}catch{}finally{}};function Ch(u){if(!Jo(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,L=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Jo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wo(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(Wn(),ye(17)),fn(this),this.m=2,bn(this)):$r(this,this.T-u)};function bn(u){u.j.I==0||u.K||ou(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||oi(_.h,u))){if(!u.L&&oi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ra(_),ds(_);else break t;_r(_),ye(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));li(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&ra(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const re=Ht[0];if(!(re<=_.K))if(_.K=re,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const In=Ht[3];In!=null&&(_.ka=In,_.j.info("VER="+_.ka));const gi=Ht[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Gn=Ht[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Fn=u.g;if(Fn){const vr=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var q=T.h;q.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(pl(q,q.h),q.h=null))}if(T.G){const aa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Qt(T.J,T.G,aa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=hu(T,T.L?T.ba:null,T.W),et.L){yl(T.h,et);var St=et,fe=T.O;fe&&(St.H=fe),St.D&&(ri(St),si(St)),T.g=et}else au(T);_.i.length>0&&di(_)}else Ht[0]!="stop"&&Ht[0]!="close"||mi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?mi(_,7):Rl(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,q=null;T>=0?(L=u[_].substring(0,T),q=u[_].substring(T+1)):L=u[_],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,vl(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(tu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,Wr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,Wr,!0),"@"),u.push(xi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fr(_,_.charAt(0)=="/"?El:eu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fr(_,nu)),u.join("")},dn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Ue(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?T&&et==L.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==L.length&&q.push("")):(q.push(St),T=!0)}T=q.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?vl(m,su(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new dn(u)}function Ue(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,_){m instanceof os?(u.i=m,ea(u.i,u.l)):(_||(m=fr(m,ls)),u.i=new os(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function hr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wr=/[#\/\?@]/g,eu=/[#\?:]/g,El=/[#\?]/g,ls=/[#\?@]/g,nu=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Jr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=os.prototype,r.add=function(u,m){sn(this),this.i=null,u=us(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function iu(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return sn(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Al(u,m){sn(u);let _=[];if(typeof m=="string")Tl(u,m)&&(_=_.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return sn(this),this.i=null,u=us(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,_){iu(u,m),_.length>0&&(u.i=null,u.g.set(us(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=xi(_);_=Al(this,_);for(let q=0;q<_.length;q++){let et=L;_[q]!==""&&(et+="="+xi(_[q])),u.push(et)}}return this.i=u.join("&")};function su(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(iu(this,T),ta(this,L,_))},u)),u.j=m}function Bn(u,m){const _=new Pn;if(d.Image){const T=new Image;T.onload=A(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Sl(u,m){const _=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function cs(){this.g=new Fo}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ci,Qo),ci.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(dr,pe),r=dr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):qn(this),this.readyState==3&&na(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return gt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&xi(_):Qt(u,m,_))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,pe);var hi=/^https?$/i,bl=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){gr(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){gr(this,q)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),Oi(u)}function wl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},r.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=q===0){let et=String(u.D).match(tu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!hi.test(et?et.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Hn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wl(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=$o(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}Lt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=hu(this,null,this.W),di(this)};function Rl(u){if(ia(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),yr(u,_),m=new zn(u,u.j,m),m.M=2,m.A=hr(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=fu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}cu(u)}function ds(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function ia(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!gl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||S(),It||(Wt(),It=!0),C.add(m,u),u.D=0}}function sa(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),uu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=ru(this,L,m),_=Ee(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),yr(this,_),q&&(this.R?m="headers="+xi(Rn(q))+"&"+m:this.u&&mr(_,this.u,q)),pl(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,ii(L,_,null)):ii(L,_,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||gl(this.h)||Il(this))};function Il(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Qt(T,"SID",u.M),Qt(T,"RID",_),Qt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),_=new zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),pl(u.h,_),ii(_,T,m)}function yr(u,m){u.H&&gt(u.H,function(_,T){Qt(m,T,_)}),u.l&&gt({},function(_,T){Qt(m,T,_)})}function ru(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const fe=["count="+_];St==-1?_>0?(St=L[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Ht=!0;for(let re=0;re<_;re++){var q=L[re].g;const In=L[re].map;if(q-=St,q<0)St=Math.max(0,L[re].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[gi,Gn]of et){let Fn=Gn;p(Gn)&&(Fn=rs(Gn)),fe.push(q+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(In)}}if(Ht){et=fe.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||S(),It||(Wt(),It=!0),C.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),uu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ds(this),lu(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=hr(Ee(m)),_.u=null,_.R=!0,Zr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),_r(this),ye(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var _=null;if(u.g==m){ra(u),Cl(u),u.g=null;var T=2}else if(oi(u.h,m))_=m.G,yl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Xr(),De(T,new ti(T,_)),di(u)}else au(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&_r(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function uu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),hr(T),L?Bn(T.toString(),_):Sl(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),cu(u),ia(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function cu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function hu(u,m,_){var T=_ instanceof dn?Ee(_):new dn(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new dn(null);T&&Ue(q,T),m&&(q.g=m),L&&as(q,L),_&&(q.h=_),T=q}return _=u.G,m=u.wa,_&&m&&Qt(T,_,m),Qt(T,"VER",u.ka),yr(u,T),T}function fu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}r=du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){pe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Rl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=rs(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,tn.Z.N.call(this)};function mu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(mu,Pe);function gu(){Sn.call(this),this.status=1}b(gu,Sn);function Vi(u){this.g=u}b(Vi,du),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new mu(u))},Vi.prototype.pa=function(u){De(this.g,new gu)},Vi.prototype.oa=function(){De(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,lE=function(){return new ms},aE=function(){return Xr()},rE=he,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Nc=ur,fl.COMPLETE="complete",sE=fl,Ko.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",pe.prototype.listen=pe.prototype.J,mo=Ko,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,iE=Xt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.2";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let il="12.3.0";const qr=new ym("@firebase/firestore");function ka(){return qr.logLevel}function rt(r,...t){if(qr.logLevel<=Mt.DEBUG){const i=t.map(Im);qr.debug(`Firestore (${il}): ${r}`,...i)}}function es(r,...t){if(qr.logLevel<=Mt.ERROR){const i=t.map(Im);qr.error(`Firestore (${il}): ${r}`,...i)}}function Ka(r,...t){if(qr.logLevel<=Mt.WARN){const i=t.map(Im);qr.warn(`Firestore (${il}): ${r}`,...i)}}function Im(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,oE(r,a,i)}function oE(r,t,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw es(a),new Error(a)}function Ft(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||oE(t,o,a)}function At(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ys{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class uE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class h2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class f2{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ys,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ys)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new uE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class d2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new d2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function p2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=p2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return kd(o)===kd(c)?Vt(o,c):kd(o)?1:-1}return Vt(r.length,t.length)}const y2=55296,_2=57343;function kd(r){const t=r.charCodeAt(0);return t>=y2&&t<=_2}function Ya(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const fv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class le extends Ei{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return v2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Fe([fv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(le.fromString(t))}static fromName(t){return new ht(le.fromString(t).popFirst(5))}static empty(){return new ht(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new le(t.slice()))}}function E2(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function T2(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function dv(r){if(!ht.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Nm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Si(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function zo(r,t){if(!cE(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const mv=-62135596800,gv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*gv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<mv)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zo(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ro=-1;function A2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Zs(o,ht.empty(),t)}function S2(r){return new Zs(r.readTime,r.key,Ro)}class Zs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zs(vt.min(),ht.empty(),Ro)}static max(){return new Zs(vt.max(),ht.empty(),Ro)}}function b2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const w2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function sl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==w2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function I2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function rl(r){return r.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Dm=-1;function ah(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function C2(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hE="";function N2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=pv(t)),t=D2(r.get(i),t);return pv(t)}function D2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case hE:i+="";break;default:i+=c}}return i}function pv(r){return r+hE+""}function yv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function nr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function fE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(t){return new _v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class _v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new dE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const x2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=x2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Js(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const mE="server_timestamp",gE="__type__",pE="__previous_value__",yE="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[gE]?.stringValue===mE}function lh(r){const t=r.mapValue.fields[pE];return xm(t)?lh(t):t}function Io(r){const t=$s(r.mapValue.fields[yE].timestampValue);return new ie(t.seconds,t.nanos)}class O2{constructor(t,i,a,o,c,d,p,v,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const Gc="(default)";class Co{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Co&&t.projectId===this.projectId&&t.database===this.database}}const _E="__type__",M2="__max__",Ac={mapValue:{}},vE="__vector__",Fc="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:U2(r)?9007199254740991:V2(r)?10:11:pt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=Ws(r);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Io(r).isEqual(Io(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=$s(o.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Js(o.bytesValue).isEqual(Js(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),p=ge(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ya(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(yv(d)!==yv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ni(d[v],p[v])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function No(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Xa(r,t){if(r===t)return 0;const i=Ws(r),a=Ws(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return vv(r.timestampValue,t.timestampValue);case 4:return vv(Io(r),Io(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Js(c),v=Js(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Vt(p[y],v[y]);if(A!==0)return A}return Vt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(ge(c.latitude),ge(d.latitude));return p!==0?p:Vt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ev(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[Fc]?.arrayValue,A=v[Fc]?.arrayValue,b=Vt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:Ev(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const O=Wd(v[b],A[b]);if(O!==0)return O;const F=Xa(p[v[b]],y[A[b]]);if(F!==0)return F}return Vt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=$s(r),a=$s(t),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function Ev(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Xa(i[o],a[o]);if(c)return c}return Vt(i.length,a.length)}function Za(r){return tm(r)}function tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Js(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Dc(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Dc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return nr(a.fields,((c,d)=>{o+=c.length+Dc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function em(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function Tv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function V2(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===vE}function Eo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return nr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Eo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Eo(r.arrayValue.values[i]);return t}return{...r}}function U2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===M2}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(i)}setAll(t){let i=Fe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Eo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new hn(Eo(this.value))}}function EE(r){const t=[];return nr(r.fields,((i,a)=>{const o=new Fe([i]);if(xc(a)){const c=EE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Tn(t)}class Ze{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,i,a,o){return new Ze(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function Sv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function k2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class TE{}class Oe extends TE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new P2(t,i,a):i==="array-contains"?new B2(t,a):i==="in"?new q2(t,a):i==="not-in"?new H2(t,a):i==="array-contains-any"?new G2(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new z2(t,a):new j2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends TE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return AE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(r){return r.op==="and"}function SE(r){return L2(r)&&AE(r)}function L2(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function nm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(SE(r))return r.filters.map((t=>nm(t))).join(",");{const t=r.filters.map((i=>nm(i))).join(",");return`${r.op}(${t})`}}function bE(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ni(a.value,o.value)})(r,t):r instanceof Di?(function(a,o){return o instanceof Di&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&bE(d,o.filters[p])),!0):!1})(r,t):void pt(19439)}function wE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(wE).join(" ,")+"}"})(r):"Filter"}class P2 extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class z2 extends Oe{constructor(t,i){super(t,"in",i),this.keys=RE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class j2 extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=RE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function RE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class B2 extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&No(i.arrayValue,this.value)}}class q2 extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&No(this.value.arrayValue,i)}}class H2 extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!No(this.value.arrayValue,i)}}class G2 extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>No(this.value.arrayValue,a)))}}class F2{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function wv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new F2(r,t,i,a,o,c,d)}function Mm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!k2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!bE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bv(r.startAt,t.startAt)&&bv(r.endAt,t.endAt)}function im(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class oh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Q2(r,t,i,a,o,c,d,p){return new oh(r,t,i,a,o,c,d,p)}function uh(r){return new oh(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K2(r){return r.collectionGroup!==null}function To(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Kc(Fe.keyField(),a))}return t.Ie}function bi(r){const t=At(r);return t.Ee||(t.Ee=Y2(t,To(r))),t.Ee}function Y2(r,t){if(r.limitType==="F")return wv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Kc(o.field,c)}));const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function sm(r,t,i){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return Vm(bi(r),bi(t))&&r.limitType===t.limitType}function IE(r){return`${Mm(bi(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>wE(o))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Za(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Za(o))).join(",")),`Target(${a})`})(bi(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of To(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=Sv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,To(a),o)||a.endAt&&!(function(d,p,v){const y=Sv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,To(a),o))})(r,t)}function X2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CE(r){return(t,i)=>{let a=!1;for(const o of To(r)){const c=Z2(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Z2(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Xa(v,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}const $2=new oe(ht.comparator);function ns(){return $2}const NE=new oe(ht.comparator);function go(...r){let t=NE;for(const i of r)t=t.insert(i.key,i);return t}function DE(r){let t=NE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return Ao()}function xE(){return Ao()}function Ao(){return new Gr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const J2=new oe(ht.comparator),W2=new Me(ht.comparator);function Ut(...r){let t=W2;for(const i of r)t=t.add(i);return t}const tR=new Me(Vt);function eR(){return tR}function Um(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function OE(r){return{integerValue:""+r}}function ME(r,t){return C2(t)?OE(t):Um(r,t)}class fh{constructor(){this._=void 0}}function nR(r,t,i){return r instanceof Yc?(function(o,c){const d={fields:{[gE]:{stringValue:mE},[yE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xm(c)&&(c=lh(c)),c&&(d.fields[pE]=c),{mapValue:d}})(i,t):r instanceof Do?UE(r,t):r instanceof xo?kE(r,t):(function(o,c){const d=VE(o,c),p=Iv(d)+Iv(o.Ae);return em(d)&&em(o.Ae)?OE(p):Um(o.serializer,p)})(r,t)}function iR(r,t,i){return r instanceof Do?UE(r,t):r instanceof xo?kE(r,t):i}function VE(r,t){return r instanceof Oo?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends fh{}class Do extends fh{constructor(t){super(),this.elements=t}}function UE(r,t){const i=LE(t);for(const a of r.elements)i.some((o=>Ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class xo extends fh{constructor(t){super(),this.elements=t}}function kE(r,t){let i=LE(t);for(const a of r.elements)i=i.filter((o=>!Ni(o,a)));return{arrayValue:{values:i}}}class Oo extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Iv(r){return ge(r.integerValue||r.doubleValue)}function LE(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sR{constructor(t,i){this.field=t,this.transform=i}}function rR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Do&&o instanceof Do||a instanceof xo&&o instanceof xo?Ya(a.elements,o.elements,Ni):a instanceof Oo&&o instanceof Oo?Ni(a.Ae,o.Ae):a instanceof Yc&&o instanceof Yc})(r.transform,t.transform)}class aR{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function PE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jE(r.key,wi.none()):new jo(r.key,r.data,wi.none());{const i=r.data,a=hn.empty();let o=new Me(Fe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ir(r.key,a,new Tn(o.toArray()),wi.none())}}function lR(r,t,i){r instanceof jo?(function(o,c,d){const p=o.value.clone(),v=Nv(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ir?(function(o,c,d){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Nv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(zE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function So(r,t,i,a){return r instanceof jo?(function(c,d,p,v){if(!Oc(c.precondition,d))return p;const y=c.value.clone(),A=Dv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ir?(function(c,d,p,v){if(!Oc(c.precondition,d))return p;const y=Dv(c.fieldTransforms,v,d),A=d.data;return A.setAll(zE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function oR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=VE(a.transform,o||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function Cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ya(a,o,((c,d)=>rR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jo extends dh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ir extends dh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Nv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,iR(d,p,i[o]))}return a}function Dv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,nR(c,d,t))}return a}class jE extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uR extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&lR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=PE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Cv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Cv(i,a)))}}class km{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return J2})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new km(t,i,a,o)}}class hR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fR{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,zt;function dR(r){switch(r){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function BE(r){if(r===void 0)return es("GRPC error has no .code"),$.UNKNOWN;switch(r){case we.OK:return $.OK;case we.CANCELLED:return $.CANCELLED;case we.UNKNOWN:return $.UNKNOWN;case we.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case we.INTERNAL:return $.INTERNAL;case we.UNAVAILABLE:return $.UNAVAILABLE;case we.UNAUTHENTICATED:return $.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case we.NOT_FOUND:return $.NOT_FOUND;case we.ALREADY_EXISTS:return $.ALREADY_EXISTS;case we.PERMISSION_DENIED:return $.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case we.ABORTED:return $.ABORTED;case we.OUT_OF_RANGE:return $.OUT_OF_RANGE;case we.UNIMPLEMENTED:return $.UNIMPLEMENTED;case we.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=we||(we={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function mR(){return new TextEncoder}const gR=new Ks([4294967295,4294967295],0);function xv(r){const t=mR().encode(r),i=new nE;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([o,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new po(`Invalid padding: ${i}`);if(a<0)throw new po(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new po(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ks.fromNumber(a)));return o.compare(gR)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[a,o]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=xv(t),[a,o]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Bo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(vt.min(),o,new oe(Vt),ns(),Ut())}}class Bo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bo(a,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class qE{constructor(t,i){this.targetId=t,this.Ce=i}}class HE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Mv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new Bo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ns(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(im(c))if(a===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Js(a).toUint8Array()}catch(v){if(v instanceof dE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Lm(d,o,c)}catch(v){return Ka(v instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&im(p.target)){const v=new ht(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ze.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,a);return this.je=ns(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Vt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Mv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new oe(ht.comparator)}function Vv(){return new oe(ht.comparator)}const yR={asc:"ASCENDING",desc:"DESCENDING"},_R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class ER{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function rm(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function TR(r,t){return Xc(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),vt.fromTimestamp((function(i){const a=$s(i);return new ie(a.seconds,a.nanos)})(r))}function Pm(r,t){return am(r,t).canonicalString()}function am(r,t){const i=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function FE(r){const t=le.fromString(r);return Ft(ZE(t),10190,{key:t.toString()}),t}function lm(r,t){return Pm(r.databaseId,t.path)}function Ld(r,t){const i=FE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(KE(i))}function QE(r,t){return Pm(r.databaseId,t)}function AR(r){const t=FE(r);return t.length===4?le.emptyPath():KE(t)}function om(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Uv(r,t,i){return{name:lm(r,t),fields:i.value.mapValue.fields}}function SR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?$.UNKNOWN:BE(y.code);return new ut(A,y.message||"")})(d);i=new HE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ld(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):vt.min(),p=new hn({mapValue:{fields:a.document.fields}}),v=Ze.newFoundDocument(o,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Mc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Ld(r,a.document),c=a.readTime?Ri(a.readTime):vt.min(),d=Ze.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Ld(r,a.document),c=a.removedTargetIds||[];i=new Mc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new fR(o,c),p=a.targetId;i=new qE(p,d)}}return i}function bR(r,t){let i;if(t instanceof jo)i={update:Uv(r,t.key,t.value)};else if(t instanceof jE)i={delete:lm(r,t.key)};else if(t instanceof ir)i={update:Uv(r,t.key,t.data),updateMask:MR(t.fieldMask)};else{if(!(t instanceof uR))return pt(16599,{Vt:t.type});i={verify:lm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Do)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:TR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function wR(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ri(o.updateTime):Ri(c);return d.isEqual(vt.min())&&(d=Ri(c)),new aR(d,o.transformResults||[])})(i,t)))):[]}function RR(r,t){return{documents:[QE(r,t.path)]}}function IR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=QE(r,o);const c=(function(y){if(y.length!==0)return XE(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Pa(O.field),direction:DR(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=rm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function CR(r){let t=AR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const O=YE(b);return O instanceof Di&&SE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(W){return new Kc(za(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let O;return O=typeof b=="object"?b.value:b,ah(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(b){const O=!!b.before,F=b.values||[];return new Qc(F,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const O=!b.before,F=b.values||[];return new Qc(F,O)})(i.endAt)),Q2(t,o,d,c,p,"F",v,y)}function NR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=za(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>YE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function DR(r){return yR[r]}function xR(r){return _R[r]}function OR(r){return vR[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function za(r){return Fe.fromServerFormat(r.fieldPath)}function XE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Av(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Av(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:xR(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((o=>XE(o)));return a.length===1?a[0]:{compositeFilter:{op:OR(i.op),filters:a}}})(r):pt(54877,{filter:r})}function MR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ZE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VR{constructor(t){this.yt=t}}function UR(r){const t=CR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sm(t,t.limit,"L"):t}class kR{constructor(){this.Cn=new LR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Zs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Zs.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class LR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(le.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(le.comparator)).toArray()}}const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn($E,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}const Lv="LruGarbageCollector",PR=1048576;function Pv([r,t],[i,a]){const o=Vt(r,i);return o===0?Vt(t,a):o}class zR{constructor(t){this.Ir=t,this.buffer=new Me(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){rl(i)?rt(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await sl(i)}await this.Vr(3e5)}))}}class BR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(rh.ce);const a=new zR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ka()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function qR(r,t){return new BR(r,t)}class HR{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class FR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&So(a.mutation,o,Tn.empty(),ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const o=Lr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=go();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=ns();const d=Ao(),p=(function(){return Ao()})();return i.forEach(((v,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof ir)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),So(A.mutation,y,A.mutation.getFieldMask(),ie.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new GR(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new oe(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Tn.empty();A=p.applyToLocalView(y,A),a.set(v,A);const b=(o.get(p.batchId)||Ut()).add(v);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,b=xE();A.forEach((O=>{if(!c.has(O)){const F=PE(i.get(O),a.get(O));F!==null&&b.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):K2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(Lr());let p=Ro,v=c;return d.next((y=>Z.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ut()))).next((A=>({batchId:p,changes:DE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let o=go();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=go();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(v=>{const y=(function(b,O){return new oh(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=go();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&So(A.mutation,y,Tn.empty(),ie.now()),hh(i,y)&&(p=p.insert(v,y))})),p}))}}class QR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:UR(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),Z.resolve()}}class KR{constructor(){this.overlays=new oe(ht.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=Lr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Lr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Lr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return Z.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class YR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class zm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new le([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new le([])),a=new Le(i,t),o=new Le(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class XR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Dm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Vt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let p=new Me(Vt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ns();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||b2(S2(A),a)<=0||(o.has(A.key)||hh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new $R(this)}getSize(t){return Z.resolve(this.size)}}class $R extends HR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class JR{constructor(t){this.persistence=t,this.si=new Gr((i=>Mm(i)),Vm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new zm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class JE{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new YR,this.referenceDelegate=t(this),this.Pi=new JR(this),this.indexManager=new kR,this.remoteDocumentCache=(function(o){return new ZR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new VR(i),this.Ii=new QR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new KR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new XR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const o=new WR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class WR extends R2{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Vi=null}static mi(t){return new jm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ht.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Gr((a=>N2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=qR(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ut(),o=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bm(t,i.fromCache,a,o)}}class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HA()?8:I2($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(ka()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ka()<=Mt.DEBUG&&rt("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ka()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):Z.resolve())}ys(t,i){if(Rv(i))return Z.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,sm(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return Rv(i)||o.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(ka()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(i)),this.vs(t,d,i,A2(o,Ro)).next((p=>p)))}))}Ds(t,i){let a=new Me(CE(t));return i.forEach(((o,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return ka()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",La(i)),this.ps.getDocumentsMatchingQuery(t,i,Zs.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",nI=3e8;class iI{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Vt),this.xs=new Gr((c=>Mm(c)),Vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function sI(r,t,i,a){return new iI(r,t,i,a)}async function WE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Ut();for(const y of o){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function rI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const b=y.batch,O=b.keys();let F=Z.resolve();return O.forEach((W=>{F=F.next((()=>A.getEntry(v,W))).next((st=>{const tt=y.docVersions.get(W);Ft(tt!==null,48541),st.version.compareTo(tt)<0&&(b.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),A.addEntry(st)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function tT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function aI(r,t){const i=At(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const O=o.get(b);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let F=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),o=o.insert(b,F),(function(st,tt,ft){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=nI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(O,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let v=ns(),y=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(lI(c,d,t.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function lI(r,t,i){let a=Ut(),o=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ns();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):rt(qm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function oI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function uI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function um(r,t,i){const a=At(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!rl(d))throw d;rt(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function zv(r,t,i){const a=At(r);let o=vt.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const b=At(v),O=b.xs.get(A);return O!==void 0?Z.resolve(b.Ms.get(O)):b.Pi.getTargetData(y,A)})(a,d,bi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Ut()))).next((p=>(cI(a,X2(t),p),{documents:p,Qs:c})))))}function cI(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class jv{constructor(){this.activeTargetIds=eR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.Mo=new jv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new jv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fI{Oo(t){}shutdown(){}}const Bv="ConnectivityMonitor";class qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function cm(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const Pd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=cm(),p=this.zo(t,i.toUriEncodedString());rt(Pd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(p),A=tl(y);return this.Jo(t,p,v,a,A).then((b=>(rt(Pd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(Pd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=dI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class gI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class pI extends mI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=cm();return new Promise(((p,v)=>{const y=new iE;y.setWithCredentials(!0),y.listenOnce(sE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const b=y.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Nc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),v(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const O=y.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const st=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(W.status);v(new ut(st,W.message))}else v(new ut($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ut($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);rt(Ye,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=lE(),p=aE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ye,`Creating RPC '${t}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let O=!1,F=!1;const W=new gI({Yo:tt=>{F?rt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,tt):(O||(rt(Ye,`Opening RPC '${t}' stream ${o} transport.`),b.open(),O=!0),rt(Ye,`RPC '${t}' stream ${o} sending:`,tt),b.send(tt))},Zo:()=>b.close()}),st=(tt,ft,Et)=>{tt.listen(ft,(mt=>{try{Et(mt)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return st(b,mo.EventType.OPEN,(()=>{F||(rt(Ye,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),st(b,mo.EventType.CLOSE,(()=>{F||(F=!0,rt(Ye,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(b))})),st(b,mo.EventType.ERROR,(tt=>{F||(F=!0,Ka(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),st(b,mo.EventType.MESSAGE,(tt=>{if(!F){const ft=tt.data[0];Ft(!!ft,16349);const Et=ft,mt=Et?.error||Et[0]?.error;if(mt){rt(Ye,`RPC '${t}' stream ${o} received error:`,mt);const Dt=mt.status;let Wt=(function(S){const I=we[S];if(I!==void 0)return BE(I)})(Dt),It=mt.message;Wt===void 0&&(Wt=$.INTERNAL,It="Unknown error status: "+Dt+" with message "+mt.message),F=!0,W.a_(new ut(Wt,It)),b.close()}else rt(Ye,`RPC '${t}' stream ${o} received:`,ft),W.u_(ft)}})),st(p,rE.STAT_EVENT,(tt=>{tt.stat===Jd.PROXY?rt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):tt.stat===Jd.NOPROXY&&rt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}function gh(r){return new ER(r,!0)}class eT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Hv="PersistentStream";class nT{constructor(t,i,a,o,c,d,p,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(es(i.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends nT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=SR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=im(v)?{documents:RR(c,v)}:{query:IR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=GE(c,d.resumeToken);const y=rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=rm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=NR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.q_(i)}}class _I extends nT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=wR(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>bR(this.serializer,a)))};this.q_(i)}}class vI{}class EI extends vI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,am(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(es(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class AI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(rt(Hr,"Restarting streams for network reachability change."),await(async function(v){const y=At(v);y.Ea.add(4),await qo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new TI(a,o)}}async function ph(r){if(Fr(r))for(const t of r.da)await t(!0)}async function qo(r){for(const t of r.da)await t(!1)}function iT(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Fm(i):al(i).O_()&&Gm(i,t))}function Hm(r,t){const i=At(r),a=al(i);i.Ia.delete(t),a.O_()&&sT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Ra.set("Unknown"))}function Gm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}al(r).Y_(t)}function sT(r,t){r.Va.Ue(t),al(r).Z_(t)}function Fm(r){r.Va=new pR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Ra.ua()}function Qm(r){return Fr(r)&&!al(r).x_()&&r.Ia.size>0}function Fr(r){return At(r).Ea.size===0}function rT(r){r.Va=void 0}async function SI(r){r.Ra.set("Online")}async function bI(r){r.Ia.forEach(((t,i)=>{Gm(r,t)}))}async function wI(r,t){rT(r),Qm(r)?(r.Ra.ha(t),Fm(r)):r.Ra.set("Unknown")}async function RI(r,t,i){if(r.Ra.set("Online"),t instanceof HE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){rt(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof Mc?r.Va.Ze(t):t instanceof qE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await tT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),sT(c,v);const b=new qs(A.target,v,y,A.sequenceNumber);Gm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Hr,"Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,i){if(!rl(t))throw t;r.Ea.add(1),await qo(r),r.Ra.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Hr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ph(r)}))}function aT(r,t){return t().catch((i=>$c(r,i,t)))}async function yh(r){const t=At(r),i=tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dm;for(;II(t);)try{const o=await oI(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,CI(t,o)}catch(o){await $c(t,o)}lT(t)&&oT(t)}function II(r){return Fr(r)&&r.Ta.length<10}function CI(r,t){r.Ta.push(t);const i=tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function lT(r){return Fr(r)&&!tr(r).x_()&&r.Ta.length>0}function oT(r){tr(r).start()}async function NI(r){tr(r).ra()}async function DI(r){const t=tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function xI(r,t,i){const a=r.Ta.shift(),o=km.from(a,t,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await yh(r)}async function OI(r,t){t&&tr(r).X_&&await(async function(a,o){if((function(d){return dR(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();tr(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await yh(a)}})(r,t),lT(r)&&oT(r)}async function Gv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Hr,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await qo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function MI(r,t){const i=At(r);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await qo(i),i.Ra.set("Unknown"))}function al(r){return r.ma||(r.ma=(function(i,a,o){const c=At(i);return c.sa(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:SI.bind(null,r),t_:bI.bind(null,r),r_:wI.bind(null,r),H_:RI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Qm(r)?Fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function tr(r){return r.fa||(r.fa=(function(i,a,o){const c=At(i);return c.sa(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NI.bind(null,r),r_:OI.bind(null,r),ta:DI.bind(null,r),na:xI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Hr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Km{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Km(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(r,t){if(es("AsyncQueue",`${t}: ${r}`),rl(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=go(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Fv{constructor(){this.ga=new oe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ja{constructor(t,i,a,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ja(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class VI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class UI{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=Qv(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function Qv(){return new Gr((r=>IE(r)),ch)}async function uT(r,t){const i=At(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new VI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ym(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function cT(r,t){const i=At(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function kI(r,t){const i=At(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Xm(i)}function LI(r,t,i){const a=At(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Xm(r){r.Ca.forEach((t=>{t.next()}))}var hm,Kv;(Kv=hm||(hm={})).Ma="default",Kv.Cache="cache";class hT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ja(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ja.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class fT{constructor(t){this.key=t}}class dT{constructor(t){this.key=t}}class PI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=CE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Fv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,b)=>{const O=o.get(A),F=hh(this.query,b)?b:null,W=!!O&&this.mutatedKeys.has(O.key),st=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;O&&F?O.data.isEqual(F.data)?W!==st&&(a.track({type:3,doc:F}),tt=!0):this.su(O,F)||(a.track({type:2,doc:F}),tt=!0,(v&&this.eu(F,v)>0||y&&this.eu(F,y)<0)&&(p=!0)):!O&&F?(a.track({type:0,doc:F}),tt=!0):O&&!F&&(a.track({type:1,doc:O}),tt=!0,(v||y)&&(p=!0)),tt&&(F?(d=d.add(F),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(F,W){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:tt})}};return st(F)-st(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Ja(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new dT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new fT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class zI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class jI{constructor(t){this.key=t,this.hu=!1}}class BI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>IE(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ht.comparator),this.Au=new Map,this.Ru=new zm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qI(r,t,i=!0){const a=vT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await mT(a,t,i,!0),o}async function HI(r,t){const i=vT(r);await mT(i,t,!0,!1)}async function mT(r,t,i,a){const o=await uI(r.localStore,bi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await GI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,o),p}async function GI(r,t,i,a,o){r.pu=(b,O,F)=>(async function(st,tt,ft,Et){let mt=tt.view.ru(ft);mt.Cs&&(mt=await zv(st.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,mt))));const Dt=Et&&Et.targetChanges.get(tt.targetId),Wt=Et&&Et.targetMismatches.get(tt.targetId)!=null,It=tt.view.applyChanges(mt,st.isPrimaryClient,Dt,Wt);return Xv(st,tt.targetId,It.au),It.snapshot})(r,b,O,F);const c=await zv(r.localStore,t,!0),d=new PI(t,c.Qs),p=d.ru(c.documents),v=Bo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,v);Xv(r,i,y.au);const A=new zI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function FI(r,t,i){const a=At(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await um(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Hm(a.remoteStore,o.targetId),fm(a,o.targetId)})).catch(sl)):(fm(a,o.targetId),await um(a.localStore,o.targetId,!0))}async function QI(r,t){const i=At(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function KI(r,t,i){const a=tC(r);try{const o=await(function(d,p){const v=At(d),y=ie.now(),A=p.reduce(((F,W)=>F.add(W.key)),Ut());let b,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=ns(),st=Ut();return v.Ns.getEntries(F,A).next((tt=>{W=tt,W.forEach(((ft,Et)=>{Et.isValidDocument()||(st=st.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(F,W))).next((tt=>{b=tt;const ft=[];for(const Et of p){const mt=oR(Et,b.get(Et.key).overlayedDocument);mt!=null&&ft.push(new ir(Et.key,mt,EE(mt.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(F,y,ft,p)})).next((tt=>{O=tt;const ft=tt.applyToLocalDocumentSet(b,st);return v.documentOverlayCache.saveOverlays(F,tt.batchId,ft)}))})).then((()=>({batchId:O.batchId,changes:DE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Vt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Ho(a,o.changes),await yh(a.remoteStore)}catch(o){const c=Ym(o,"Failed to persist write");i.reject(c)}}async function gT(r,t){const i=At(r);try{const a=await aI(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ft(d.hu,14607):o.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Ho(i,a,t)}catch(a){await sl(a)}}function Yv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=At(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,b)=>{for(const O of b.Sa)O.va(p)&&(y=!0)})),y&&Xm(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function YI(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new oe(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const p=Ut().add(c),v=new mh(vt.min(),new Map,new oe(Vt),d,p);await gT(a,v),a.du=a.du.remove(c),a.Au.delete(t),$m(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(sl)}async function XI(r,t){const i=At(r),a=t.batch.batchId;try{const o=await rI(i.localStore,t);yT(i,a,null),pT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ho(i,o)}catch(o){await sl(o)}}async function ZI(r,t,i){const a=At(r);try{const o=await(function(d,p){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ft(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(y,b)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);yT(a,t,i),pT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ho(a,o)}catch(o){await sl(o)}}function pT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function yT(r,t,i){const a=At(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function fm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||_T(r,a)}))}function _T(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Hm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function Xv(r,t,i){for(const a of i)a instanceof fT?(r.Ru.addReference(a.key,t),$I(r,a)):a instanceof dT?(rt(Zm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||_T(r,a.key)):pt(19791,{wu:a})}function $I(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Zm,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(le.fromString(t)),a=r.fu.next();r.Au.set(a,new jI(i)),r.du=r.du.insert(i,a),iT(r.remoteStore,new qs(bi(uh(i.path)),a,"TargetPurposeLimboResolution",rh.ce))}}async function Ho(r,t,i){const a=At(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Bm.As(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(O=>Z.forEach(O.Es,(F=>A.persistence.referenceDelegate.addReference(b,O.targetId,F))).next((()=>Z.forEach(O.ds,(F=>A.persistence.referenceDelegate.removeReference(b,O.targetId,F)))))))))}catch(b){if(!rl(b))throw b;rt(qm,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const F=A.Ms.get(O),W=F.snapshotVersion,st=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(O,st)}}})(a.localStore,c))}async function JI(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(Zm,"User change. New user:",t.toKey());const a=await WE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ho(i,a.Ls)}}function WI(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function vT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.Pu.H_=kI.bind(null,t.eventManager),t.Pu.yu=LI.bind(null,t.eventManager),t}function tC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZI.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sI(this.persistence,new eI,t.initialUser,this.serializer)}Cu(t){return new JE(jm.mi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class eC extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new JE((a=>Zc.mi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=JI.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new UI})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new pI(c)})(t.databaseInfo);return(function(c,d,p,v){return new EI(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new AI(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Yv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new fI})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,A){const b=new BI(o,c,d,p,v,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Hr,"RemoteStore shutting down."),a.Ea.add(5),await qo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class ET{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const er="FirestoreClient";class nC{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await WE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await iC(r);rt(er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Gv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Gv(t.remoteStore,o))),r._onlineComponents=t}async function iC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(er,"Using user provided OfflineComponentProvider");try{await jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await jd(r,new Jc)}}else rt(er,"Using default OfflineComponentProvider"),await jd(r,new eC(void 0));return r._offlineComponents}async function TT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(er,"Using user provided OnlineComponentProvider"),await Zv(r,r._uninitializedComponentsProvider._online)):(rt(er,"Using default OnlineComponentProvider"),await Zv(r,new dm))),r._onlineComponents}function sC(r){return TT(r).then((t=>t.syncEngine))}async function mm(r){const t=await TT(r),i=t.eventManager;return i.onListen=qI.bind(null,t.syncEngine),i.onUnlisten=FI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=QI.bind(null,t.syncEngine),i}function rC(r,t,i={}){const a=new Ys;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const A=new ET({next:O=>{A.Nu(),d.enqueueAndForget((()=>cT(c,b)));const F=O.docs.has(p);!F&&O.fromCache?y.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&O.fromCache&&v&&v.source==="server"?y.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),b=new hT(uh(p.path),A,{includeMetadataChanges:!0,qa:!0});return uT(c,b)})(await mm(r),r.asyncQueue,t,i,a))),a.promise}function AT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const $v=new Map;const ST="firestore.googleapis.com",Jv=!0;class Wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ST,this.ssl=Jv}else this.host=t.host,this.ssl=t.ssl??Jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PR)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jm{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new c2;switch(a.type){case"firstParty":return new m2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=$v.get(i);a&&(rt("ComponentProvider","Removing Datastore"),$v.delete(i),a.terminate())})(this),Promise.resolve()}}function aC(r,t,i,a={}){r=Si(r,Jm);const o=tl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(p0(`https://${p}`),y0("Firestore",!0)),c.host!==ST&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!zr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=VA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new h2(new uE(y,A))}}class _h{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(zo(i,Ce._jsonSchema))return new Ce(t,a||null,new ht(le.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ie("string",Ce._jsonSchemaVersion),referencePath:Ie("string")};class Mo extends _h{constructor(t,i,a){super(t,i,uh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new ht(t))}withConverter(t){return new Mo(this.firestore,t,this._path)}}function Bd(r,t,...i){if(r=Je(r),arguments.length===1&&(t=Cm.newId()),E2("doc","path",t),r instanceof Jm){const a=le.fromString(t,...i);return dv(a),new Ce(r,null,new ht(a))}{if(!(r instanceof Ce||r instanceof Mo))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(le.fromString(t,...i));return dv(a),new Ce(r.firestore,r instanceof Mo?r.converter:null,new ht(a))}}const t0="AsyncQueue";class e0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&rt(t0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;rt(t0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,es("INTERNAL UNHANDLED ERROR: ",n0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function n0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function i0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Wa extends Jm{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new e0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e0(t),this._firestoreClient=void 0,await t}}}function lC(r,t){const i=typeof r=="object"?r:T0(),a=typeof r=="string"?r:Gc,o=vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=OA("firestore");c&&aC(o,...c)}return o}function Wm(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||oC(r),r._firestoreClient}function oC(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new O2(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,AT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new nC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zo(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ie("string",kn._jsonSchemaVersion),bytes:Ie("string")};class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(zo(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zo(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ci(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),vectorValues:Ie("object")};const uC=/^__.*__$/;class cC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new jo(t,this.data,i,this.fieldTransforms)}}class bT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function wT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class tg{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&uC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,o=!1){return new tg({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RT(r){const t=r._freezeSettings(),i=gh(r._databaseId);return new hC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function fC(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);ng("Data must be an object, but it was:",d,a);const p=IT(a,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const O=gm(t,b,i);if(!d.contains(O))throw new ut($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);NT(A,O)||A.push(O)}v=new Tn(A),y=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,y=d.fieldTransforms;return new cC(new hn(p),v,y)}class Th extends Eh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}class eg extends Eh{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Oo(t.serializer,ME(t.serializer,this.Fc));return new sR(t.path,i)}isEqual(t){return t instanceof eg&&this.Fc===t.Fc}}function dC(r,t,i,a){const o=r.Cc(1,t,i);ng("Data must be an object, but it was:",o,a);const c=[],d=hn.empty();nr(a,((v,y)=>{const A=ig(t,v,i);y=Je(y);const b=o.yc(A);if(y instanceof Th)c.push(A);else{const O=Ah(y,b);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Tn(c);return new bT(d,p,o.fieldTransforms)}function mC(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[gm(t,a,i)],v=[o];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(gm(t,c[O])),v.push(c[O+1]);const y=[],A=hn.empty();for(let O=p.length-1;O>=0;--O)if(!NT(y,p[O])){const F=p[O];let W=v[O];W=Je(W);const st=d.yc(F);if(W instanceof Th)y.push(F);else{const tt=Ah(W,st);tt!=null&&(y.push(F),A.set(F,tt))}}const b=new Tn(y);return new bT(A,b,d.fieldTransforms)}function Ah(r,t){if(CT(r=Je(r)))return ng("Unsupported field value:",t,r),IT(r,t);if(r instanceof Eh)return(function(a,o){if(!wT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=Ah(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ME(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Xc(o.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:GE(o.serializer,a._byteString)};if(a instanceof Ce){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,p){return{mapValue:{fields:{[_E]:{stringValue:vE},[Fc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Um(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Nm(a)}`)})(r,t)}function IT(r,t){const i={};return fE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(r,((a,o)=>{const c=Ah(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function CT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ii||r instanceof kn||r instanceof Ce||r instanceof Eh||r instanceof Ci)}function ng(r,t,i){if(!CT(i)||!cE(i)){const a=Nm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function gm(r,t,i){if((t=Je(t))instanceof vh)return t._internalPath;if(typeof t=="string")return ig(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const gC=new RegExp("[~\\*/\\[\\]]");function ig(r,t,i){if(t.search(gC)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new ut($.INVALID_ARGUMENT,p+r+v)}function NT(r,t){return r.some((i=>i.isEqual(t)))}class DT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(xT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pC extends DT{data(){return super.data()}}function xT(r,t){return typeof t=="string"?ig(r,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function yC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _C{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Fc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ci(i)}convertGeoPoint(t){return new Ii(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Ft(ZE(a),9688,{name:t});const o=new Co(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return o.isEqual(i)||es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function vC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class yo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends DT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(xT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Ie("string",Pr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Vc extends Pr{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new yo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new yo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:EC(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function EC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function TC(r){r=Si(r,Ce);const t=Si(r.firestore,Wa);return rC(Wm(t),r._key).then((i=>VT(t,r,i)))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class OT extends _C{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function AC(r,t,i){r=Si(r,Ce);const a=Si(r.firestore,Wa),o=vC(r.converter,t);return MT(a,[fC(RT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,wi.none())])}function s0(r,t,i,...a){r=Si(r,Ce);const o=Si(r.firestore,Wa),c=RT(o);let d;return d=typeof(t=Je(t))=="string"||t instanceof vh?mC(c,"updateDoc",r._key,t,i,a):dC(c,"updateDoc",r._key,t),MT(o,[d.toMutation(r._key,wi.exists(!0))])}function SC(r,...t){r=Je(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||i0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(i0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,p;if(r instanceof Ce)d=Si(r.firestore,Wa),p=uh(r._key.path),c={next:v=>{t[a]&&t[a](VT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Si(r,_h);d=Si(v.firestore,Wa),p=v._query;const y=new OT(d);c={next:A=>{t[a]&&t[a](new Fa(d,y,v,A))},error:t[a+1],complete:t[a+2]},yC(r._query)}return(function(y,A,b,O){const F=new ET(O),W=new hT(A,F,b);return y.asyncQueue.enqueueAndForget((async()=>uT(await mm(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>cT(await mm(y),W)))}})(Wm(d),p,o,c)}function MT(r,t){return(function(a,o){const c=new Ys;return a.asyncQueue.enqueueAndForget((async()=>KI(await sC(a),o,c))),c.promise})(Wm(r),t)}function VT(r,t,i){const a=i.docs.get(t._key),o=new OT(r);return new Pr(r,o,t._key,a,new yo(i.hasPendingWrites,i.fromCache),t.converter)}function bC(r){return new eg("increment",r)}(function(t,i=!0){(function(o){il=o})(el),Qa(new jr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Wa(new f2(a.getProvider("auth-internal")),new g2(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(y.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fs(uv,cv,t),Fs(uv,cv,"esm2020")})();const wC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),r0=r=>{const t=RC(r);return t.charAt(0).toUpperCase()+t.slice(1)},UT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),IC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var CC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NC=Re.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>Re.createElement("svg",{ref:v,...CC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:UT("lucide",o),...!c&&!IC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Re.createElement(y,A)),...Array.isArray(c)?c:[c]]));const An=(r,t)=>{const i=Re.forwardRef(({className:a,...o},c)=>Re.createElement(NC,{ref:c,iconNode:t,className:UT(`lucide-${wC(r0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=r0(r),i};const DC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],a0=An("arrow-right",DC);const xC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],OC=An("gift",xC);const MC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],VC=An("log-in",MC);const UC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],kC=An("pen-line",UC);const LC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],PC=An("play",LC);const zC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jC=An("rotate-ccw",zC);const BC=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qC=An("share-2",BC);const HC=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],GC=An("shuffle",HC);const FC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],QC=An("skull",FC);const KC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],l0=An("star",KC);const YC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XC=An("triangle-alert",YC);const ZC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$C=An("users",ZC);const JC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],WC=An("zap",JC),kT={apiKey:"AIzaSyDxqdu-Gbd9ZnMCccuUSyDkZ9_dxgIwHJ0",authDomain:"xmas-2025-af028.firebaseapp.com",projectId:"xmas-2025-af028",storageBucket:"xmas-2025-af028.firebasestorage.app",messagingSenderId:"1029943918620",appId:"1:1029943918620:web:590f68fcfb8b40dab09fd9",measurementId:"G-4YY14G3EX8"},Sh=kT.apiKey!=="_apiKey",LT=Sh?E0(kT):null,qd=Sh?o2(LT):null,Hd=Sh?lC(LT):null,o0=["","","","","","","","","","","","","",""," 10 "],tN=r=>r<=2?{text:" ",color:"text-green-400"}:r<=4?{text:" ",color:"text-blue-400"}:r<=6?{text:" ...",color:"text-yellow-400"}:r<=8?{text:" ",color:"text-orange-400"}:{text:" ",color:"text-red-500 font-black animate-pulse"},u0=Re.memo(()=>{const r=Re.useRef(null);return Re.useEffect(()=>{const t=r.current;if(!t)return;const i=t.getContext("2d"),a=()=>{t.width=window.innerWidth,t.height=window.innerHeight};a();const o=Array.from({length:40}).map(()=>({x:Math.random()*t.width,y:Math.random()*t.height,radius:Math.random()*2+1,speed:Math.random()*1+.5}));let c;function d(){i.clearRect(0,0,t.width,t.height),i.fillStyle="rgba(255, 255, 255, 0.2)",o.forEach(p=>{i.beginPath(),i.arc(p.x,p.y,p.radius,0,Math.PI*2),i.fill(),p.y+=p.speed,p.y>t.height&&(p.y=0)}),c=requestAnimationFrame(d)}return d(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),cancelAnimationFrame(c)}},[]),B.jsx("canvas",{ref:r,className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0"})}),Ur=({children:r,className:t=""})=>B.jsx("div",{className:`bg-slate-900/60 backdrop-blur-xl rounded-2xl shadow-2xl p-5 md:p-8 border border-white/10 text-white ${t}`,children:r}),Xn=({onClick:r,children:t,variant:i="primary",className:a="",disabled:o=!1,size:c="md"})=>{const d="rounded-full font-bold transition-all transform active:scale-95 shadow-lg flex items-center justify-center gap-2",p={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-xl"},v={primary:"bg-gradient-to-r from-fuchsia-600 to-purple-600 hover:from-fuchsia-500 hover:to-purple-500 text-white border border-white/20",secondary:"bg-emerald-600 hover:bg-emerald-500 text-white border border-emerald-400/30",neutral:"bg-slate-700 hover:bg-slate-600 text-slate-200 border border-slate-600",danger:"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"};return B.jsx("button",{onClick:r,disabled:o,className:`${d} ${p[c]} ${v[i]} ${a} ${o?"opacity-50 cursor-not-allowed grayscale":""}`,children:t})},eN=()=>{const[r,t]=Re.useState(null),[i,a]=Re.useState(""),[o,c]=Re.useState(""),[d,p]=Re.useState(null),[v,y]=Re.useState(!1),[A,b]=Re.useState(!0),[O,F]=Re.useState(""),[W,st]=Re.useState("");if(!Sh)return B.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-950 text-white p-10 text-center",children:B.jsxs("div",{children:[B.jsx("h1",{className:"text-3xl font-bold mb-4 text-red-500",children:" Firebase"}),B.jsx("p",{children:" (App.jsx) Firebase Config  firebaseConfig "})]})});Re.useEffect(()=>{(async()=>{try{await Gb(qd)}catch(X){console.error(":",X),alert(" Firebase Auth ")}})();const k=Zb(qd,X=>{t(X),b(!1)});return()=>k()},[]),Re.useEffect(()=>{if(r&&!v){const J=localStorage.getItem("xmas_last_room_id");J&&a(J)}},[r]),Re.useEffect(()=>{if(!r||!i)return;const J=Bd(Hd,"xmas_rooms",`room_${i}`),k=SC(J,X=>{if(X.exists()){const nt=X.data();if(p(nt),nt.participants&&nt.participants[r.uid]&&(y(!0),c(nt.participants[r.uid]),nt.phase==="rule-entry")){const gt=nt.rules.find(Lt=>Lt.uid===r.uid);gt&&gt.text&&F(gt.text)}}else p(null)},X=>{console.error("Error listening to room:",X)});return()=>k()},[r,i]);const tt=async()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),await $b(qd),window.location.reload())},ft=()=>{confirm("")&&(localStorage.removeItem("xmas_last_room_id"),window.location.reload())},Et=async()=>{const J=i.toString().trim(),k=o.trim();if(!J||!k)return alert("");a(J),c(k);const X=Bd(Hd,"xmas_rooms",`room_${J}`);try{const nt=await TC(X);if(!nt.exists())await AC(X,{hostId:r.uid,phase:"entry",participants:{[r.uid]:k},rules:[],currentRuleIndex:0,resultMapping:{},matchDetails:{},punishment:"",createdAt:new Date().toISOString()});else{const gt=nt.data();if(gt.phase!=="entry"&&!gt.participants[r.uid])return alert("");await s0(X,{[`participants.${r.uid}`]:k})}localStorage.setItem("xmas_last_room_id",J),y(!0)}catch(nt){console.error(nt),alert(" Firebase Firestore  (Rules)  true ()")}},mt=()=>{const k=` 2025 

1. ${window.location.href}
2. ${i}

`,X=document.createElement("textarea");X.value=k,X.style.position="fixed",X.style.left="-9999px",document.body.appendChild(X),X.focus(),X.select();try{document.execCommand("copy"),alert(" ")}catch{alert(`

${k}`)}document.body.removeChild(X)},Dt=async J=>{if(!i)return;const k=Bd(Hd,"xmas_rooms",`room_${i}`);await s0(k,J)},Wt=()=>{const J=o0[Math.floor(Math.random()*o0.length)];F(J)},It=async J=>{if(!d)return;let k={phase:J};if(J==="rule-entry"&&d.phase==="entry"){const nt=Object.keys(d.participants).map(gt=>({uid:gt,authorName:d.participants[gt],text:""}));k.rules=nt}if(J==="game-playing"&&d.phase==="rule-entry"){const X=[...d.rules];for(let nt=X.length-1;nt>0;nt--){const gt=Math.floor(Math.random()*(nt+1));[X[nt],X[gt]]=[X[gt],X[nt]]}k.rules=X,k.currentRuleIndex=0}if(J==="result-entry"&&(k.resultMapping={}),J==="voting"){const X={};Object.keys(d.participants).forEach(nt=>{X[nt]={giftName:"",votes:1}}),k.matchDetails=X}await Dt(k)},C=async()=>{if(!O.trim())return;const J=d.rules.findIndex(X=>X.uid===r.uid);if(J===-1)return;const k=[...d.rules];k[J].text=O,await Dt({rules:k}),alert("")},S=async()=>{d.currentRuleIndex<d.rules.length-1?await Dt({currentRuleIndex:bC(1)}):It("result-entry")},I=async()=>{W&&(await Dt({[`resultMapping.${r.uid}`]:W}),alert(""))},M=async(J,k)=>{await Dt({[`matchDetails.${J}.giftName`]:k})},N=async(J,k)=>{const X=d.matchDetails[J]?.votes||1;let nt=Math.max(1,Math.min(10,X+k));await Dt({[`matchDetails.${J}.votes`]:nt})},U=async()=>{const J=["","+","","","","","",""],k=J[Math.floor(Math.random()*J.length)];await Dt({punishment:k})};if(A)return B.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});if(!v)return B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-4 flex items-center justify-center relative overflow-hidden",children:[B.jsx(u0,{}),B.jsxs(Ur,{className:"w-full max-w-md z-10 text-center border-t-4 border-t-purple-500",children:[B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx("div",{className:"p-4 bg-purple-500/20 rounded-full",children:B.jsx(OC,{size:48,className:"text-purple-300"})})}),B.jsx("h1",{className:"text-3xl font-black mb-2 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:"2025 "}),B.jsx("p",{className:"text-slate-400 mb-8 text-sm uppercase tracking-widest",children:"Party Online"}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("div",{className:"text-left",children:[B.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" / Nickname"}),B.jsx("input",{type:"text",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800",placeholder:"",value:o,onChange:J=>c(J.target.value)})]}),B.jsxs("div",{className:"text-left",children:[B.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1 mb-1 block",children:" / Room ID"}),B.jsx("input",{type:"number",className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none text-white placeholder-slate-500 transition-all focus:bg-slate-800",placeholder:"8888",value:i,onChange:J=>a(J.target.value)})]}),B.jsxs(Xn,{onClick:Et,size:"lg",className:"w-full mt-4 shadow-purple-900/50",children:[B.jsx(VC,{size:20})," "]}),B.jsx("div",{className:"pt-6 border-t border-white/5",children:B.jsxs("button",{onClick:tt,className:"flex items-center justify-center gap-2 mx-auto text-xs text-slate-500 hover:text-slate-300 transition-colors",children:[B.jsx(jC,{size:12}),"  ()"]})})]})]})]});if(!d)return B.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white",children:"..."});const w=r.uid===d.hostId,jt=Object.entries(d.participants);return B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 font-sans text-white relative pb-20",children:[B.jsx(u0,{}),B.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border-b border-white/5 sticky top-0 z-50 shadow-lg p-3",children:[B.jsxs("div",{className:"flex justify-between items-center mb-3",children:[B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsxs("div",{className:"bg-purple-600 px-3 py-1 rounded-full text-xs font-bold shadow-lg shadow-purple-500/30",children:["Room ",i]}),B.jsx("span",{className:"font-bold truncate max-w-[120px] text-slate-200",children:o})]}),B.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-1 bg-slate-800 px-2 py-1 rounded-full",children:[B.jsx($C,{size:12})," ",jt.length]})]}),B.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar mask-gradient",children:jt.map(([J,k])=>B.jsxs("span",{className:`shrink-0 px-3 py-1 rounded-full text-xs border flex items-center gap-1 transition-all ${J===r.uid?"bg-purple-500/20 border-purple-500/50 text-purple-200":"bg-slate-800 border-slate-700 text-slate-400"}`,children:[J===d.hostId&&B.jsx("span",{className:"text-yellow-400",children:""}),k]},J))})]}),B.jsxs("main",{className:"relative z-10 max-w-2xl mx-auto p-4 flex flex-col gap-6 mt-4",children:[d.phase==="entry"&&B.jsx("div",{className:"animate-fade-in space-y-6",children:B.jsxs(Ur,{className:"text-center py-12 border-t-4 border-t-emerald-500",children:[B.jsx("h2",{className:"text-2xl font-bold mb-2",children:""}),B.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Waiting for players..."}),B.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-8",children:jt.map(([J,k])=>B.jsx("span",{className:"bg-slate-800 text-slate-200 px-4 py-2 rounded-xl text-sm font-bold border border-slate-700",children:k},J))}),B.jsx("div",{className:"mb-6",children:B.jsxs(Xn,{onClick:mt,variant:"secondary",className:"w-full bg-emerald-600/20 text-emerald-300 border-emerald-500/50 hover:bg-emerald-600/40",children:[B.jsx(qC,{size:18})," "]})}),w?B.jsxs(Xn,{onClick:()=>It("rule-entry"),size:"lg",className:"w-full shadow-emerald-900/50",children:[" ",B.jsx(a0,{})]}):B.jsx("p",{className:"text-slate-500 animate-pulse text-sm",children:"..."})]})}),d.phase==="rule-entry"&&B.jsxs("div",{className:"animate-fade-in space-y-6",children:[B.jsxs(Ur,{children:[B.jsxs("h2",{className:"text-xl font-bold text-center mb-1 flex items-center justify-center gap-2",children:[B.jsx(kC,{className:"text-purple-400"})," "]}),B.jsx("p",{className:"text-xs text-slate-400 text-center mb-6",children:""}),B.jsx("div",{className:"mb-4",children:B.jsx("textarea",{className:"w-full p-4 bg-slate-800/50 border border-slate-600 rounded-xl focus:border-purple-500 outline-none resize-none text-lg text-white placeholder-slate-600 min-h-[120px]",placeholder:"...",value:O,onChange:J=>F(J.target.value),disabled:d.rules.find(J=>J.uid===r.uid)?.text!==""})}),B.jsx("div",{className:"flex justify-end mb-6",children:B.jsxs("button",{onClick:Wt,disabled:d.rules.find(J=>J.uid===r.uid)?.text!=="",className:"text-xs text-purple-300 flex items-center gap-1 hover:text-white transition-colors bg-purple-500/10 px-3 py-1.5 rounded-full border border-purple-500/20",children:[B.jsx(GC,{size:12})," "]})}),B.jsx(Xn,{onClick:C,className:"w-full",disabled:!O,children:d.rules.find(J=>J.uid===r.uid)?.text!==""?"...":""})]}),B.jsxs("div",{className:"text-center text-slate-500 text-xs",children:[" ",d.rules.filter(J=>J.text).length," / ",jt.length]}),w&&B.jsx("div",{className:"flex justify-center mt-4",children:B.jsxs(Xn,{variant:"danger",onClick:()=>It("game-playing"),size:"sm",className:"bg-red-500/10 text-red-400 border-red-500/50 hover:bg-red-500 hover:text-white",children:[" ",B.jsx(PC,{size:14})]})})]}),d.phase==="game-playing"&&B.jsxs("div",{className:"animate-fade-in py-6 flex flex-col items-center",children:[B.jsxs("div",{className:"text-slate-400 mb-6 text-center w-full",children:[B.jsxs("div",{className:"flex justify-between text-xs mb-2 px-2",children:[B.jsxs("span",{children:["Round ",d.currentRuleIndex+1]}),B.jsxs("span",{children:["Total ",d.rules.length]})]}),B.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:B.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(d.currentRuleIndex+1)/d.rules.length*100}%`}})})]}),B.jsxs(Ur,{className:"w-full text-center py-16 transform transition-all duration-500 hover:scale-[1.02] border-t-4 border-t-purple-500 relative overflow-hidden group",children:[B.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),B.jsx("div",{className:"mb-6",children:B.jsxs("span",{className:"bg-slate-800 text-slate-300 px-4 py-1.5 rounded-full text-xs font-bold border border-slate-700",children:[" ",d.rules[d.currentRuleIndex].authorName," "]})}),B.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-tight drop-shadow-lg px-2",children:d.rules[d.currentRuleIndex].text||""})]}),w&&B.jsx("div",{className:"mt-8 w-full",children:B.jsx(Xn,{onClick:S,size:"lg",className:"w-full",children:d.currentRuleIndex<d.rules.length-1?" ":" "})})]}),d.phase==="result-entry"&&B.jsxs("div",{className:"animate-fade-in space-y-6",children:[B.jsxs(Ur,{className:"border-t-4 border-t-blue-500",children:[B.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:" "}),B.jsxs("div",{className:"space-y-4",children:[B.jsxs("select",{className:"w-full p-4 bg-slate-800 border border-slate-600 rounded-xl text-lg text-white focus:border-blue-500 outline-none appearance-none",value:W,onChange:J=>st(J.target.value),children:[B.jsx("option",{value:"",children:"..."}),jt.map(([J,k])=>B.jsxs("option",{value:J,children:[k," "]},J))]}),B.jsx(Xn,{onClick:I,className:"w-full bg-blue-600 border-blue-400 hover:bg-blue-500",children:""})]})]}),B.jsxs("div",{className:"text-center",children:[B.jsx("h3",{className:"text-xs text-slate-500 mb-2",children:""}),B.jsx("div",{className:"flex flex-wrap justify-center gap-1.5",children:Object.keys(d.resultMapping).map(J=>B.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-[10px] px-2 py-1 rounded border border-blue-500/30",children:d.participants[J]},J))})]}),w&&B.jsx("div",{className:"flex justify-center mt-4",children:B.jsxs(Xn,{variant:"danger",onClick:()=>It("voting"),className:"w-full",children:[" ",B.jsx(a0,{})]})})]}),d.phase==="voting"&&B.jsxs("div",{className:"animate-fade-in space-y-4 pb-20",children:[B.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-4 rounded-xl flex gap-3 items-start mb-4",children:[B.jsx(XC,{className:"text-yellow-500 shrink-0 mt-0.5",size:20}),B.jsxs("div",{children:[B.jsx("h2",{className:"text-sm font-bold text-yellow-500",children:""}),B.jsx("p",{className:"text-xs text-yellow-200/70 mt-1",children:" + "})]})]}),jt.map(([J,k])=>{const X=d.resultMapping[J],nt=d.participants[X]||"",gt=d.matchDetails[J]||{giftName:"",votes:1},Lt=gt.votes,x=tN(Lt);return B.jsxs(Ur,{className:"p-5",children:[B.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/10 pb-3",children:[B.jsxs("div",{className:"text-sm text-slate-300",children:[" ",B.jsx("span",{className:"font-bold text-white text-base",children:nt}),"  ",k]}),B.jsxs("div",{className:"flex flex-col items-end",children:[B.jsx("span",{className:`text-2xl font-black ${x.color}`,children:Lt}),B.jsx("span",{className:"text-[10px] text-slate-500",children:""})]})]}),B.jsx("div",{className:"mb-4",children:B.jsx("input",{type:"text",className:"w-full bg-transparent border-b border-slate-600 p-2 text-sm outline-none focus:border-purple-500 text-white placeholder-slate-600 transition-colors",placeholder:" ()...",defaultValue:gt.giftName,onBlur:K=>M(J,K.target.value)})}),B.jsxs("div",{className:"flex justify-between items-center bg-slate-950/30 p-2 rounded-lg",children:[B.jsx("div",{className:`text-xs font-bold ${x.color}`,children:x.text}),B.jsxs("div",{className:"flex gap-2",children:[B.jsx("button",{onClick:()=>N(J,-1),className:"w-8 h-8 rounded-lg bg-slate-700 text-slate-300 flex items-center justify-center hover:bg-slate-600",children:"-"}),B.jsx("button",{onClick:()=>N(J,1),className:"w-8 h-8 rounded-lg bg-red-600 text-white flex items-center justify-center hover:bg-red-500 active:scale-95 transition-transform shadow-lg shadow-red-900/50",children:"+"})]})]})]},J)}),w&&B.jsx("div",{className:"fixed bottom-6 left-0 w-full px-4 z-50 flex justify-center",children:B.jsx(Xn,{variant:"danger",className:"w-full max-w-2xl shadow-2xl border-t border-red-400",onClick:()=>It("result"),children:"  "})})]}),d.phase==="result"&&B.jsxs("div",{className:"animate-fade-in space-y-6 pb-20",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsxs("h2",{className:"text-4xl font-black text-yellow-400 drop-shadow-xl mb-2 flex items-center justify-center gap-2",children:[B.jsx(l0,{fill:"currentColor"}),"  ",B.jsx(l0,{fill:"currentColor"})]}),B.jsx("p",{className:"text-slate-400",children:""})]}),jt.map(([J])=>({uid:J,...d.matchDetails[J],giverName:d.participants[d.resultMapping[J]]})).sort((J,k)=>k.votes-J.votes).slice(0,3).map((J,k)=>B.jsxs("div",{className:`relative rounded-2xl p-5 shadow-xl flex items-center gap-4 border ${k===0?"bg-gradient-to-r from-yellow-900/80 to-slate-900 border-yellow-500 transform scale-105 z-10":"bg-slate-800/80 border-slate-700"}`,children:[k===0&&B.jsx("div",{className:"absolute -top-3 -right-2 text-3xl animate-bounce",children:""}),B.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-xl shrink-0 ${k===0?"bg-yellow-500 shadow-lg shadow-yellow-500/50":k===1?"bg-slate-500":"bg-amber-700"}`,children:["#",k+1]}),B.jsxs("div",{className:"flex-1 min-w-0",children:[B.jsx("div",{className:"font-bold text-white text-lg truncate",children:J.giverName}),B.jsx("div",{className:"text-sm text-slate-400 truncate",children:J.giftName||""})]}),B.jsxs("div",{className:"text-right",children:[B.jsx("div",{className:"text-3xl font-black text-red-500",children:J.votes}),B.jsx("div",{className:"text-[10px] text-slate-500 uppercase",children:"Points"})]})]},J.uid)),B.jsxs(Ur,{className:"bg-red-950/50 border-red-900/50 text-center mt-8 backdrop-blur-sm",children:[B.jsxs("h3",{className:"text-lg font-bold text-red-400 mb-4 flex justify-center items-center gap-2",children:[B.jsx(QC,{})," "]}),B.jsx("div",{className:"text-2xl md:text-3xl font-black text-white mb-6 px-4 leading-tight bg-black/20 py-4 rounded-xl",children:d.punishment}),w&&B.jsxs(Xn,{variant:"neutral",size:"sm",onClick:U,className:"mx-auto bg-slate-800 text-slate-300 border-slate-700",children:[B.jsx(WC,{size:14})," "]})]}),B.jsx("div",{className:"text-center mt-8",children:B.jsx(Xn,{variant:"secondary",onClick:ft,className:"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white",children:""})})]})]}),B.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 
        .animate-fade-in { animation: fade-in 0.5s ease-out forwards; } 
        .no-scrollbar::-webkit-scrollbar { display: none; } 
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .mask-gradient { mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); }
      `})]})};SA.createRoot(document.getElementById("root")).render(B.jsx(Re.StrictMode,{children:B.jsx(eN,{})}));
